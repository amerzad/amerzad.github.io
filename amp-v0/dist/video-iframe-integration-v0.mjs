(function(){function e(a){return a||{}}let f;function g(a,b,c){let d=h();a.addEventListener(b,a=>{try{return c(a)}catch(l){throw self.__AMP_REPORT_ERROR(l),l}},d?void 0:!1)}function h(){if(void 0!==f)return f;f=!1;try{let a={get capture(){f=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(a){}return f}function k(a){new Promise(b=>{b(a())})}
/*
  https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function m(a){let b=!1,c=null,d=a;return(...a)=>{b||(c=d.apply(self,a),b=!0,d=null);return c}}let n=self.AMP_CONFIG||{},p=("string"==typeof n.cdnProxyRegex?new RegExp(n.cdnProxyRegex):n.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function q(a){if(self.document&&self.document.head&&(!self.location||!p.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}n.cdnUrl||q("runtime-host");n.geoApiUrl||q("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};function r(a,b,c){g(a,b,c)}function t(a){try{return JSON.parse(a)}catch(b){return null}}function u(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter((function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})));c.push.apply(c,d)}return c}function v(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?u(Object(c),!0).forEach((function(b){var d=c[b];b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):u(Object(c)).forEach((function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))}))}return a}function x(a,...b){if(!a)throw Error(`[<amp-video-iframe>] ${b.join(" ")} https://go.amp.dev/c/amp-video-iframe`);return a}let y="pause play mute unmute fullscreenenter fullscreenexit showcontrols hidecontrols".split(" ");function z(a){return()=>{try{k(()=>a())}catch(b){}}}function A(a,b){return b?(x(b.on,"listenTo('jwplayer', myjwplayer) takes a jwplayer instance as ","second argument"),b):x(a.c.jwplayer,"listenTo('jwplayer') expects a global jwplayer() in window.")()}function B(a,b,c){let d=x(c||a.c.videojs,"Video.JS not imported or initializer undefined.")(b);d.ready(()=>{["playing","pause","ended"].forEach(b=>{d.on(b,()=>a.postEvent(b))});if(3<=d.readyState())a.postEvent("canplay");else d.on("canplay",()=>a.postEvent("canplay"));r(b,"volumechange",()=>C(a,d.volume()));a.method("play",()=>d.play());a.method("pause",()=>d.pause());a.method("mute",()=>d.muted(!0));a.method("unmute",()=>d.muted(!1));a.method("showcontrols",()=>d.controls(!0));a.method("hidecontrols",()=>d.controls(!1));a.method("fullscreenenter",()=>d.requestFullscreen());a.method("fullscreenexit",()=>d.exitFullscreen())})}function C(a,b){.01>b?(a.l=!0,a.postEvent("muted")):a.l&&(a.l=!1,a.postEvent("unmuted"))}function D(a,b,c){let d=a.w++,w=v({id:d},b);a.c.parent&&a.c.parent.postMessage(w,"*");c&&(a.h[d]=c)}class E{constructor(a){this.C=!0;this.w=0;this.h={};this.c=a;this.j={};this.m=m(()=>{F(this.c,a=>{var b=a.id;if("number"===typeof b&&isFinite(b)&&this.h[b])(0,this.h[b])(a.args),delete this.h[b];else if("method"==a.event&&(a=a.method,a in this.j))this.j[a]()})});this.o=this.l=!1;this.A=m(()=>{let{canonicalUrl:a,sourceUrl:c}=t(this.c.name);return{canonicalUrl:a,sourceUrl:c}})}getMetadata(){return this.A()}method(a,b){x(-1<y.indexOf(a),`Invalid method ${a}.`);let c="play"==a||"pause"==a?z(b):b;this.j[a]=c;this.m()}listenTo(a,b,c){x(!this.o,"`listenTo` is meant to be used once per page.");let d={jwplayer:()=>{x(!c,"listenTo('jwplayer', opt_instance) does not take an initializer.");this.B(A(this,b))},videojs:()=>{B(this,x(b,"listenTo('videojs', element) expects a second argument"),c)}};x(d[a.toLowerCase()],`Invalid listener type [${a}].`,`Valid types are [${Object.keys(d).join(", ")}]`)();this.o=!0}B(a){["error","setupError"].forEach(b=>{a.on(b,()=>{x.apply(null,[!1].concat(arguments));this.postEvent("error")})});["adSkipped","adComplete","adError"].forEach(b=>{a.on(b,()=>this.postEvent("ad_end"))});a.on("adStarted",()=>this.postEvent("ad_start"));let b={play:"playing",ready:"canplay",pause:"pause"};Object.keys(b).forEach(c=>{a.on(c,()=>this.postEvent(b[c]))});a.on("volume",a=>C(this,a.volume));this.method("play",()=>a.play());this.method("pause",()=>a.pause());this.method("mute",()=>a.setMute(!0));this.method("unmute",()=>a.setMute(!1));this.method("showcontrols",()=>a.setControls(!0));this.method("hidecontrols",()=>a.setControls(!1));this.method("fullscreenenter",()=>a.setFullscreen(!0));this.method("fullscreenexit",()=>a.setFullscreen(!1))}postEvent(a){D(this,e({event:a}))}postAnalyticsEvent(a,b){D(this,e({event:"analytics",analytics:{eventType:a,vars:b}}))}getIntersection(a){this.m();D(this,e({method:"getIntersection"}),a)}}function F(a,b){r(a,"message",a=>{(a=t(a.data))&&b(a)})}(function(a){x(!a.__AMP__VIDEO_IFRAME__,"video-iframe-integration-v0.js should only be included once.");a.__AMP__VIDEO_IFRAME__=!0;a.__AMP_REPORT_ERROR=console.error.bind(console);let b=new E(a),c=a.AmpVideoIframe=a.AmpVideoIframe||[];c.push=a=>a(b);c.forEach(c.push)})(self)})();