{"version":3,"mappings":"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","names":["tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","logs","getExperimentToggles","win","experimentsString","LOCAL_STORAGE_KEY","tokens","toggles","Object","i","getAmpdoc","nodeOrDoc","getAmpdocService","getServiceInternal","id","b","holder","isServiceRegistered","services","s","getServices","service","sum","values","a","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","length","source","forEach","key","d","defineProperty","value","configurable","writable","getOwnPropertyDescriptors","defineProperties","AXES","DEFAULT_REST_VALUES","alpha","beta","gamma","DEFAULT_RANGES","deviceOrientationHandler_","event","DeviceOrientationEvent","screen","angle","orientation","tmp","currentValue","axis","DELTA_CONST","Math","computedValue_","smoothing_","g","smoothingPoints_","shift","avg","restValues_","range_","percentValue","eventRange","eventValue","triggerEvent_","opt_initial","clamp","percent","eventInit","detail","dict","opt_eventInit","c","type","action_","trigger","element","createCustomEvent","LOW","AmpOrientationObserver","AMP","constructor","super","this","ampdoc_","buildCallback","document","topWin","isEmbed","experimentId","frequency","Array","allowed","meta","optedInExperiments","params","queryString","match","param","parseQueryString_","ampdocFieExperimentOn","experimentToggles","v","h","u","ampdoc","getServiceForDocOrNullInternal","getAmpdocServiceHolder","whenFirstVisible","then","init_","bind","Error","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","providedRange","parseAttributes_","getAttribute","rangeName","rangeArray","parseInt","hasAttribute","Number","DEFAULT_SMOOTHING_PTS","addEventListener","TAG"],"sources":["src/url-try-decode-uri-component.js","src/url-parse-query-string.js","src/config.js","src/log.js","src/experiments.js","src/service.js","src/utils/math.js","extensions/amp-orientation-observer/0.1/amp-orientation-observer.js","src/utils/object.js","src/event-helper.js","src/action-constants.js","src/services.js","src/url.js","src/ampdoc-fie.js"],"file":"amp-orientation-observer-0.1.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}