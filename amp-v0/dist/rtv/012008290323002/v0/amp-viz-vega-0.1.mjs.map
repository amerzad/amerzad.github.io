{"version":3,"mappings":"mFAgBA,IAAIA;;iECWGC,SAASA,EAAuBC,EAAWC,EAAW,IAC3D,IACE,OAAOC,mBAAmBF,GAC1B,MAAOG,GACP,OAAOF,OCbLG,EAAQ,yCCDRC,EAAYC,OAAAA,UAAAA,aCMZC,EAAMC,KAAAA,YAAmB,GAOzBC,GAC4B,iBAAxBF,EAAAA,cACJ,IAAIG,OAAOH,EAAAA,eACXA,EAAAA,gBACJ,sDAYFI,SAASA,EAAWC,GAOlB,GALKJ,KAAAA,UAAkBA,KAAAA,SAAAA,QAKnBA,KAAAA,WAAiBC,EAAAA,KAAmBD,KAAAA,SAAAA,SAAxC,CAIA,IAAMK,EAASL,KAAAA,SAAAA,KAAAA,cACZ,cAAaI,OAERC,GAAUA,EAAAA,aAAoB,YASpCN,EAAAA,QAAiBI,EAAW,gBA2BtBJ,EAAAA,WAAoBI,EAAW,eC+nBzCH,KAAAA,UAAiBA,KAAAA,WAAkB,CACjCM,KAAM,KACNC,IAAK,KACLC,aAAc,UAGVC,EAAOT,KAAAA,UAoNNU,SAASA,EACdC,EACAC,EACAC,EACAC,EACAC,GA1KA,IAAKN,EAAAA,KAoBH,MAAUO,MAAM,qCAhBTP,EAAAA,KA8KFH,OACLK,EACAC,EACAC,EACAC,EACAC,OAZFE,OACAC,OACAC,OACAC,OACAC,OACAC,GCp6BF,IAAIC,ECRG,MAAMC,EAIXC,YAAYC,GAEVC,KAAAC,EAAiBF,EASjBC,KAAAE,EANAF,KAAAG,EAAa,EASbH,KAAAI,EAAcjC,OAAAA,OAAc,MAS9BkC,IAAIC,GACF,QAASN,KAAAI,EAAYE,GAOvBC,IAAID,GAAK,IACDE,EAAYR,KAAAI,EAAYE,GAC9B,GAAIE,EAEF,OADAA,EAAAA,SAAqBR,KAAAE,EACdM,EAAAA,QASXC,IAAIH,EAAKI,GACFV,KAAAK,IAASC,IACZN,KAAAG,IAEFH,KAAAI,EAAYE,GAAO,CAACI,QAAAA,EAASC,OAAQX,KAAAE,GAQrC,KAPAU,KAOIT,GAPJS,KAOkBX,GAAlB,CAKMY,EAZND,KAYcR,EACd,IAAIU,EAbJF,KAaaV,EAAe,EAE5B,IAAA,IAAWI,KAAOO,EAAO,CAAA,IAChBF,OAAAA,GAAUE,EAAMP,GACvB,GAAIK,EAASG,EAAQ,CACnBA,EAASH,EACTI,IAAAA,EAAYT,QAIEU,IAAdD,WACKF,EAAME,GAxBfH,KAyBET,OC1DN,IAAIc,EAQAJ,WA8PYK,EACdC,EACAC,EACAC,EAAa,UAEbtC,EACe,MAAboC,EACA,0BACAC,EACAC,GAG0CF,IAAAA,EAAAA,EAlC5C,GAAkB,iBAAPG,EAAX,CA3LKL,IACHA,EAAuC5C,KAAAA,SAAAA,cAA4B,KACnEwC,EAAQxC,KAAAA,kBAAyBA,KAAAA,gBAAuB,IAAIwB,EAAS,OAiBnC0B,IAAAA,EAdcV,EActBI,EAdPA,EAerB,GAAIM,GAAaA,EAAAA,IAfOD,GAgBtBE,EAAOD,EAAAA,IAhBeD,OAexB,CAIAL,EAAAA,KAnBwBK,EAuBnBL,EAAAA,WACHA,EAAAA,KAASA,EAAAA,MAGX,IAAMQ,EAAiC,CACrCC,KAAMT,EAAAA,KACNU,SAAUV,EAAAA,SACVW,KAAMX,EAAAA,KACNY,SAAUZ,EAAAA,SACVa,KAAgB,KAAVb,EAAAA,KAAgB,GAAKA,EAAAA,KAC3Bc,SAAUd,EAAAA,SACVe,OAAQf,EAAAA,OACRgB,KAAMhB,EAAAA,KACNiB,OAAQ,MAKe,MAArBT,EAAAA,SAAc,KAChBA,EAAAA,SAAgB,IAAMA,EAAAA,UAKxB,GACoB,SAAjBA,EAAAA,UAAyC,IAAbA,EAAAA,MACX,UAAjBA,EAAAA,UAA0C,KAAbA,EAAAA,KAE9BA,EAAAA,KAAY,GACZA,EAAAA,KAAYA,EAAAA,SAadA,EAAAA,OAPIR,EAAAA,QAAwB,QAAZA,EAAAA,OACLA,EAAAA,OACiB,SAAjBQ,EAAAA,UAA6BA,EAAAA,KAG7BA,EAAAA,SAAgB,KAAOA,EAAAA,KAFvBA,EAAAA,KASPF,GACFA,EAAAA,IAvEsBD,EAoE+CG,GAMvED,EANuEC,IAsHrEH,EAAAA,UAAAA,EAAAA,UAAAA,aAAAA,EAAAA,UAAAA,aAAAA,EAAAA,YAGAa,EAAAA,EAAAA,SChOIC,EAAQC,EAAAA,OAAgBC,GAC9BC,EAAgB,GAATH,GAAcC,EAAAA,QD+NIC,aC/NmBF,IAAUA,GD2PtDrD,EA/BEuC,GAgCuC,UAAAkB,KAFGrB,GAG1C,4HAGAC,EACAC,EAP0CF,GErH9CsB,SAASA,EAAqBC,GAC5B,IAAIC,EAAoB,GACxB,IACM,iBAAkBD,IACpBC,EAAoBD,EAAAA,aAAAA,QA5KAE,2BA8KtB,MAAO5E,IANwB,IAS3B6E,EAASF,EAAoBA,EAAAA,MAAwB,YAAc,GAEnEG,EAAU3E,OAAAA,OAAc,MAC9B,IAAK,IAAI4E,EAAI,EAAGA,EAAIF,EAAAA,OAAeE,IACT,GAApBF,EAAOE,GAAPF,SAGgB,KAAhBA,EAAOE,GAAG,GACZD,EAAQD,EAAOE,GAAPF,OAAiB,KAAM,EAE/BC,EAAQD,EAAOE,KAAM,GAGzB,OAAOD,EC1BFE,SAASA,EAAWN,EAAKO,GAC9BP,EAAmBA,EA8HZA,YA9HYA,EA8HMA,UA9HNA,GA+TQ,CAC3B,IAAIQ,EA1HyBC,EA0HdA,eACVD,IACHA,EA5H2BC,EA4HhBA,eAAwB,IAErClC,EAAOiC,EA7HDE,EADWC,EArMcJ,GAuM1BG,EAAAA,MAGHA,EAAAA,IAAQ,IAAIA,EAAAA,KAAOA,EAAAA,SAEnBA,EAAAA,KAAS,KACTA,EAAAA,QAAY,KAGRA,EAAAA,SACFA,EAAAA,QAAUA,EAAAA,MAjNd,OAoNAE,EAAOF,EAAAA,IChSFG,SAASA,EAAaC,EAAMC,GACjC,IACE,OAdiCC,KAAAA,MAchBF,GACjB,MAAOxF,GAIP,OAHIyF,GACFA,EAAazF,GAER,MCiJT2F,SAAAA,EAAAA,GACE,MACE,iBAAmB1C,EAAA2C,QAAAC,aAA0B,OAAS,gBApI1DC,SAAAA,EAAAA,GAKE,GAAI7C,EAAA8C,EAAkB,CACpB9C,EAAA+C,EAAwCT,EACtCtC,EAAA8C,EACCE,IACClF,GACGkF,EACD,8DACAA,KbrINtG,IAOJA,EAAWuG,QAAAA,aAAgBlD,IANzB,IAAAsC,EAAO3F,EawIL,OAAO2F,EAQP,OCinB6CN,EDjnBtB/B,EAAAyB,ICinByC,ODjnBzDyB,UACyBlD,EAAAmD,EAAY,IADrCD,KAEEE,GAAQA,EAAAA,QAFVF,KAGEG,IACLrD,EAAA+C,EAAaM,IAmCrBC,SAAAA,EAAAA,GAaE,OAZqBC,IAAIN,QAAQ,CAACO,EAASC,KACzCzD,EAAA0D,EAAAC,MAAAC,KAC8B5D,EAAA+C,EAC5B,CAACc,EAAOC,KACFD,GACFJ,EAAOI,GAETL,EAA0CM,OAKzCP,KAKJO,GCkiBgD/B,EDjiBtB/B,EAAAyB,ICmiB3B,SDniBSyB,cAA0C,KExGvD,IFyG+Ca,IAAAA,EAAAA,EAAAA,EEzGxCC,EAAAA,YACLA,EAAAA,YAAmBA,EAAAA,YFyGbhE,EAAAiE,EAAcH,EAAkBI,CAACC,GAAMnE,EAAA+D,IAClC/D,EAAAoE,IACGC,EAAIrE,EAAAsE,EAAsBC,EAAAA,EAAqB,SACrDvE,EAAAiE,EAAAO,MAAkBH,IAEfrE,EAAAyE,IACGC,EAAI1E,EAAA2E,EAAuBJ,EAAAA,EAAqB,UACtDvE,EAAAiE,EAAAW,OAAmBF,IAGrB1E,EAAAiE,EAAAY,SAAqB,CAAC7E,EAAAsE,EAAqBtE,EAAA2E,IAC3C3E,EAAAiE,EAAAa,YAYRP,SAAAA,EAAAA,EAAgBQ,GAAe,IACvBC,EAAIhF,EAAA+C,EAAAkC,QACV,IAAKD,EACH,OAAO,EAET,GVpLsB,kBUoLHA,GVpLeE,SUoLfF,GACjB,OAAOA,EAET,GVlMyB,oBAzCpB/H,EAAAA,KU2OQ+H,GAAI,CACf,GAAqB,SAAjBD,EACF,OAAQC,EAAAA,MAAU,IAAMA,EAAAA,OAAW,GAC9B,GAAqB,UAAjBD,EACT,OAAQC,EAAAA,KAAS,IAAMA,EAAAA,QAAY,GAGvC,OAAO,EAhPJ,MAAMG,UAAmBC,IAAAA,YAE9BvG,YAAY8D,GACV0C,MAAM1C,GASN5D,KAAAoE,EAHApE,KAAA+D,EAHA/D,KAAAgE,EAAa,KAYbhE,KAAA0F,EAHA1F,KAAAqF,GAAqB,EASrBrF,KAAA4F,EAHA5F,KAAAuF,EAAsB,EAetBvF,KAAAkF,EANAlF,KAAAgF,EAHAhF,KAAA2E,EAAa,KAaf4B,kBAAkBC,GAChB,MGnCKC,SHmCsBD,GGlCfE,gBHkCeF,GGjCjBG,cHiCiBH,GG/BvBI,QH+BuBJ,GG9BlBK,aH8BkBL,GG7BtBM,SH6BsBN,GG5BlBO,aH4BkBP,EAI7BQ,gBAEmBtE,IAAAA,EAAAA,KAAAA,IHsDnB,GAAIA,EAAAA,0BACF,IAAAY,EAAOZ,EAAAA,8BADT,CAGAA,EAAAA,0BAA+BvE,OAAAA,OAAc,MACvC2E,EAAUJ,EAAAA,0BAGhB,GAAIA,EAAAA,WACF,IAAK,IAAMuE,KAAgBvE,EAAAA,WAAgB,CACzC,IAAMwE,EAAYxE,EAAAA,WAAeuE,qBACtBC,GAAuC,GAAbA,GAA+B,GAAbA,IACrDpE,EAAQmE,GAAgBE,KAAAA,SAAgBD,GAK9C,GACExE,EAAAA,YACA0E,MAAAA,QAAc1E,EAAAA,WAAe,sBACe,EAA5CA,EAAAA,WAAe,oBAAfA,SAEM2E,EAAU3E,EAAAA,WAAe,oBACzB4E,EAAO5E,EAAAA,SAAAA,KAAAA,cACX,wCAEQ,CACF6E,EAAqBD,EAAAA,aAAkB,WAAlBA,MAAmC,KAC9D,IAAK,IAAIvE,EAAI,EAAGA,EAAIwE,EAAAA,OAA2BxE,KACC,GAA1CsE,EAAAA,QAAgBE,EAAmBxE,MACrCD,EAAQyE,EAAmBxE,KAAM,GAMzC5E,OAAAA,OAAc2E,EAASL,EAAqBC,IAE5C,GACEA,EAAAA,YACA0E,MAAAA,QAAc1E,EAAAA,WAAe,sBACe,EAA5CA,EAAAA,WAAe,oBAAfA,OACA,CACM2E,EAAU3E,EAAAA,WAAe,oBAClBA,EAAAA,EAAAA,SAAAA,cAA6BA,EAAAA,SAAAA,KR5ItC8E,EAAqCrJ,OAAAA,OAAc,MACzD,GAAKsJ,EAKL,IADA,IAAIC,EACIA,EAAQzJ,EAAAA,KAAWwJ,IACnBhJ,EAAOb,EAAuB8J,EAAM,GAAIA,EAAM,IAC9CC,EAAQD,EAAM,GAChB9J,EAAuB8J,EAAM,GAANA,QAAiB,MAAO,KAAMA,EAAM,IAC3D,GACJF,EAAO/I,GAAQkJ,EATf1G,EAAOuG,EQ4IP,IAASzE,EAAI,EAAGA,EAAIsE,EAAAA,OAAgBtE,IAC5B6E,EFsLHC,EEtLmB,KAAIR,EAAQtE,MACrB,KAAT6E,IACF9E,EAAQuE,EAAQtE,KAAM,GAEX,KAAT6E,IACF9E,EAAQuE,EAAQtE,KAAM,IG1G1BhE,IHCc+I,EGAab,gBACzB,oCAOFjH,KAAA2E,EAAyC3E,KAAA0C,IAAAqF,GAqGFnE,EApGGoE,KAoGHpE,QP7J/B,WAAApB,KO6J6CyF,UPvIvD,QAA+BjH,IAA3BpB,EACKA,IAAAA,EAAAA,MADT,CAaA,IACE,IAAMsI,ESuZ6BjD,ETvZvBG,cADV,IAEI+C,EAAcD,EAAAA,cAAkB,OAChCE,EAAYF,EAAAA,cAAkB,SACpCC,YAAwBC,GAGxBpK,EAAOmK,EAAAA,cAAiC,gBAAkBC,EAC1D,MAAOpK,GACPA,GAAO,EAlBD4B,EAAAA,EAAAA,EAJR5B,ESmfSqK,EA9E4BpD,EA8E5BoD,iBA9EqCC,WTxXvCA,QAAiB,OAAS,eSwXIrD,EA6CrCoD,UAAAA,IADeE,oBAETC,EA9CwCF,WTxXvCA,QAAiB,OAAS,wBSua3BG,EA/C+BxD,EA+CpBoD,iBAA6BG,GA/CTvD,EAgDrCoD,UAAAA,OAJeE,qBFzUS,GADNG,EACZC,QAIJ5J,EACoB,GANJ2J,EAMdC,OACA,2DACAhF,EA5GwCqE,OA+GpCY,EAXUF,EAWM,GEkexBG,EACqB,UFjeGD,EEietBhF,SFjesBgF,EEketBhF,aAAqB,SACyB,oBFnexBgF,EEmetBhF,aAAqB,QAArBA,cFpeA7E,EACE2J,EACA,oEACA/E,EAnHwCqE,OAsH1ChK,EAAO4K,EAAAA,aAnBQ5K,OAAA,EAnGfgC,KAAA+D,EAA0C/F,EAC1CgC,KAAAoE,EAAYpE,KAAA4D,QAAAC,aAA0B,OACtC7D,KAAAqF,EAAqBrF,KAAA4D,QAAAkF,aAA0B,kBAC/C9I,KAAA0F,EAAsB1F,KAAA4D,QAAAkF,aAA0B,mBAEhD/J,EACEiB,KAAA+D,GAAoB/D,KAAAoE,EACpB,0GAEAT,EAAAA,OAGF5E,IACIiB,KAAA+D,GAAoB/D,KAAAoE,GACtB,wJAGAT,EAAAA,OAGE3D,KAAAoE,GACFlD,EAAelB,KAAAoE,EAAWpE,KAAA4D,QAAcD,EAAAA,OAK5CoF,iBACEC,KAyBAhE,EAzBAgE,KAyBkBpF,QAAAqF,cAAAC,cAAyC,OAzB3DF,KA2BAG,iBA3BAH,KA2BsBhE,GAAiB,GA3BvCgE,KA4BApF,QAAAwF,YA5BAJ,KA4ByBhE,GA3BzB,OAAOlB,EAAAA,MAAAuF,KAAsB,IAAM9E,EAAAA,OAIrC+E,kBAAkB,IACVC,EAAMvJ,KAAAwJ,eACZ,GACExJ,KAAAuF,GAAuBgE,EAAAA,OACvBvJ,KAAA4F,GAAwB2D,EAAAA,OAI1BvJ,KAAAuF,EAAsBgE,EAAAA,MACtBvJ,KAAA4F,EAAuB2D,EAAAA,OACnBvJ,KAAAkF,GACFX,EAAAA,OA4JgC8B,CAAAA,IACpCA,EAAAA,gBAAoB,eAAgBD,EI3RnBqD,sGJ0RmBpD,CAAtChI,KAAAgI","names":["resolved","tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","toString_","Object","env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","logs","userAssert","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","Error","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","scopeSelectorSupported","LruCache","constructor","capacity","this","capacity_","access_","size_","cache_","has","key","get","cacheable","put","payload","access","evict_","cache","oldest","oldestKey","undefined","a","assertHttpsUrl","urlString","elementContext","sourceName","url","opt_cache","d","info","href","protocol","host","hostname","port","pathname","search","hash","origin","endsWith","index","string","suffix","g","test","getExperimentToggles","win","experimentsString","LOCAL_STORAGE_KEY","tokens","toggles","i","getService","id","services","holder","s","getServices","b","tryParseJson","json","opt_onFailed","JSON","getName_","element","getAttribute","loadData_","inlineData_","data_","err","Promise","Services","src_","res","data","renderGraph_","parsePromise","resolve","reject","vega_","parse","spec","error","chartFactory","container_","parent","chart_","opt_initial","el","useDataWidth_","w","measuredWidth_","getDataPadding_","width","useDataHeight_","h","measuredHeight_","height","viewport","update","widthOrHeight","p","padding","isFinite","AmpVizVega","AMP","super","isLayoutSupported","layout","FIXED","FIXED_HEIGHT","RESPONSIVE","FILL","FLEX_ITEM","FLUID","INTRINSIC","buildCallback","experimentId","frequency","Math","Array","allowed","meta","optedInExperiments","params","queryString","match","value","param","parseQueryString_","experimentToggles","vg","getInlineData_","tagName","doc","testElement","testChild","root","selector","unique","scopedSelector","elements","dom","scripts","child","m","hasAttribute","layoutCallback","initialize_","ownerDocument","createElement","applyFillContent","appendChild","then","onLayoutMeasure","box","getLayoutBox","CSS"],"sources":["src/resolved-promise.js","src/url-try-decode-uri-component.js","src/url-parse-query-string.js","src/types.js","src/config.js","src/log.js","src/css.js","src/utils/lru-cache.js","src/url.js","src/string.js","src/experiments.js","src/service.js","src/json.js","extensions/amp-viz-vega/0.1/amp-viz-vega.js","src/services.js","src/dom.js","src/layout.js","build/amp-viz-vega-0.1.css.js"],"file":"amp-viz-vega-0.1.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}