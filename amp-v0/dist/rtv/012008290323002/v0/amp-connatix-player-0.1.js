(self.AMP=self.AMP||[]).push({n:"amp-connatix-player",v:"2008290323002",f:(function(AMP,_){
'use strict';var d="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function g(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var e=b[c];if(e&&e.Math==Math)return}(function(){throw Error("Cannot find global object");})()}g(this);"function"===typeof Symbol&&Symbol("x");var h;
if("function"==typeof Object.setPrototypeOf)h=Object.setPrototypeOf;else{var k;a:{var n={a:!0},p={};try{p.__proto__=n;k=p.a;break a}catch(a){}k=!1}h=k?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r=h;var t=self.AMP_CONFIG||{},u=("string"==typeof t.cdnProxyRegex?new RegExp(t.cdnProxyRegex):t.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function v(a){if(self.document&&self.document.head&&(!self.location||!u.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}t.cdnUrl||v("runtime-host");t.geoApiUrl||v("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var w=self.__AMP_LOG;/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function x(a){a=AMP.BaseElement.call(this,a)||this;a.l="";a.j="";a.h="https://cdm.connatix.com";a.c=null;return a}var y=AMP.BaseElement;x.prototype=d(y.prototype);x.prototype.constructor=x;if(r)r(x,y);else for(var z in y)if("prototype"!=z)if(Object.defineProperties){var A=Object.getOwnPropertyDescriptor(y,z);A&&Object.defineProperty(x,z,A)}else x[z]=y[z];x.m=y.prototype;
function B(a){a.win.addEventListener("message",function(b){a.c&&b.source===a.c.contentWindow&&"cnx_close"===b.data&&(a.c&&(b=a.c,b.parentElement&&b.parentElement.removeChild(b),a.c=null),a.attemptCollapse())})}
x.prototype.buildCallback=function(){var a=this.element;a.classList.add("i-amphtml-media-component");var b=a.getAttribute("data-player-id");if(!w.user)throw Error("failed to call initLogConstructor");this.l=w.user.assert(b,"The data-player-id attribute is required for <amp-connatix-player> %s",a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);this.j=a.getAttribute("data-media-id")||"";B(this)};
x.prototype.preconnectCallback=function(a){var b=this.win;b=b.__AMP_TOP||(b.__AMP_TOP=b);var c=b.__AMP_SERVICES;c||(c=b.__AMP_SERVICES={});b=c.preconnect;b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));b.obj.url(this.getAmpDoc(),this.h,a)};x.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};
x.prototype.layoutCallback=function(){var a=this.element,b=this.h+"/amp-embed/index.html";var c={playerId:this.l||void 0,mediaId:this.j||void 0};var e=[],m;for(m in c){var l=c[m];if(null!=l)if(Array.isArray(l))for(var q=0;q<l.length;q++){var C=l[q];e.push(encodeURIComponent(m)+"="+encodeURIComponent(C))}else e.push(encodeURIComponent(m)+"="+encodeURIComponent(l))}c=e.join("&");c&&(b=b.split("#",2),e=b[0].split("?",2),c=e[0]+(e[1]?"?"+e[1]+"&"+c:"?"+c),b=c+=b[1]?"#"+b[1]:"");var f=a.ownerDocument.createElement("iframe");
f.setAttribute("frameborder","0");f.setAttribute("allowfullscreen","true");f.src=b;this.applyFillContent(f,!0);a.appendChild(f);this.c=f;return this.loadPromise(f)};x.prototype.pauseCallback=function(){this.c&&this.c.contentWindow&&this.c.contentWindow.postMessage("pause",this.h)};x.prototype.unlayoutCallback=function(){if(this.c){var a=this.c;a.parentElement&&a.parentElement.removeChild(a);this.c=null}return!0};(function(a){a.registerElement("amp-connatix-player",x)})(self.AMP);
})});

//# sourceMappingURL=amp-connatix-player-0.1.js.map
