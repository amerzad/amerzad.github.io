(self.AMP=self.AMP||[]).push({n:"amp-orientation-observer",v:"2008290323002",f:function(AMP,_){function k(b,a=""){try{return decodeURIComponent(b)}catch(c){return a}}let l=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;let m=self.AMP_CONFIG||{},n=("string"==typeof m.cdnProxyRegex?new RegExp(m.cdnProxyRegex):m.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function p(b){if(self.document&&self.document.head&&(!self.location||!n.test(self.location.origin))){var a=self.document.head.querySelector(`meta[name="${b}"]`);a&&a.getAttribute("content")}}m.cdnUrl||p("runtime-host");m.geoApiUrl||p("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let q=self.__AMP_LOG;function r(b){let a="";try{"localStorage"in b&&(a=b.localStorage.getItem("amp-experiment-toggles"))}catch(e){}let c=a?a.split(/\s*,\s*/g):[];b=Object.create(null);for(let a=0;a<c.length;a++)0!=c[a].length&&("-"==c[a][0]?b[c[a].substr(1)]=!1:b[c[a]]=!0);return b}function t(b){if(b.nodeType){var a=(b.ownerDocument||b).defaultView;a=a.__AMP_TOP||(a.__AMP_TOP=a);b=u(a,"ampdoc").getAmpDoc(b)}return b}function u(b,a){v(b,a);{let a=b.__AMP_SERVICES;a||(a=b.__AMP_SERVICES={});b=a}a=b[a];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function v(b,a){b=b.__AMP_SERVICES&&b.__AMP_SERVICES[a];return!(!b||!b.ctor&&!b.obj)}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function w(b){return b.reduce((function(b,c){return b+c}))}function x(b,a){var c=Object.keys(b);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(b);a&&(e=e.filter((function(a){return Object.getOwnPropertyDescriptor(b,a).enumerable})));c.push.apply(c,e)}return c}function y(b){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{};a%2?x(Object(c),!0).forEach((function(a){var d=c[a];a in b?Object.defineProperty(b,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):b[a]=d})):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):x(Object(c)).forEach((function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}))}return b}let z=["alpha","beta","gamma"],A={alpha:180,beta:0,gamma:0},B={alpha:[0,360],beta:[-180,180],gamma:[-90,90]};function C(b,a){if(a instanceof DeviceOrientationEvent){let c=b.win.screen,e=a.alpha;let{gamma:d,beta:f}=a;a="orientation"in c?c.orientation.angle:c.orientation;if(90==b.win.orientation||-90==b.win.orientation){let b=d;d=f;f=b}0>a&&(d=-d,f=-f);let g={alpha:e,beta:f,gamma:d};z.forEach(a=>{if(.1<Math.abs(g[a]-b.j[a])){var c=b.j;if(b.h){var d=g[a];b.c[a].length>b.h&&b.c[a].shift();b.c[a].push(d);d=w(b.c[a])/b.h;b.c[a].length>b.h&&b.m[a]==A[a]&&(b.m[a]=d);d-=b.m[a]}else d=g[a];c[a]=d;d=b.j[a];var e=b.l[a],f=0>e[0]?d.toFixed()-e[0]:d.toFixed();c=b.win;d={angle:Math.min(Math.max(d,e[0]),e[1]).toFixed(),percent:f/(e[1]-e[0])};e=`amp-orientation-observer.${a}`;f={detail:d};Object.assign(f,void 0);"function"==typeof c.CustomEvent?c=new c.CustomEvent(e,f):(c=c.document.createEvent("CustomEvent"),c.initCustomEvent(e,!!f.bubbles,!!f.cancelable,d));b.o.trigger(b.element,a,c,1)}})}}class E extends AMP.BaseElement{constructor(b){super(b);this.w=t(this.element);this.o=null;this.l=y({},B);this.j=y({},A);this.m=y({},A);this.c={beta:[],alpha:[],gamma:[]};this.h=null}buildCallback(){{var b=this.element;let h=b.ownerDocument.defaultView;var a=h.__AMP_TOP||(h.__AMP_TOP=h);let D=h!=a;var c=a;if(c.__AMP__EXPERIMENT_TOGGLES)a=c.__AMP__EXPERIMENT_TOGGLES;else{c.__AMP__EXPERIMENT_TOGGLES=Object.create(null);a=c.__AMP__EXPERIMENT_TOGGLES;if(c.AMP_CONFIG)for(var e in c.AMP_CONFIG){var d=c.AMP_CONFIG[e];"number"===typeof d&&0<=d&&1>=d&&(a[e]=Math.random()<d)}if(c.AMP_CONFIG&&Array.isArray(c.AMP_CONFIG["allow-doc-opt-in"])&&0<c.AMP_CONFIG["allow-doc-opt-in"].length&&(e=c.AMP_CONFIG["allow-doc-opt-in"],d=c.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){d=d.getAttribute("content").split(",");for(var f=0;f<d.length;f++)-1!=e.indexOf(d[f])&&(a[d[f]]=!0)}Object.assign(a,r(c));if(c.AMP_CONFIG&&Array.isArray(c.AMP_CONFIG["allow-url-opt-in"])&&0<c.AMP_CONFIG["allow-url-opt-in"].length){e=c.AMP_CONFIG["allow-url-opt-in"];c=c.location.originalHash||c.location.hash;d=Object.create(null);if(c)for(var g;g=l.exec(c);)f=k(g[1],g[1]),g=g[2]?k(g[2].replace(/\+/g," "),g[2]):"",d[f]=g;c=d;for(d=0;d<e.length;d++)f=c[`e-${e[d]}`],"1"==f&&(a[e[d]]=!0),"0"==f&&(a[e[d]]=!1)}}a=!!a["ampdoc-fie"];D&&!a?b=v(h,"action")?u(h,"action"):null:(b=t(b),b=t(b),b=b.isSingleDoc()?b.win:b,b=v(b,"action")?u(b,"action"):null)}this.o=b;this.w.whenFirstVisible().then(this.A.bind(this))}A(){if(!q.user)throw Error("failed to call initLogConstructor");q.user.assert(this.win.DeviceOrientationEvent,"The current browser doesn't support the `window.DeviceOrientationEvent`",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);z.forEach(b=>{var a=this.l;{var c=this.l[b];let a=this.element.getAttribute(`${b}-range`);a&&(c=a.trim().split(" "),c=[parseInt(c[0],10),parseInt(c[1],10)])}a[b]=c});this.h=this.element.hasAttribute("smoothing")?Number(this.element.getAttribute("smoothing"))||4:null;this.win.addEventListener("deviceorientation",b=>{C(this,b)},!0)}}(b=>{b.registerElement("amp-orientation-observer",E)})(self.AMP)}});