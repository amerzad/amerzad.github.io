{"version":3,"mappings":"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","names":["toString_","Object","env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","logs","dict","opt_initial","startsWith","string","prefix","c","v","a","ad","optsSupported","internalListenImplementation","element","listener","wrapped","localElement","localListener","event","e","detectEvtListenerOptsSupport","eventType","opt_evtListenerOpts","capture","undefined","options","err","updateBaseUrl_","isPlaylist_","hasAttribute","baseUrl_","getIframeSrc_","b","getAttribute","Error","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","hasLightTheme","hasSharing","episodes","start","hasTile","queryParams","p","userAssert","light","sharing","tile","url","s","k","Array","i","sv","encodeURIComponent","d","serializeQueryString","mainAndFragment","mainAndQuery","newUrl","appendEncodedParamStringToUrl","AmpMegaphone","AMP","constructor","super","this","unlistenMessage_","iframe_","preconnectCallback","opt_onLayout","win","services","holder","getServices","ampdoc","getAmpDoc","getService","preconnect","isLayoutSupported","layout","FIXED","FIXED_HEIGHT","buildCallback","MEDIA_COMPONENT_CLASSNAME","mutatedAttributesCallback","src","layoutCallback","iframe","ownerDocument","createElement","handleMegaphoneMessages_","bind","applyFillContent","appendChild","loadPromise","unlayoutCallback","contentWindow","eventData","isObject","JSON","tryParseJson","data","attemptChangeHeight","catch","pauseCallback","postMessage","method"],"sources":["src/types.js","src/config.js","src/log.js","src/utils/object.js","src/string.js","extensions/amp-megaphone/0.1/amp-megaphone.js","src/url.js","src/event-helper-listen.js","src/event-helper.js","src/service.js","src/services.js","src/layout.js","src/video-interface.js","src/dom.js","src/json.js"],"file":"amp-megaphone-0.1.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}