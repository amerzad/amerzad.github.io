{"version":3,"mappings":"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","names":["resolved","startsWith","string","prefix","Deferred","constructor","resolve","reject","this","promise","Promise","res","rej","tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","logs","hasOwn_","Object","dict","opt_initial","c","v","a","ad","experimentToggles","win","toggles","experimentId","frequency","Math","Array","allowed","meta","optedInExperiments","i","getExperimentToggles","params","queryString","match","value","param","parseQueryString_","experimentsString","LOCAL_STORAGE_KEY","tokens","randomlySelectUnsetExperiments","experiments","experiment","experimentName","d","__AMP_EXPERIMENT_BRANCHES","f","isExperimentOn","arr","getExperimentBranch","id","getServiceForDoc","elementOrAmpDoc","ampdoc","getAmpdoc","b","getServiceInternal","getAmpdocServiceHolder","nodeOrDoc","getAmpdocService","holder","services","s","getServices","whenUpgradedToCustomElement","element","deferred","JSON","parse","propertyNameCache","vendorPrefixes","split","setStyle","property","propertyName","undefined","style","camelCase","camelCaseToTitleCase","prefixedPropertyName","toggle","opt_display","removeOnScrollListener_","scrollUnlisten_","display_","adReadyPromise_","then","mutateElement","collapsed_","visible_","addCloseButton_","viewport_","addToFixedLayer","scheduleLayoutForAd_","closeButton","document","createElement","getAttribute","boundOnCloseButtonClick","onCloseButtonClick_","bind","appendChild","ad_","layoutAd_","AmpStickyAd","AMP","super","vsync_","getVsync","buildCallback","getViewport","classList","add","experimentInfoList","isTrafficEligible","branches","control","children","getRealChildren","Error","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","Services","paddingBar","insertBefore","setTimeout","onScroll","onScroll_","getScrollTop","layoutCallback","updatePaddingBottom","offsetHeight","owners","isAlwaysFixed","unlayoutCallback","detachedCallback","collapsedCallback","mutate","signals","RENDER_START","backgroundColor","measureElement","computedStyle","mutatePromise","setAttribute","newBackgroundColor","rgbaColor","forceOpacity_","removeFromFixedLayer","CSS"],"sources":["src/resolved-promise.js","src/string.js","src/utils/promise.js","src/url-try-decode-uri-component.js","src/url-parse-query-string.js","src/config.js","src/log.js","src/utils/object.js","src/url.js","src/experiments.js","ads/google/a4a/utils.js","src/service.js","src/services.js","src/dom.js","ads/_config.js","src/style.js","extensions/amp-sticky-ad/1.0/amp-sticky-ad.js","src/common-signals.js","build/amp-sticky-ad-1.0.css.js"],"file":"amp-sticky-ad-1.0.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}