(self.AMP=self.AMP||[]).push({n:"amp-imgur",v:"2008290323002",f:function(AMP,_){let e;function f(a,b){let d,c=a,g=b;d=a=>{try{return g(a)}catch(h){throw self.__AMP_REPORT_ERROR(h),h}};let k=l();c.addEventListener("message",d,k?void 0:!1);return()=>{c&&c.removeEventListener("message",d,k?void 0:!1);d=c=g=null}}function l(){if(void 0!==e)return e;e=!1;try{let a={get capture(){e=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(a){}return e}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
let m=Object.prototype.toString;let n=self.AMP_CONFIG||{},p=("string"==typeof n.cdnProxyRegex?new RegExp(n.cdnProxyRegex):n.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function q(a){if(self.document&&self.document.head&&(!self.location||!p.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}n.cdnUrl||q("runtime-host");n.geoApiUrl||q("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let r=self.__AMP_LOG;function t(a){return 1>a.length?!1:0==a.lastIndexOf("{",0)}function u(a,b){return f(a,b)}class v extends AMP.BaseElement{constructor(a){super(a);this.h=this.c=null;this.j=""}isLayoutSupported(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a}buildCallback(){var a=this.element.getAttribute("data-imgur-id"),b=this.element;if(!r.user)throw Error("failed to call initLogConstructor");this.j=r.user.assert(a,"The data-imgur-id attribute is required for <amp-imgur> %s",b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}layoutCallback(){let a=this.element.ownerDocument.createElement("iframe");this.c=a;this.h=u(this.win,this.l.bind(this));a.setAttribute("scrolling","no");a.setAttribute("frameborder","0");a.setAttribute("allowfullscreen","true");let b=this.j.replace(/^(a\/)?(.*)/,(a,b,d)=>"a/"+encodeURIComponent(d));a.src="https://imgur.com/"+b+"/embed?pub=true";this.applyFillContent(a);this.element.appendChild(a);return this.loadPromise(a)}l(a){if("https://imgur.com"==a.origin&&a.source==this.c.contentWindow){var b=a.data;if(b&&("[object Object]"===m.call(b)||t(b))){if("[object Object]"===m.call(b))var c=b;else try{c=JSON.parse(b)}catch(g){c=null}a=c;"resize_imgur"==a.message&&this.attemptChangeHeight(a.height).catch(()=>{})}}}unlayoutCallback(){if(this.c){var a=this.c;a.parentElement&&a.parentElement.removeChild(a);this.c=null}this.h&&this.h();return!0}}(a=>{a.registerElement("amp-imgur",v)})(self.AMP)}});