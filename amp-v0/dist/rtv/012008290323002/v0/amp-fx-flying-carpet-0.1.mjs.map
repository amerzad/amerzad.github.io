{"version":3,"mappings":"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","names":["resolved","env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","logs","userAssert","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","Error","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","startsWith","string","prefix","propertyNameCache","vendorPrefixes","split","dict","opt_initial","c","v","a","ad","getServiceForDoc","elementOrAmpDoc","ampdoc","getAmpdoc","getServiceInternal","getAmpdocServiceHolder","id","nodeOrDoc","getAmpdocService","win","b","holder","services","s","getServices","visibileChildren_","nodes","node","test","observeNewChildren_","observer","MutationObserver","changes","i","addedNodes","n","BUILT","layoutBuiltChild_","bind","element","childList","subtree","AmpFlyingCarpet","AMP","constructor","super","this","children_","totalChildren_","container_","initialPositionChecked_","isLayoutSupported","layout","FIXED_HEIGHT","isRelayoutNeeded","buildCallback","doc","ownerDocument","container","getRealChildren","childNodes","getRealChildNodes","length","owners","forEach","child","clip","appendChild","getViewport","addToFixedLayer","viewportCallback","inViewport","Services","layoutCallback","layoutBox","assertPosition_","getLayoutBox","viewport","viewportHeight","docHeight","minTop","maxTop","e","collapse","width","getLayoutWidth","property","d","Object","propertyName","undefined","style","getVendorJsPropertyName_","camelCase","prefixedPropertyName","opt_units","styleValue","Promise","collapsedCallback","index","indexOf","splice","attemptCollapse","catch","getChildren","TAG","CSS"],"sources":["src/resolved-promise.js","src/config.js","src/log.js","src/string.js","src/style.js","src/utils/object.js","src/url.js","src/service.js","src/services.js","extensions/amp-fx-flying-carpet/0.1/amp-fx-flying-carpet.js","src/common-signals.js","src/layout.js","build/amp-fx-flying-carpet-0.1.css.js"],"file":"amp-fx-flying-carpet-0.1.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}