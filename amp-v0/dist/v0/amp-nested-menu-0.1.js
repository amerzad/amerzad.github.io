(self.AMP=self.AMP||[]).push({n:"amp-nested-menu",v:"2008290323002",f:(function(AMP,_){
'use strict';var k,m="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function p(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],d=0;d<b.length;++d){var c=b[d];if(c&&c.Math==Math)return}(function(){throw Error("Cannot find global object");})()}p(this);"function"===typeof Symbol&&Symbol("x");var q;
if("function"==typeof Object.setPrototypeOf)q=Object.setPrototypeOf;else{var r;a:{var t={a:!0},u={};try{u.__proto__=t;r=u.a;break a}catch(a){}r=!1}q=r?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var v=q,w;function x(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return b}};var y=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function z(a){return a?Array.prototype.slice.call(a):[]};var A=self.AMP_CONFIG||{},B=("string"==typeof A.cdnProxyRegex?new RegExp(A.cdnProxyRegex):A.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function C(a){if(self.document&&self.document.head&&(!self.location||!B.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}A.cdnUrl||C("runtime-host");A.geoApiUrl||C("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var D=self.__AMP_LOG;function E(a,b){if(!D.user)throw Error("failed to call initLogConstructor");D.user.assert(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0});function F(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(g){if(D.dev)a=D.dev;else throw Error("failed to call initLogConstructor");a.warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var d=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var c=0;c<d.length;c++)0!=d[c].length&&("-"==d[c][0]?a[d[c].substr(1)]=!1:a[d[c]]=!0);return a};function G(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return H(a,b)}function I(a){return a.nodeType?G((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function H(a,b){J(a,b);var d=a.__AMP_SERVICES;d||(d=a.__AMP_SERVICES={});a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function J(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var K;function L(a,b,d){for(;a&&a!==d;a=a.parentElement)if(b(a))return a;return null}function M(a,b){return a.closest?a.closest(b):L(a,function(a){var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;return c?c.call(a,b):!1})}
function N(a,b){if(void 0!==K)var d=K;else{try{var c=a.ownerDocument,g=c.createElement("div"),f=c.createElement("div");g.appendChild(f);d=g.querySelector(":scope div")===f}catch(h){d=!1}d=K=d}if(d)return a.querySelector(b.replace(/^|,/g,"$&:scope "));a.classList.add("i-amphtml-scoped");b=b.replace(/^|,/g,"$&.i-amphtml-scoped ");b=a.querySelectorAll(b);a.classList.remove("i-amphtml-scoped");return void 0===b[0]?null:b[0]}function O(a){try{a.focus()}catch(b){}};function P(a){var b=AMP.BaseElement.call(this,a)||this;b.w=b.win.document;b.l=null;b.h=null;b.j=a;b.o=b.m.bind(b);b.B=b.A.bind(b);return b}var Q=AMP.BaseElement;P.prototype=m(Q.prototype);P.prototype.constructor=P;if(v)v(P,Q);else for(var R in Q)if("prototype"!=R)if(Object.defineProperties){var S=Object.getOwnPropertyDescriptor(Q,R);S&&Object.defineProperty(P,R,S)}else P[R]=Q[R];P.C=Q.prototype;k=P.prototype;
k.buildCallback=function(){var a=this.element,b=this.element,d=b.ownerDocument.defaultView,c=d.__AMP_TOP||(d.__AMP_TOP=d),g=d!=c;if(c.__AMP__EXPERIMENT_TOGGLES)var f=c.__AMP__EXPERIMENT_TOGGLES;else{c.__AMP__EXPERIMENT_TOGGLES=Object.create(null);f=c.__AMP__EXPERIMENT_TOGGLES;if(c.AMP_CONFIG)for(var h in c.AMP_CONFIG){var e=c.AMP_CONFIG[h];"number"===typeof e&&0<=e&&1>=e&&(f[h]=Math.random()<e)}if(c.AMP_CONFIG&&Array.isArray(c.AMP_CONFIG["allow-doc-opt-in"])&&0<c.AMP_CONFIG["allow-doc-opt-in"].length&&
(h=c.AMP_CONFIG["allow-doc-opt-in"],e=c.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){e=e.getAttribute("content").split(",");for(var l=0;l<e.length;l++)-1!=h.indexOf(e[l])&&(f[e[l]]=!0)}Object.assign(f,F(c));if(c.AMP_CONFIG&&Array.isArray(c.AMP_CONFIG["allow-url-opt-in"])&&0<c.AMP_CONFIG["allow-url-opt-in"].length){h=c.AMP_CONFIG["allow-url-opt-in"];e=c.location.originalHash||c.location.hash;c=Object.create(null);if(e)for(var n;n=y.exec(e);)l=x(n[1],n[1]),n=n[2]?x(n[2].replace(/\+/g,
" "),n[2]):"",c[l]=n;for(e=0;e<h.length;e++)l=c["e-"+h[e]],"1"==l&&(f[h[e]]=!0),"0"==l&&(f[h[e]]=!1)}}f=!!f["ampdoc-fie"];g&&!f?b=J(d,"action")?H(d,"action"):null:(b=I(b),b=I(b),b=b.isSingleDoc()?b.win:b,b=J(b,"action")?H(b,"action"):null);this.l=b;this.h=a.getAttribute("side");"left"!=this.h&&"right"!=this.h&&(b=this.w,this.h="rtl"==(b.body.getAttribute("dir")||b.documentElement.getAttribute("dir")||"ltr")?"left":"right",a.setAttribute("side",this.h));this.registerAction("reset",this.reset.bind(this));
a.addEventListener("click",this.o);a.addEventListener("keydown",this.B)};k.layoutCallback=function(){T(this);w||(w=Promise.resolve(void 0));var a=w;return a};
function T(a){z(a.element.querySelectorAll("[amp-nested-submenu-open],[amp-nested-submenu-close]")).forEach(function(b){b.hasAttribute("tabindex")||b.setAttribute("tabindex",0);b.setAttribute("role","button");b.hasAttribute("amp-nested-submenu-open")&&b.setAttribute("aria-expanded","false");E(0==a.l.hasAction(b,"tap"),"submenu open/close buttons should not have tap actions registered.")})}k.isLayoutSupported=function(a){return"fill"==a};k.prerenderAllowed=function(){return!0};
k.m=function(a){var b=a.target;(a=M(a.target,"[amp-nested-submenu-open],[amp-nested-submenu-close]"))&&U(this,b,a)&&(a.hasAttribute("amp-nested-submenu-open")?V(this,a):(b=M(a,"[amp-nested-submenu]"),E(b,"amp-nested-menu: submenu close buttons are only allowed inside submenus"),W(this,b)))};function U(a,b,d){var c=!!L(b,function(a){return"A"==a.tagName},d),g=a.l.hasAction(b,"tap",d);return!c&&!g}
function V(a,b){var d=N(b.parentElement,">[amp-nested-submenu]");E(d,"amp-nested-menu requires each submenu open button to have a submenu as its sibling");X(a,d)}
function X(a,b){if(!b.hasAttribute("open")){var d=Y(b);d&&(d.setAttribute("child-open",""),b.setAttribute("open",""),a.j=b,G(a.win,"timer").delay(function(){N(b.parentElement,">[amp-nested-submenu-open]").setAttribute("aria-expanded","true");var a=z(b.querySelectorAll("[amp-nested-submenu-close]")).filter(function(a){return Y(a)==b})[0];E(a,"amp-nested-menu requires each submenu to contain at least one submenu close button");O(a)},350))}}
function W(a,b){if(b.hasAttribute("open")){var d=Y(b);d&&(d.removeAttribute("child-open"),b.removeAttribute("open"),a.j=d,G(a.win,"timer").delay(function(){var a=N(b.parentElement,">[amp-nested-submenu-open]");a.setAttribute("aria-expanded","false");O(a)},350))}}k.reset=function(){for(;this.element.hasAttribute("child-open");)W(this,this.j)};
k.A=function(a){if(!a.defaultPrevented)switch(a.key){case "Enter":case " ":this.m(a);break;case "ArrowLeft":case "ArrowRight":var b="ArrowLeft"==a.key;"left"==this.h&&(b=!b);b?W(this,this.j):(a=a.target,a.hasAttribute("amp-nested-submenu-open")&&V(this,a));break;case "ArrowUp":case "ArrowDown":case "Home":case "End":Z(a)}};
function Z(a){var b=a.target,d=Y(b);if(b=L(b,function(a){return"LI"==a.tagName},d)){if("ArrowUp"===a.key)var c=b.previousElementSibling;else if("ArrowDown"===a.key)c=b.nextElementSibling;else if("Home"===a.key)c=b.parentElement.firstElementChild;else if("End"===a.key)c=b.parentElement.lastElementChild;else return;if(c){var g=c.querySelector("button,a[href],[tabindex]");g&&(a.preventDefault(),O(g))}}}function Y(a){return M(a.parentElement,"amp-nested-menu,[amp-nested-submenu]")}
(function(a){a.registerElement("amp-nested-menu",P,"amp-nested-menu,amp-nested-menu [amp-nested-submenu]{position:absolute!important;top:0!important;width:100%!important;height:100%!important;margin:0!important;padding:0!important;transform:translateX(0)!important}amp-nested-menu.i-amphtml-layout-size-defined{overflow:visible!important}amp-nested-menu ol,amp-nested-menu ul{list-style-type:none;padding:0}amp-nested-menu [amp-nested-submenu-close],amp-nested-menu [amp-nested-submenu-open]{cursor:pointer}amp-nested-menu [amp-nested-submenu]{opacity:0!important;visibility:hidden!important;transition:transform 233ms,opacity 233ms,visibility 0s 233ms}amp-nested-menu,amp-nested-menu [amp-nested-submenu][open]{opacity:1!important;visibility:visible!important;transition:transform 233ms}amp-nested-menu [amp-nested-submenu][child-open],amp-nested-menu[child-open]{visibility:hidden!important;transition:transform 233ms,visibility 0s 233ms}amp-nested-menu[side=left] [amp-nested-submenu]{right:100%!important}amp-nested-menu[side=right] [amp-nested-submenu]{left:100%!important}amp-nested-menu[side=left] [amp-nested-submenu][child-open],amp-nested-menu[side=left][child-open]{transform:translateX(100%)!important}amp-nested-menu[side=right] [amp-nested-submenu][child-open],amp-nested-menu[side=right][child-open]{transform:translateX(-100%)!important}\n/*# sourceURL=/extensions/amp-nested-menu/0.1/amp-nested-menu.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-nested-menu-0.1.js.map
