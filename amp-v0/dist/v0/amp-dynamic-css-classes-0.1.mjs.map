{"version":3,"mappings":"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","names":["resolved","tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","dict","opt_initial","c","v","a","ad","getExperimentToggles","win","experimentsString","LOCAL_STORAGE_KEY","tokens","toggles","Object","i","getService","id","getServiceInternal","getServiceForDoc","elementOrAmpDoc","ampdoc","getAmpdoc","holder","getAmpdocServiceHolder","nodeOrDoc","defaultView","getAmpdocService","isServiceRegistered","services","s","getServices","service","referrers_","referrer","domainBase","domains","referrers","domain","normalizedReferrers","referrerDomain","Services","element","document","topWin","isEmbed","f","experimentId","frequency","Math","Array","allowed","meta","optedInExperiments","params","queryString","match","value","param","parseQueryString_","ampdocFieExperimentOn","experimentToggles","d","z","b","getServiceForDocOrNullInternal","hostname","test","addDynamicCssClasses","classes","addCssClassesToBody","body","classList","addReferrerClasses","addViewerClass","viewer","AmpDynamicCssClasses","constructor","whenReady","Promise","undefined","AMP"],"sources":["src/resolved-promise.js","src/url-try-decode-uri-component.js","src/url-parse-query-string.js","src/config.js","src/log.js","src/utils/object.js","src/url.js","src/experiments.js","src/service.js","src/services.js","extensions/amp-dynamic-css-classes/0.1/amp-dynamic-css-classes.js","src/ampdoc-fie.js"],"file":"amp-dynamic-css-classes-0.1.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}