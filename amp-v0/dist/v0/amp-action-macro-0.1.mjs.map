{"version":3,"mappings":"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","names":["tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","logs","userAssert","shouldBeTrueish","opt_message","opt_1","opt_2","Error","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","dict","opt_initial","c","v","a","ad","experimentToggles","win","Object","toggles","experimentId","frequency","Math","Array","allowed","meta","optedInExperiments","i","getExperimentToggles","params","queryString","match","value","param","parseQueryString_","experimentsString","LOCAL_STORAGE_KEY","tokens","getExistingServiceForDocInEmbedScope","element","document","topWin","isEmbed","ampdocFieExperimentOn","u","b","ampdoc","getAmpdoc","getServiceForDocOrNullInternal","isServiceRegistered","getAmpdocServiceHolder","id","getServiceInternal","nodeOrDoc","getAmpdocService","holder","services","s","getServices","service","AmpActionMacro","AMP","constructor","super","this","actions_","arguments_","buildCallback","argVarNames","registerAction","execute_","bind","getLayoutPriority","METADATA","invocation","actionEventType","args","event","trust","length","arg","includes","TAG","isValidMacroReference_","compareDocumentPosition","Node","getAttribute","trigger","renderOutsideViewport","isLayoutSupported"],"sources":["src/url-try-decode-uri-component.js","src/url-parse-query-string.js","src/config.js","src/log.js","src/utils/object.js","src/url.js","src/experiments.js","src/service.js","src/ampdoc-fie.js","src/services.js","extensions/amp-action-macro/0.1/amp-action-macro.js","src/layout.js"],"file":"amp-action-macro-0.1.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}