(self.AMP=self.AMP||[]).push({n:"amp-soundcloud",v:"2008290323002",f:function(AMP,_){let e=self.AMP_CONFIG||{},g=("string"==typeof e.cdnProxyRegex?new RegExp(e.cdnProxyRegex):e.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function h(b){if(self.document&&self.document.head&&(!self.location||!g.test(self.location.origin))){var a=self.document.head.querySelector(`meta[name="${b}"]`);a&&a.getAttribute("content")}}e.cdnUrl||h("runtime-host");e.geoApiUrl||h("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let k=self.__AMP_LOG;function m(b){return b||{}}m({c:!0,v:!0,a:!0,ad:!0});
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */class n extends AMP.BaseElement{constructor(b){super(b);this.h=null}preconnectCallback(b){var a=this.win;a=a.__AMP_TOP||(a.__AMP_TOP=a);{let b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});a=b}a=a.preconnect;a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));a=a.obj;a.url(this.getAmpDoc(),"https://api.soundcloud.com/",b)}isLayoutSupported(b){return"fixed"==b||"fixed-height"==b||"responsive"==b||"fill"==b||"flex-item"==b||"fluid"==b||"intrinsic"==b}buildCallback(){this.element.classList.add("i-amphtml-media-component")}layoutCallback(){let b=this.element.getAttribute("height"),a=this.element.getAttribute("data-color"),p=this.element.getAttribute("data-visual");var d="https://api.soundcloud.com/"+(this.element.hasAttribute("data-trackid")?"tracks":"playlists")+"/";var f=this.element.getAttribute("data-trackid")||this.element.getAttribute("data-playlistid");var q=this.element;if(!k.user)throw Error("failed to call initLogConstructor");f=k.user.assert(f,"data-trackid or data-playlistid is required for <amp-soundcloud> %s",q,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);let l=this.element.getAttribute("data-secret-token"),c=this.element.ownerDocument.createElement("iframe");c.setAttribute("frameborder","no");c.setAttribute("scrolling","no");d="https://w.soundcloud.com/player/?url="+encodeURIComponent(d+f);l&&(d+=encodeURIComponent("?secret_token="+l));"true"===p?d+="&visual=true":a&&(d+="&color="+encodeURIComponent(a));c.src=d;this.applyFillContent(c);c.height=b;this.element.appendChild(c);this.h=c;return this.loadPromise(c)}pauseCallback(){this.h&&this.h.contentWindow&&this.h.contentWindow.postMessage(JSON.stringify(m({method:"pause"})),"https://w.soundcloud.com")}}(b=>{b.registerElement("amp-soundcloud",n)})(self.AMP)}});