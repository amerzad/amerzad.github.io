(self.AMP=self.AMP||[]).push({n:"amp-truncate-text",v:"2007102309000",f:(function(AMP,_){
var l="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function n(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object");})()}n(this);"function"===typeof Symbol&&Symbol("x");var p;
if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var q;a:{var r={a:!0},t={};try{t.__proto__=r;q=t.a;break a}catch(a){}q=!1}p=q?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var u=p;function v(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var w=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function x(a){return a?Array.prototype.slice.call(a):[]};var y=self.AMP_CONFIG||{},z=("string"==typeof y.cdnProxyRegex?new RegExp(y.cdnProxyRegex):y.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function A(a){if(self.document&&self.document.head&&(!self.location||!z.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}y.cdnUrl||A("runtime-host");y.geoApiUrl||A("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var B=self.__AMP_LOG;var C=Object.prototype.hasOwnProperty;function D(a){return a.trimEnd?a.trimEnd():("_"+a).trim().slice(1)};(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0,action:!0});function E(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){var d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){var f=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');
if(e){var k=e.getAttribute("content").split(",");for(c=0;c<k.length;c++)-1!=f.indexOf(k[c])&&(b[k[c]]=!0)}}Object.assign(b,F(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];var g=a.location.originalHash||a.location.hash;a=Object.create(null);if(g)for(var h;h=w.exec(g);){var m=v(h[1],h[1]);h=h[2]?v(h[2].replace(/\+/g," "),h[2]):"";a[m]=h}for(g=0;g<c.length;g++)m=a["e-"+c[g]],"1"==m&&(b[c[g]]=!0),"0"==
m&&(b[c[g]]=!1)}return b}function F(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(f){if(B.dev)a=B.dev;else throw Error("failed to call initLogConstructor");a.warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};var G=[{experimentId:"ampdoc-fie",isTrafficEligible:function(){return!0},branches:["21065001","21065002"]}];function H(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;b=b.__AMP_TOP||(b.__AMP_TOP=b);a=I(b,"ampdoc").getAmpDoc(a)}return a}function I(a,b){J(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function J(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function K(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function aa(a){return a.closest?a.closest("a[href]"):K(a,function(a){var b=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;return b?b.call(a,"a[href]"):!1})}function L(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)};var M;function N(a){a=a.ownerDocument||a;M&&M.ownerDocument===a||(M=a.createElement("div"));return ba}function ba(a){var b=M;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a};function ca(a,b){var c=1,d=1;c=void 0===c?0:c;d=void 0===d?1:d;var f=0,e=a-1,k=NaN;for(a=NaN;e>=f;){var g=f+Math.floor((e-f)/2),h=b(g);if(0<h||0==h&&1==c)k=2==d?g:k,a=0==h?g:a,f=g+1;else if(0>h||0==h&&2==c)k=1==d?g:k,a=0==h?g:a,e=g-1;else{a=g;break}}return isNaN(a)?-((isNaN(k)?1==d?f:e:k)+1):a};function O(a,b){var c="slot"==a.localName?a.assignedNodes({flatten:!0}):a.childNodes;for(a=0;a<c.length;a++)b(c[a])}function P(a){var b=a.__AMP_TRUNCATE_TEXT_DATA;b&&b.modifiedText==a.data&&(a.data=b.originalText);a.nodeType==Node.ELEMENT_NODE&&a.removeAttribute("i-amphtml-truncate-child-overflow");O(a,function(a){return P(a)})}function Q(a,b,c){a.__AMP_TRUNCATE_TEXT_DATA={originalText:b,modifiedText:c};a.data=c}
function R(a,b,c){c=void 0===c?[]:c;if(!b(a))return c;c.push(a);O(a,function(a){return R(a,b,c)});return c}function da(a,b,c){for(var d=R(a,function(a){return!c.includes(a)}),f=d.length-1;0<=f;f--){var e=d[f];e.nodeType==Node.ELEMENT_NODE&&e.setAttribute("i-amphtml-truncate-child-overflow","");if(e.nodeType==Node.TEXT_NODE&&ea(e,a,b))break}}
function ea(a,b,c){var d=document.createRange();d.selectNode(a);var f=d.getBoundingClientRect(),e=a.data;if(f.height)if(f.top>c.bottom)Q(a,e,"");else{var k=ca(e.length,function(c){for(;!e[c].trim()&&0<c;)c--;a.data=e.slice(0,c+1)+"\u2026 ";return-(b.scrollHeight-b.offsetHeight)}),g=D(e.slice(0,0<=k?k+1:-(k+1)));Q(a,e,g?g+"\u2026 ":"");return!!g}};var fa=["<div class=i-amphtml-truncate-content><span class=i-amphtml-default-slot></span> <span class=i-amphtml-truncate-collapsed-slot name=collapsed></span> <span class=i-amphtml-truncate-expanded-slot name=expanded></span> <span class=i-amphtml-truncate-persistent-slot name=persistent></span></div>"],ha=["<div class=content><slot></slot><slot class=collapsed-slot name=collapsed></slot><slot class=expanded-slot name=expanded></slot><slot class=persistent-slot name=persistent></slot></div>"];
function S(a){var b=AMP.BaseElement.call(this,a)||this;b.h=null;b.j=null;b.l=null;b.o=null;b.m=!1;b.w=new b.win.MutationObserver(function(){T(b)});return b}var U=AMP.BaseElement;S.prototype=l(U.prototype);S.prototype.constructor=S;if(u)u(S,U);else for(var V in U)if("prototype"!=V)if(Object.defineProperties){var W=Object.getOwnPropertyDescriptor(U,V);W&&Object.defineProperty(S,V,W)}else S[V]=U[V];S.A=U.prototype;
function ia(a){a.registerAction("expand",function(){return X(a)});a.registerAction("collapse",function(){return Y(a)})}S.prototype.buildCallback=function(){var a=this;(this.m=!!this.element.attachShadow&&!!E(this.win)["amp-truncate-text-shadow"])?ja(this):ka(this);ia(this);this.j.addEventListener("click",function(b){Z(a,b,!0)});this.l.addEventListener("click",function(b){Z(a,b,!1)})};
function ka(a){a.h=N(a.element)(fa);var b=a.h.querySelector(".i-amphtml-default-slot");a.j=a.h.querySelector(".i-amphtml-truncate-collapsed-slot");a.l=a.h.querySelector(".i-amphtml-truncate-expanded-slot");a.o=a.h.querySelector(".i-amphtml-truncate-persistent-slot");L(a.element.querySelectorAll('[slot="collapsed"]'),function(b){a.j.appendChild(b)});L(a.element.querySelectorAll('[slot="expanded"]'),function(b){a.l.appendChild(b)});L(a.element.querySelectorAll('[slot="persistent"]'),function(b){a.o.appendChild(b)});
a.getRealChildNodes().forEach(function(a){b.appendChild(a)});a.element.appendChild(a.h)}
function ja(a){var b=N(a.element),c=a.element;b=b(ha);var d=c.querySelector("i-amphtml-sizer");d&&d.setAttribute("slot","i-amphtml-sizer");c=c.attachShadow({mode:"open"});d=document.createElement("style");d.textContent=":host{padding:0!important;border:none!important}:host([i-amphtml-truncate-expanded]){height:auto!important}:host([i-amphtml-truncate-expanded]) ::slotted(i-amphtml-sizer){display:none!important}:host([i-amphtml-truncate-expanded]) .content{position:static}:host(:not([i-amphtml-truncate-expanded])) .expanded-slot{display:none}.content{position:absolute;top:0;left:0;bottom:0;right:0}.expand-slot::slotted(*){margin:0!important;white-space:nowrap!important}:host(:not([i-amphtml-truncate-overflow])) .collapsed-slot{display:none}::slotted([i-amphtml-truncate-child-overflow]){display:none!important}\n/*# sourceURL=/extensions/amp-truncate-text/0.1/amp-truncate-text-shadow.css*/";var f=
document.createElement("slot");f.setAttribute("name","i-amphtml-sizer");c.appendChild(d);c.appendChild(f);c.appendChild(b);a.h=null;a.j=c.querySelector(".collapsed-slot");a.l=c.querySelector(".expanded-slot");a.o=c.querySelector(".persistent-slot")}S.prototype.layoutCallback=function(){var a=this;return this.mutateElement(function(){T(a)})};S.prototype.firstAttachedCallback=function(){this.w.observe(this.element,{attributes:!0,characterData:!0,childList:!0,subtree:!0})};
S.prototype.isRelayoutNeeded=function(){return!0};S.prototype.isLayoutSupported=function(){return!0};
function T(a){var b=a.m?a.element:a.h;var c=a.m?x(a.element.querySelectorAll('[slot="persistent"], [slot="collapsed"]')):x(a.element.querySelectorAll(".i-amphtml-truncate-persistent-slot, .i-amphtml-truncate-collapsed-slot"));b={container:b,overflowNodes:c};c=void 0===b?{}:b;b=c.container;c=c.overflowNodes;b.__AMP_TRUNCATE_TRUNCATED&&(b.__AMP_TRUNCATE_TRUNCATED=!1,b.removeAttribute("i-amphtml-truncate-overflow"),P(b));if(!(0>=b.scrollHeight-b.offsetHeight)){var d=b.getBoundingClientRect();b.__AMP_TRUNCATE_TRUNCATED=
!0;b.setAttribute("i-amphtml-truncate-overflow","");da(b,d,c)}a.w.takeRecords()}
function Z(a,b,c){b=b.target;var d=a.element,f=d.ownerDocument.defaultView,e=f.__AMP_TOP||(f.__AMP_TOP=f),k=f!=e;if(E(e)["ampdoc-fie"]){e.__AMP_EXPERIMENT_BRANCHES=e.__AMP_EXPERIMENT_BRANCHES||{};for(var g=0;g<G.length;g++){var h=G[g],m=h.experimentId;C.call(e.__AMP_EXPERIMENT_BRANCHES,m)||(h.isTrafficEligible&&h.isTrafficEligible(e)?!e.__AMP_EXPERIMENT_BRANCHES[m]&&E(e)[m]&&(h=h.branches,e.__AMP_EXPERIMENT_BRANCHES[m]=h[Math.floor(Math.random()*h.length)]||null):e.__AMP_EXPERIMENT_BRANCHES[m]=null)}e=
"21065002"===(e.__AMP_EXPERIMENT_BRANCHES?e.__AMP_EXPERIMENT_BRANCHES["ampdoc-fie"]:null)}else e=!1;k&&!e?d=J(f,"action")?I(f,"action"):null:(d=H(d),d=H(d),d=d.isSingleDoc()?d.win:d,d=J(d,"action")?I(d,"action"):null);d.hasAction(b,"tap")||aa(b)||(c?X(a):Y(a))}function X(a){a.element.setAttribute("i-amphtml-truncate-expanded","")}function Y(a){a.element.removeAttribute("i-amphtml-truncate-expanded")}(function(a){a.registerElement("amp-truncate-text",S,"amp-truncate-text{padding:0!important;border:none!important}amp-truncate-text[i-amphtml-truncate-expanded]{height:auto!important}amp-truncate-text[i-amphtml-truncate-expanded]>i-amphtml-sizer{display:none!important}amp-truncate-text[i-amphtml-truncate-expanded] .i-amphtml-truncate-content{position:static!important}amp-truncate-text:not([i-amphtml-truncate-expanded]) .i-amphtml-truncate-expanded-slot{display:none!important}.i-amphtml-truncate-content{position:absolute!important;top:0!important;left:0!important;bottom:0!important;right:0!important}.i-amphtml-truncate-content [slot=expand]{margin:0!important;white-space:nowrap!important}.i-amphtml-truncate-content:not([i-amphtml-truncate-overflow]) .i-amphtml-truncate-collapsed-slot,[i-amphtml-truncate-child-overflow]{display:none!important}\n/*# sourceURL=/extensions/amp-truncate-text/0.1/amp-truncate-text.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-truncate-text-0.1.js.map
