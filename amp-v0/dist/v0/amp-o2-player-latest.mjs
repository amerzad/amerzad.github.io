(self.AMP=self.AMP||[]).push({n:"amp-o2-player",v:"2008290323002",f:function(AMP,_){let c=self.AMP_CONFIG||{},e=("string"==typeof c.cdnProxyRegex?new RegExp(c.cdnProxyRegex):c.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function h(a){if(self.document&&self.document.head&&(!self.location||!e.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}c.cdnUrl||h("runtime-host");c.geoApiUrl||h("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let k=self.__AMP_LOG;function l(a,b,f){if(!k.user)throw Error("failed to call initLogConstructor");return k.user.assert(a,b,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function m(a){return a||{}}m({c:!0,v:!0,a:!0,ad:!0});
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */class n extends AMP.BaseElement{constructor(a){super(a);this.j=null;this.o=this.h=this.l=this.m=""}preconnectCallback(a){var b=this.win;b=b.__AMP_TOP||(b.__AMP_TOP=b);{let a=b.__AMP_SERVICES;a||(a=b.__AMP_SERVICES={});b=a}b=b.preconnect;b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));b=b.obj;b.url(this.getAmpDoc(),this.h,a)}isLayoutSupported(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a}buildCallback(){this.element.classList.add("i-amphtml-media-component");this.m=l(this.element.getAttribute("data-pid"),"data-pid attribute is required for <amp-o2-player> %s",this.element);this.l=l(this.element.getAttribute("data-bcid"),"data-bcid attribute is required for <amp-o2-player> %s",this.element);let a=this.element.getAttribute("data-bid"),b=this.element.getAttribute("data-vid"),f=this.element.getAttribute("data-macros");this.h="https://delivery."+("stage"!=this.element.getAttribute("data-env")?"":"dev.")+"vidible.tv";let g=`${this.h}/htmlembed/`;let d=[];g+="pid="+encodeURIComponent(this.m)+"/"+encodeURIComponent(this.l)+".html";a&&d.push("bid="+encodeURIComponent(a));b&&d.push("vid="+encodeURIComponent(b));f&&d.push(f);0<d.length&&(g+="?"+d.join("&"));this.o=g}layoutCallback(){l(this.m,"data-pid attribute is required for <amp-o2-player> %s",this.element);l(this.l,"data-bcid attribute is required for <amp-o2-player> %s",this.element);let a=this.element.ownerDocument.createElement("iframe");a.setAttribute("frameborder","0");a.setAttribute("allowfullscreen","true");a.src=this.o;this.j=a;this.applyFillContent(a);this.element.appendChild(a);return this.loadPromise(a)}pauseCallback(){this.j&&this.j.contentWindow&&this.j.contentWindow.postMessage(JSON.stringify(m({method:"pause",value:this.h})),"*")}}(a=>{a.registerElement("amp-o2-player",n)})(self.AMP)}});