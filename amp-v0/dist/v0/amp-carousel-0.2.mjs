(self.AMP=self.AMP||[]).push({n:"amp-carousel",v:"2008290323002",f:function(AMP,_){let m;function p(){return m?m:m=Promise.resolve(void 0)}function q(a,b=""){try{return decodeURIComponent(a)}catch(c){return b}}let aa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;let r=self.AMP_CONFIG||{},ba=("string"==typeof r.cdnProxyRegex?new RegExp(r.cdnProxyRegex):r.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function t(a){if(self.document&&self.document.head&&(!self.location||!ba.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}r.cdnUrl||t("runtime-host");r.geoApiUrl||t("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let ca=self.__AMP_LOG;function u(a,b){return 0<a&&0<b?a%b:(a%b+b)%b}function v(a){return a||{}}function w(a){return 2>a.length?!1:0==a.lastIndexOf("--",0)}let x;let da="Webkit webkit Moz moz ms O o".split(" ");function y(a,b,c){if(w(b))return b;x||(x=Object.create(null));let d=x[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(let b=0;b<da.length;b++){let c=da[b]+e;if(void 0!==a[c]){e=c;break a}}e=""}let c=e;void 0!==a[c]&&(d=c)}c||(x[b]=d)}return d}function ea(a,b){a=a.style;for(let c in b)a.setProperty(y(a,c),b[c].toString(),"important")}function z(a,b,c){(b=y(a.style,b,void 0))&&(w(b)?a.style.setProperty(b,c):a.style[b]=c)}function A(a,b){let{top:c,bottom:d,height:e,left:f,right:g,width:h}=b.getBoundingClientRect();return{start:0==a?f:c,end:0==a?g:d,length:0==a?h:e}}function B(a,b){let{start:c,end:d}=A(a,b);return(c+d)/2}function C(a,b){({start:a}=A(a,b));return a}function D(a,b,c){return"start"==b?C(a,c):B(a,c)}function E(a,b,c){0==a?z(b,"width",`${c}px`):z(b,"height",`${c}px`)}function F(a,b,c){let{start:d,end:e}=A(a,b);return d<=c&&c<e}function fa(a,b,c,d){let e=D(a,b,d),f=D(a,b,c),{length:g}=A(a,d);return(e-f)/g}function ha(a,b,c,d,e){let f=D(a,b,c);if(F(a,d[e],f))return e;for(b=1;b<=d.length/2;b++){let c=u(e+b,d.length),h=u(e-b,d.length);if(F(a,d[c],f))return c;if(F(a,d[h],f))return h}}function ia(a,b,c){function d(){e=0;let h=c-(a.Date.now()-f);if(0<h)e=a.setTimeout(d,h);else{var k=g;g=null;b.apply(null,k)}}let e=0,f=0,g=null;return function(...b){f=a.Date.now();g=b;e||(e=a.setTimeout(d,c))}}let G;function ja(a,b,c,d){let g,e=a,f=c;g=a=>{try{return f(a)}catch(n){throw self.__AMP_REPORT_ERROR(n),n}};let h=ka();let k=!1;d&&(k=d.capture);e.addEventListener(b,g,h?d:k);return()=>{e&&e.removeEventListener(b,g,h?d:k);g=e=f=null}}function ka(){if(void 0!==G)return G;G=!1;try{let a={get capture(){G=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(a){}return G}class la{constructor(){let a,b;this.promise=new Promise((c,d)=>{a=c;b=d});this.resolve=a;this.reject=b}}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function ma(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function na(a){return a.closest?a.closest("[i-amphtml-scale-animation]"):ma(a,a=>{{let b=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;a=b?b.call(a,"[i-amphtml-scale-animation]"):!1}return a})}function oa(a,b){let c=a.length;for(let d=0;d<c;d++)b(a[d],d)}function H(a,b,c,d){let e={detail:c};Object.assign(e,d);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,e);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,c);return a}function I(a,b,c,d){ja(a,b,c,d)}function pa(a){let b=a;let c=ja(window,"touchend",a=>{try{b(a)}finally{b=null,c()}},{capture:!0,passive:!0})}function qa(a,b){let c=ia(a.M,()=>{c==a.ka&&ra(a)&&(a.Ia.advance(a.fa,{actionSource:4,allowWrap:!0}),a.ea+=a.fa)},b);a.ka=c}function J(a){ra(a)&&a.ka()}function ra(a){return a.A&&a.Ja.isVisible()&&!a.sa&&!a.Ga&&a.ea<a.Ca}class sa{constructor(a){let b=a.element,c=a.scrollContainer,d=a.advanceable;this.M=a.win;this.h=c;this.Ia=d;this.ea=0;this.A=!1;this.fa=1;this.ga=1e3;this.Ga=this.sa=!1;this.ka=null;this.Ca=Number.POSITIVE_INFINITY;this.Ja=b.getAmpDoc();qa(this,this.ga);this.h.addEventListener("scroll",()=>this.ma(),!0);I(this.h,"touchstart",()=>this.na(),{capture:!0,passive:!0});I(b,"amp-carousel:indexchange",a=>{(a=a.detail.actionSource)&&4!==a&&this.stop()})}stop(){this.Ga=!0}pause(){this.sa=!0}resume(){this.sa=!1;J(this)}updateAutoAdvance(a){this.A=a;J(this)}updateAutoAdvanceCount(a){this.fa=a;J(this)}updateAutoAdvanceInterval(a){this.ga=Math.max(a,1e3);qa(this,this.ga);J(this)}updateMaxAdvances(a){this.Ca=a}na(){this.pause();pa(()=>{this.resume()})}ma(){J(this)}}function ta(a){a.O||2<=a.w?(a.h.removeAttribute("aria-live"),a.h.setAttribute("role","list"),a.j.forEach(a=>{a.setAttribute("role","listitem")})):(a.h.setAttribute("aria-live","polite"),a.h.removeAttribute("role"),a.j.forEach(a=>{a.removeAttribute("role")}))}function ua(a){a.j.forEach((b,c)=>{b.setAttribute("aria-hidden",!(a.O||2<=a.w)&&c!==a.za)})}class va{constructor(a){let b=a.element,c=a.scrollContainer,d=a.runMutate,e=a.stoppable;this.M=a.win;this.h=c;this.K=d;this.j=[];this.w=1;this.L=this.O=!1;this.za=0;b.addEventListener("focus",()=>{e.stop()},!0);b.addEventListener("amp-carousel:indexchange",a=>{this.ra(a)})}updateMixedLength(a){this.O=a}updateUi(){this.L||(this.L=!0,this.K(()=>{this.L=!1;ta(this);ua(this)}))}updateSlides(a){this.j=a;this.updateUi()}updateVisibleCount(a){this.w=a;this.updateUi()}ra(a){this.za=a.detail.index;this.K(()=>{ua(this)})}}function wa(a,b){var c=(c=y(a.style,"scrollBehavior",void 0))?w(c)?a.style.getPropertyValue(c):a.style[c]:void 0;z(a,"scrollBehavior","auto");b();z(a,"scrollBehavior",c)}function K(a){return a.reduce((a,c)=>a+c,0)}function L(a,b=!1){let c=a.G;if(!a.ba&&(a.G=void 0,a.ta=!1,a.K(()=>{a.V.dispatchEvent(H(a.M,"amp-carousel:scrollpositionchange",null))}),a.aa!==a.o||null!==a.B||b)){null!==a.B&&(a.o=a.B,a.B=null);var d=K(M(a));a.K(()=>{var b=a.o;a.aa!==b&&(a.aa=b,a.V.dispatchEvent(H(a.M,"amp-carousel:indexchange",v({index:b,total:a.j.length,actionSource:c,slides:a.j}),{bubbles:!0})));xa(a,a.o,a.ja);ya(a,d);za(a);Aa(a,d);Ba(a)})}}function Ca(a,b){let c=a.w;return b>=a.j.length-("start"===a.C?c:c/2)}function Da(a,b,c){(c.smoothScroll?(a,b)=>b():wa)(a.h,()=>{{var c=a.D,e=a.h,f="start"==a.C,{length:g}=A(c,b);let d=f?C(c,b):B(c,b);f=f?C(c,e):B(c,e);g=(0==c?e.scrollLeft:e.scrollTop)+(d-f-0*g);0==c?e.scrollLeft=g:e.scrollTop=g}})}function Ea(a){let b=a.D,c=a.j,d=M(a),e=K(d),f=a.isLooping()?c.length:0;a.R.forEach(b=>{a.h.removeChild(b)});a.R=N(f);a.R.forEach((e,f)=>{E(b,e,d[f]);a.h.insertBefore(e,c[0])});a.$.forEach(b=>{a.h.removeChild(b)});a.$=N(f);a.$.forEach((c,f)=>{E(b,c,d[f]);O(a,c,-1,e);a.h.appendChild(c)});a.P.forEach(b=>{a.h.removeChild(b)});a.P=N(f);a.P.forEach((c,f)=>{E(b,c,d[f]);O(a,c,-1,e);a.h.appendChild(c)});a.va=a.R.concat(a.$,a.P)}function Fa(a){let b=a.j.length,c="start"===a.C,d=1===u(a.w,2),e=c||d?"0%":"50%";oa(a.h.children,(c,d)=>{d=u(d,b);let f=0===u(d,a.Ea);d={"scroll-snap-align":f?a.C:"none","scroll-snap-coordinate":f?e:"none"};for(let a in d)z(c,a,d[a])})}function za(a){let b=a.P,c=a.R,d=a.o,e=a.j,f=Math.max(0,e.length-d-1),g=Math.max(0,d-1);c.forEach((a,b)=>{var g=c.length;g=d===b?g:u(d-b,g);a.hidden=g>e.length-1||b<e.length-f});b.forEach((a,c)=>{var f=b.length;f=d===c?f:u(c-d,f);a.hidden=f>e.length-1||c>g})}function xa(a,b,c){a.o=b;a.ja=c;a.V.dispatchEvent(H(a.M,"amp-carousel:offsetchange",v({index:b,total:a.j.length,offset:a.S?-c:c,slides:a.j}),{bubbles:!0}))}function Ga(a){var b=a.va,c=a.C;let d=a.D,e=a.o,f=a.h,g=a.j,h=K(M(a)),k=!!b.length,l=k?b:g,n=ha(d,c,f,l,k?e+g.length:e);void 0!==n&&(b=n%g.length,c=fa(d,c,f,l[n]),xa(a,b,c),b!==e&&a.K(()=>{Aa(a,h)}))}function O(a,b,c,d){var e=a.D,f=c*d*(a.S?1:-1);a=0==e?f:0;e=0==e?0:f;z(b,"transform",`translate(${a}px, ${e}px)`);ea(b,{"--content-transform":`translate(${a}px, ${e}px)`});b._revolutions=c}function ya(a,b){a.j.forEach(c=>{O(a,c,0,b)})}function M(a){return a.j.map(b=>A(a.D,b).length)}function N(a){let b=[];for(let c=0;c<a;c++){let a=document.createElement("div");a.className="i-amphtml-carousel-spacer";b.push(a)}return b}function Aa(a,b){if(a.isLooping()){var c=a.j,d=a.w,e="start"===a.C?d-1:0,f=(c.length-1+e)/2;Ha(a,b,Math.round((c.length-1-e)/2),!1);Ha(a,b,Math.round(f),!0)}}function Ba(a){let b=a.D;var c=a.ja;let d=a.h,e=a.j[a.o],f=fa(b,a.C,d,e)-c;({length:c}=A(b,e));let g=f*c;g&&(a.N=!0,wa(d,()=>{var a=(0==b?d.scrollLeft:d.scrollTop)+g;0==b?d.scrollLeft=a:d.scrollTop=a}))}function Ha(a,b,c,d){let e=a.o,f=a.aa,g=a.j,h=g[e]._revolutions||0,k=d?1:-1;for(let l=1;l<=c;l++){let c=u(e+l*k,g.length);if(c===f&&e!==f)break;O(a,g[c],c>e!==d?h+k:h,b)}}class Ia{constructor(a){let b=a.win,c=a.element,d=a.scrollContainer;a=a.runMutate;this.M=b;this.K=a;this.V=c;this.h=d;this.A=new sa({win:b,element:c,scrollContainer:d,advanceable:this});this.ia=new va({win:b,element:c,scrollContainer:d,runMutate:a,stoppable:this.A});this.xa=ia(b,()=>L(this),200);this.da=1;this.wa=Number.POSITIVE_INFINITY;this.O=!1;this.j=[];this.Ha=!0;this.L=!1;this.R=[];this.$=[];this.P=[];this.va=[];this.N=this.qa=!1;this.ja=0;this.B=null;this.aa=NaN;this.ta=this.ba=!1;this.G=void 0;this.C="start";this.D=0;this.ya=this.S=!0;this.o=0;this.Ba=!1;this.Fa=!0;this.w=this.Ea=1;this.h.addEventListener("scroll",()=>this.ma(),!0);this.h.addEventListener("scrollend",()=>{null===this.B&&L(this)},!0);I(this.h,"touchstart",()=>this.na(),{capture:!0,passive:!0});I(this.h,"wheel",()=>{this.G=2;this.B=null;this.N=!1},{capture:!0,passive:!0})}next(a){this.advance(this.da,{actionSource:a})}prev(a){this.advance(-this.da,{actionSource:a})}advance(a,{actionSource:b,allowWrap:c=!1}={}){var d=this.o;let e=this.B;d=null!==e?e:d;let f=d+a,g=this.j.length-1,h=0===d,k=d===g,l=0>f,n=f>g;a=this.isLooping()?u(f,g+1):c?0<a&&Ca(this,d)&&Ca(this,f)?0:l&&h||n&&!k?g:l&&!h||n&&k?0:f:Math.min(Math.max(f,0),g);this.goToSlide(a,{actionSource:b})}pauseLayout(){this.qa=!0;this.A.pause()}resumeLayout(){this.qa=!1;this.updateUi();this.A.resume()}getCurrentIndex(){return this.o}getVisibleCount(){return this.w}isLooping(){return this.Ba&&3<=this.j.length/this.w}goToSlide(a,{smoothScroll:b=!0,actionSource:c}={}){0>a||a>this.j.length-1||isNaN(a)||a===this.o||this.ba||this.ta&&(3===this.G||2===this.G)||(this.N=!1,this.B=a,this.G=c,Da(this,this.j[a],{smoothScroll:b}))}updateAdvanceCount(a){this.da=a}updateAlignment(a){this.C="start"===a?"start":"center";this.updateUi()}updateAutoAdvance(a){this.A.updateAutoAdvance(a)}updateAutoAdvanceCount(a){this.A.updateAutoAdvanceCount(a)}updateAutoAdvanceInterval(a){this.A.updateAutoAdvanceInterval(a)}updateAutoAdvanceLoops(a){this.wa=a;this.updateUi()}updateForwards(a){this.S=a;this.updateUi()}updateHideScrollbar(a){this.ya=a;this.updateUi()}updateHorizontal(a){this.D=a?0:1;this.updateUi()}updateLoop(a){this.Ba=a;this.updateUi()}updateMixedLength(a){this.O=a;this.ia.updateMixedLength(a);this.updateUi()}updateSlides(a){this.j=a;this.ia.updateSlides(a)}updateSnap(a){this.Fa=a;this.updateUi()}updateSnapBy(a){this.Ea=Math.max(1,a);this.updateUi()}updateUserScrollable(a){this.Ha=a;this.updateUi()}updateUi(){this.L||this.qa||(this.L=!0,this.K(()=>{this.L=!1;this.h.setAttribute("mixed-length",this.O);this.h.setAttribute("user-scrollable",this.Ha);this.h.setAttribute("hide-scrollbar",this.ya);this.h.setAttribute("horizontal",0===this.D);this.h.setAttribute("loop",this.isLooping());this.h.setAttribute("snap",this.Fa);ea(this.h,{"--visible-count":this.w});this.j.length&&(this.A.updateMaxAdvances(this.wa*this.j.length-1),Ea(this),Fa(this),za(this),L(this,!0))}))}updateVisibleCount(a){this.w=Math.max(1,a);this.ia.updateVisibleCount(a);this.updateUi()}notifyScrollStart(){this.V.dispatchEvent(H(this.M,"amp-carousel:scrollstart",null))}na(){this.ba=!0;this.G=3;this.B=null;this.N=!1;pa(()=>{this.ba=!1;this.xa()})}ma(){this.N?this.N=!1:(this.ta=!0,Ga(this),this.notifyScrollStart(),this.xa())}isAtEnd(){return this.isLooping()?!1:this.S?this.isScrollAtRightEdge():this.isScrollAtLeftEdge()}isAtStart(){return this.isLooping()?!1:this.S?this.isScrollAtLeftEdge():this.isScrollAtRightEdge()}isScrollAtRightEdge(){let a=this.h,{width:b}=a.getBoundingClientRect();return a.scrollLeft+Math.ceil(b)>=a.scrollWidth}isScrollAtLeftEdge(){return 0>=this.h.scrollLeft}}v({c:!0,v:!0,a:!0,ad:!0});function Ja(a){let b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(d){}let c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(let b=0;b<c.length;b++)0!=c[b].length&&("-"==c[b][0]?a[c[b].substr(1)]=!1:a[c[b]]=!0);return a}function Ka(a){let b=a.ownerDocument.defaultView;var c=b.__AMP_TOP||(b.__AMP_TOP=b);let d=b!=c;if(c.__AMP__EXPERIMENT_TOGGLES)var e=c.__AMP__EXPERIMENT_TOGGLES;else{c.__AMP__EXPERIMENT_TOGGLES=Object.create(null);e=c.__AMP__EXPERIMENT_TOGGLES;if(c.AMP_CONFIG)for(var f in c.AMP_CONFIG){var g=c.AMP_CONFIG[f];"number"===typeof g&&0<=g&&1>=g&&(e[f]=Math.random()<g)}if(c.AMP_CONFIG&&Array.isArray(c.AMP_CONFIG["allow-doc-opt-in"])&&0<c.AMP_CONFIG["allow-doc-opt-in"].length&&(f=c.AMP_CONFIG["allow-doc-opt-in"],g=c.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){g=g.getAttribute("content").split(",");for(var h=0;h<g.length;h++)-1!=f.indexOf(g[h])&&(e[g[h]]=!0)}Object.assign(e,Ja(c));if(c.AMP_CONFIG&&Array.isArray(c.AMP_CONFIG["allow-url-opt-in"])&&0<c.AMP_CONFIG["allow-url-opt-in"].length){f=c.AMP_CONFIG["allow-url-opt-in"];c=c.location.originalHash||c.location.hash;g=Object.create(null);if(c)for(var k;k=aa.exec(c);)h=q(k[1],k[1]),k=k[2]?q(k[2].replace(/\+/g," "),k[2]):"",g[h]=k;c=g;for(g=0;g<f.length;g++)h=c[`e-${f[g]}`],"1"==h&&(e[f[g]]=!0),"0"==h&&(e[f[g]]=!1)}}let l=!!e["ampdoc-fie"];d&&!l?a=P(b,"action")?Q(b,"action"):null:(a=R(a),a=S(a),a=P(a,"action")?Q(a,"action"):null);return a}function T(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return Q(a,b)}function La(a){var b=R(a);b=S(b);return Q(b,"owners")}function R(a){return a.nodeType?T((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function S(a){a=R(a);return a.isSingleDoc()?a.win:a}function Q(a,b){P(a,b);a=U(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Ma(a){let b=U(a)["amp-analytics-instrumentation"];if(b){if(b.promise)return b.promise;Q(a,"amp-analytics-instrumentation");return b.promise=Promise.resolve(b.obj)}return null}function U(a){let b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function P(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}function Na(){var a=new la;let b=a.promise,c=a.resolve;a=a.reject;b.catch(()=>{});return{obj:null,promise:b,resolve:c,reject:a,context:null,ctor:null}}function Oa(a){let b=Ma(S(a));if(b)return b;let c=R(a);return c.waitForBodyOpen().then(()=>{var a=c.win;var b=c.win.document.head;if(b){var f={};b=b.querySelectorAll("script[custom-element],script[custom-template]");for(let a=0;a<b.length;a++){var g=b[a];g=g.getAttribute("custom-element")||g.getAttribute("custom-template");f[g]=!0}f=Object.keys(f)}else f=[];return f.includes("amp-analytics")?T(a,"extensions").waitForExtension(a,"amp-analytics"):p()}).then(()=>{var b=c.win;if(b.__AMP_EXTENDED_ELEMENTS&&b.__AMP_EXTENDED_ELEMENTS["amp-analytics"]){b=S(a);let c=Ma(b);c?b=c:(b=U(b),b["amp-analytics-instrumentation"]=Na(),b=b["amp-analytics-instrumentation"].promise)}else b=null;return b})}function V(a,b,c){c?a.Y.scheduleLayout(a.H.element,b):a.Y.scheduleUnlayout(a.H.element,b)}function W(a,b,c){a.Y.updateInViewport(a.H.element,b,c);a.Ka(b,c)}function Pa(a,b){b.filter(a=>a.isIntersecting).forEach(a=>{a.target.__AMP_CAROUSEL_NEAR_VIEWPORT=0});a.Z||Qa(a)}function Ra(a,b){b.filter(a=>!a.isIntersecting).forEach(a=>{a.target.__AMP_CAROUSEL_NEAR_VIEWPORT=1});a.Z||Sa(a)}function Ta(a,b){b.forEach(a=>{a.target.__AMP_CAROUSEL_IN_VIEWPORT=a.isIntersecting?0:1});a.Z||Ua(a)}function Va(a){if(!(a.X&&a.U&&a.W)){var b=a.H.win;a.X=new b.IntersectionObserver(b=>Pa(a,b),{root:a.oa,rootMargin:`${a.Da}%`,threshold:a.Aa});a.U=new b.IntersectionObserver(b=>Ra(a,b),{root:a.oa,rootMargin:`${a.Da+10}%`,threshold:a.Aa});a.W=new b.IntersectionObserver(b=>Ta(a,b),{root:a.oa,rootMargin:"0%",threshold:a.La})}}function Qa(a){for(let b=0;b<a.m.length;b++){let c=a.m[b];0==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(V(a,c,!0),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function Sa(a){for(let b=0;b<a.m.length;b++){let c=a.m[b];1==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(V(a,c,!1),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function Ua(a){for(let b=0;b<a.m.length;b++){let c=a.m[b];0==c.__AMP_CAROUSEL_IN_VIEWPORT?W(a,c,!0):1==c.__AMP_CAROUSEL_IN_VIEWPORT&&W(a,c,!1);c.__AMP_CAROUSEL_IN_VIEWPORT=null}}function X(a,b){if("IntersectionObserver"in a.H.win)if(Va(a),b)for(let b=0;b<a.m.length;b++)a.X.observe(a.m[b]),a.U.observe(a.m[b]),a.W.observe(a.m[b]);else a.X.disconnect(),a.U.disconnect(),a.W.disconnect()}class Wa{constructor(a){let{ampElement:b,intersectionElement:c,intersectionThreshold:d=.01,nearbyMarginInPercent:e=100,viewportIntersectionThreshold:f=d,viewportIntersectionCallback:g=(()=>{})}=a;this.H=b;this.Y=La(b.element);this.oa=c;this.Aa=d;this.Da=e;this.La=f;this.Ka=g;this.Z=!1;this.m=[];this.W=this.U=this.X=null;this.T=!1}setQueueChanges(a){this.Z=a}flushChanges(){Qa(this);Sa(this);Ua(this)}updateChildren(a){this.m=a;if("IntersectionObserver"in this.H.win){for(a=0;a<this.m.length;a++)this.Y.setOwner(this.m[a],this.H.element);X(this,!1);X(this,this.T)}}wasLaidOut(){this.T=!0;X(this,this.T)}wasUnlaidOut(){this.T=!1;X(this,this.T);for(let a=0;a<this.m.length;a++)V(this,this.m[a],!1),W(this,this.m[a],!1)}}let Y;function Xa(a){a=a.ownerDocument||a;Y&&Y.ownerDocument===a||(Y=a.createElement("div"));return Ya}function Ya(a){var b=Y;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return b=a}function Za(a,b,c={}){Oa(a).then(d=>{d&&d.triggerEventForTarget(a,b,c,!0)})}let $a=['<div class=i-amphtml-carousel-content><div class=i-amphtml-carousel-scroll></div><div class=i-amphtml-carousel-arrows><div tabindex=0 class="amp-carousel-button amp-carousel-button-prev"></div><div tabindex=0 class="amp-carousel-button amp-carousel-button-next"></div></div></div>'];function ab(a,b){a.ha=void 0!==b?b:!a.ha;a.l.updateAutoAdvance(a.ha)}function bb(a){a.registerAction("goToSlide",b=>{var c=b.args;let d=b.trust,e=Number(c.index||0);var f=!isNaN(e);c=c.index;var g=a.element;if(!ca.user)throw Error("failed to call initLogConstructor");ca.user.assert(f,"Unexpected slide index for goToSlide action: %s. %s",c,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0);a.l.goToSlide(e,{actionSource:2<=d?0:1})},1);a.registerAction("toggleAutoplay",b=>{b=b.args;ab(a,b?b.toggleOn:void 0)},1)}function cb(a,b){let c=a.element.getAttribute("dir")||(a.win.getComputedStyle(a.element)||Object.create(null)).direction,d=a.element.hasAttribute("loop"),e=a.element.getAttribute("autoplay"),f=a.element.getAttribute("delay"),g=a.element.getAttribute("type"),h=null!=e,k=e?Number(e):Number.POSITIVE_INFINITY,l=Math.max(Number(f)||5e3,1e3);a.l.updateForwards("rtl"!=c);a.l.updateLoop(d||h);a.l.updateAutoAdvanceLoops(k);a.l.updateAutoAdvanceInterval(l);a.mutateElement(()=>{a.J.setAttribute("dir",c);a.I.setAttribute("dir",c)});ab(a,h);db(a,g,b);Z(a)}function eb(a,b){let c=a.h;({direction:a}=a.win.getComputedStyle(c)||Object.create(null));c.scrollLeft+=c.offsetWidth*(b?1:-1)*("rtl"==a?-1:1)}function db(a,b,c){let d="slides"==b;a.ca=d?"slides":"carousel";a.l.updateAlignment(d?"center":"start");a.l.updateHideScrollbar(d);a.l.updateMixedLength(!d);a.l.updateSnap(d);let e=d?"button":"presentation";a.J.setAttribute("role",e);a.I.setAttribute("role",e);a.j=c.map(a=>{a.classList.add("amp-carousel-slide");if(d){let b=document.createElement("div");b.className="i-amphtml-carousel-slotted";b.appendChild(a);return b}return a});a.j.forEach(b=>{a.h.appendChild(b);d?b.classList.add("i-amphtml-carousel-slide-item"):b.classList.add("amp-scrollable-carousel-slide")})}function Z(a){var b=a.l.getCurrentIndex();let c=a.la&&!a.element.hasAttribute("controls"),d=c||a.l.isAtStart(),e=c||a.l.isAtEnd();a.J.classList.toggle("amp-disabled",d);a.J.setAttribute("aria-disabled",d);var f=a.J;var g=0<=b-1?b-1:a.element.hasAttribute("loop")?a.j.length-1:null;g=null==g?0:g;g=(a.element.getAttribute("data-prev-button-aria-label")||"Previous item in carousel")+fb(a,g);f.title=g;a.I.classList.toggle("amp-disabled",e);a.I.setAttribute("aria-disabled",e);f=a.I;b=b+1<a.j.length?b+1:a.element.hasAttribute("loop")?0:null;b=null==b?a.j.length-1:b;a=(a.element.getAttribute("data-next-button-aria-label")||"Next item in carousel")+fb(a,b);f.title=a}function fb(a,b){let c=String(b+1),d=String(a.j.length);return" "+(a.element.getAttribute("data-button-count-format")||"(%s of %s)").replace("%s",c).replace("%s",d)}function gb(a,b){return null==b?"null":a.j[b].getAttribute("data-slide-id")||String(b)}class hb extends AMP.BaseElement{constructor(a){super(a);this.pa=T(this.win,"platform").isIos();this.h=this.l=null;this.j=[];this.o=null;this.ca="carousel";this.ha=!1;this.J=this.I=null;this.la=!1;this.F=this.ua=null}isLayoutSupported(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a}prerenderAllowed(){return!0}buildCallback(){this.ua=Ka(this.element);let a=this.element,b=this.win,c=this.getRealChildren();a.appendChild(Xa(this.element)($a));this.h=this.element.querySelector(".i-amphtml-carousel-scroll");this.J=this.element.querySelector(".amp-carousel-button-prev");this.I=this.element.querySelector(".amp-carousel-button-next");this.l=new Ia({win:b,element:a,scrollContainer:this.h,initialIndex:Number(this.element.getAttribute("slide")),runMutate:a=>this.mutateElement(a)});cb(this,c);bb(this);this.element.addEventListener("amp-carousel:indexchange",a=>{this.ra(a)});this.element.addEventListener("amp-carousel:scrollstart",()=>{this.F.setQueueChanges(this.pa)});this.element.addEventListener("amp-carousel:scrollpositionchange",()=>{this.F.flushChanges();this.F.setQueueChanges(!1);Z(this)});this.J.addEventListener("click",()=>this.interactionPrev());this.I.addEventListener("click",()=>this.interactionNext());let d=La(a);this.F=new Wa({ampElement:this,intersectionElement:this.h,nearbyMarginInPercent:this.pa?200:100,viewportIntersectionCallback:(a,b)=>{b?d.scheduleResume(this.element,a):d.schedulePause(this.element,a)}});this.F.setQueueChanges(this.pa);this.F.updateChildren(this.j);this.l.updateSlides(this.j);this.l.goToSlide(Number(this.element.getAttribute("slide")||"0"));return this.mutateElement(()=>{})}isRelayoutNeeded(){return!0}layoutCallback(){if(na(this.element))return p();this.F.wasLaidOut();this.l.updateUi();return p()}unlayoutCallback(){this.F.wasUnlaidOut();return!0}pauseCallback(){this.l.pauseLayout()}resumeCallback(){this.l.resumeLayout()}mutatedAttributesCallback(a){void 0!==a.slide&&this.l.goToSlide(Number(a.slide))}goToSlide(a){this.l.goToSlide(a,{smoothScroll:!1})}interactionNext(){"carousel"==this.ca?eb(this,!0):this.l.next(0)}interactionPrev(){"carousel"==this.ca?eb(this,!1):this.l.prev(0)}ra(a){var b=a.detail;a=b.index;var c=b.actionSource;this.la=this.la||3==c;Z(this);if("carousel"!=this.ca){var d=this.o;this.o=a;if(null!=d){b=v({index:a});c=2==c||3==c||0==c?3:1;var e=H(this.win,"slidescroll.slideChange",b);this.ua.trigger(this.element,"slideChange",e,c);this.element.dispatchCustomEvent("slideChange",b);b=d;d=a-b;c=this.j.length;d=(this.l.isLooping()?0<d&&.5>d/c||0>d&&-.5>d/c:0<d)?"amp-carousel-next":"amp-carousel-prev";a=v({fromSlide:gb(this,b),toSlide:gb(this,a)});Za(this.element,"amp-carousel-change",a);Za(this.element,d,a)}}}}(a=>{a.registerElement("amp-carousel",hb,".i-amphtml-carousel-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-carousel-scroll{display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-align:center;align-items:center;outline:none;scroll-behavior:smooth;-webkit-overflow-scrolling:touch!important;--visible-count:1}.i-amphtml-carousel-scroll[hide-scrollbar=true]{scrollbar-width:none}.i-amphtml-carousel-scroll[hide-scrollbar=true]::-webkit-scrollbar{display:none;box-sizing:content-box!important}.i-amphtml-carousel-scroll[horizontal=true]{-ms-flex-direction:row;flex-direction:row;scroll-snap-type-x:mandatory;scroll-snap-type:x mandatory;padding-bottom:20px!important;overflow-y:hidden}.i-amphtml-carousel-scroll[horizontal=false]{-ms-flex-direction:column;flex-direction:column;scroll-snap-type-y:mandatory;scroll-snap-type:y mandatory;padding-right:20px!important;overflow-x:hidden}.i-amphtml-carousel-scroll[snap=false]{scroll-snap-type:none}.i-amphtml-carousel-scroll[user-scrollable=false]{overflow:hidden}.i-amphtml-carousel-spacer{z-index:-1}.i-amphtml-carousel-slotted,.i-amphtml-carousel-spacer{box-sizing:border-box!important;margin:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;width:100%;height:100%;scroll-snap-stop:always}.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-spacer{width:calc(100%/var(--visible-count))!important;min-width:auto!important;max-width:none!important}.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-spacer{height:calc(100%/var(--visible-count))!important;min-height:auto!important;max-height:none!important}.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-width:100%!important}.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-height:100%!important}.i-amphtml-carousel-scroll>.i-amphtml-carousel-slotted{will-change:transform}amp-carousel .i-amphtml-carousel-scroll[horizontal=true]{padding-bottom:0!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-scroll{display:block!important;white-space:nowrap!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-content{position:static}.amp-scrollable-carousel-slide{display:inline-block!important;margin-left:8px;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:0;margin-inline-end:0}.amp-scrollable-carousel-slide:first-child{margin-left:0px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0}.i-amphtml-carousel-arrows{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;pointer-events:none}.amp-carousel-button[dir=rtl]{transform:scaleX(-1)}.amp-carousel-button{position:relative;box-sizing:border-box;height:34px;width:34px;margin:16px;border-style:none;border-radius:2px;background-color:rgba(0,0,0,0.5);background-position:50% 50%;background-repeat:no-repeat;z-index:10;pointer-events:all}.amp-carousel-button.amp-disabled{animation:none;opacity:0;visibility:hidden;pointer-events:none}.amp-carousel-button-prev{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z'/%3E%3C/svg%3E\");background-size:18px 18px}.amp-carousel-button-next{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M9 3L7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z'/%3E%3C/svg%3E\");background-size:18px 18px}.i-amphtml-carousel-slide-item{position:relative!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-carousel-slide-item>*{width:100%;height:100%;overflow:hidden!important}.amp-carousel-slide>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}\n/*# sourceURL=/extensions/amp-carousel/0.2/amp-carousel.css*/")})(self.AMP)}});