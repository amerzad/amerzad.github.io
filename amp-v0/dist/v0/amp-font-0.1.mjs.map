{"version":3,"mappings":"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","names":["env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","logs","dict","opt_initial","c","v","a","ad","getService","win","id","services","holder","s","getServices","b","propertyNameCache","vendorPrefixes","split","setStyles","element","styles","k","prefix","camelCase","string","e","Object","propertyName","undefined","style","titleCase","i","g","prefixedPropertyName","styleValue","DEFAULT_FONTS_","load_","Promise","resolve","reject","fontString","fontConfig_","fontStyle","variant","weight","size","family","canUseNativeApis_","document_","fonts","check","load","then","Error","catch","loadWithPolyfill_","vsync","ampdoc_","comparators","createFontComparators_","vsyncTask","measure","fontLoadResolved_","fontLoadRejected_","comparator","containerElement","container_","createElement","fontSize","fontVariant","fontWeight","left","lineHeight","margin","padding","position","top","visibility","defaultFont","FontComparator","getBody","appendChild","FontLoader","constructor","ampdoc","this","fontConfig","timeout","Services","dispose_","reason","getFontElement_","doc","fontFamily","TEST_STRING_","float","whiteSpace","container","customFont","testFontFamily","defaultFontElement_","testFontElement_","compare","hasHeightChanged","TOLERANCE_","Math","offsetHeight","offsetWidth","startLoad_","fontLoader_","fontStyle_","fontVariant_","fontWeight_","DEFAULT_SIZE_","fontFamily_","getTimeout_","addClassName","onFontLoadSuccess_","getAttribute","removeClassName","onFontLoadFinish_","unusedError","onFontLoadError_","timeoutInMs","parseInt","value","isFinite","DEFAULT_TIMEOUT_","CACHED_FONT_LOAD_TIME_","getAmpDoc","root","AmpFont","AMP","super","prerenderAllowed","buildCallback","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","DEFAULT_WEIGHT_","DEFAULT_STYLE_","DEFAULT_VARIANT_","TAG"],"sources":["src/config.js","src/log.js","src/utils/object.js","src/url.js","src/service.js","src/style.js","src/string.js","extensions/amp-font/0.1/fontloader.js","src/services.js","src/dom.js","extensions/amp-font/0.1/amp-font.js","src/types.js"],"file":"amp-font-0.1.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}