{"version":3,"sources":["src/resolved-promise.js"," [synthetic:util/objectcreate] "," [synthetic:util/global] "," [synthetic:util/shouldpolyfill] "," [synthetic:es6/util/setprototypeof] ","src/config.js","src/log.js","src/string.js","src/style.js","src/utils/object.js","src/url.js","src/service.js","src/services.js","extensions/amp-fx-flying-carpet/0.1/amp-fx-flying-carpet.js"," [synthetic:es6/util/inherits] ","src/layout.js","src/common-signals.js","build/amp-fx-flying-carpet-0.1.css.js"],"names":["$jscomp.objectCreate","$jscomp.getGlobal","$jscomp.setPrototypeOf","resolved","env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","logs","userAssert","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","Error","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","startsWith","string","prefix","propertyNameCache","vendorPrefixes","dict","opt_initial","getServiceForDoc","elementOrAmpDoc","ampdoc","getAmpdoc","getServiceInternal","getAmpdocServiceHolder","id","nodeOrDoc","getAmpdocService","win","holder","services","s","constructor","AmpFlyingCarpet","element","children_","totalChildren_","container_","initialPositionChecked_","AMP","isLayoutSupported","layout","FIXED_HEIGHT","isRelayoutNeeded","buildCallback","doc","ownerDocument","container","getRealChildren","childNodes","getRealChildNodes","visibileChildren_","length","owners","forEach","child","clip","appendChild","getViewport","addToFixedLayer","viewportCallback","inViewport","Services","layoutCallback","layoutBox","assertPosition_","getLayoutBox","viewport","viewportHeight","docHeight","minTop","maxTop","e","collapse","width","getLayoutWidth","property","Object","propertyName","undefined","style","getVendorJsPropertyName_","i","camelCase","prefixedPropertyName","opt_units","styleValue","observeNewChildren_","Promise","observer","MutationObserver","changes","addedNodes","n","node","BUILT","layoutBuiltChild_","bind","childList","subtree","collapsedCallback","index","indexOf","splice","attemptCollapse","catch","getChildren","nodes","test","TAG","CSS"],"mappings":"A;AAgBA,IAAA,CAAA,CCcAA,EACmD,UAA/C,EAAuB,MAAO,OAAA,OAA9B,CACA,MAAA,OADA,CAEA,QAAQ,CAAC,CAAD,CAAY,CAEP,QAAA,EAAQ,EAAG,EACtB,CAAA,UAAA,CAAiB,CACjB,OAAO,KAAI,CAJO,CCAJ,SAAA,EAAQ,CAAC,CAAD,CAAe,CAuBzC,IAtBA,IAAI,EAAkB,CAKpB,QALoB,EAKR,MAAO,WALC,EAKa,UALb,CAcpB,CAdoB,CAgBpB,QAhBoB,EAgBR,MAAO,OAhBC,EAgBS,MAhBT,CAkBpB,QAlBoB,EAkBR,MAAO,KAlBC,EAkBO,IAlBP,CAoBpB,QApBoB,EAoBR,MAAO,OApBC,EAoBS,MApBT,CAAtB,CAsBS,EAAI,CAAb,CAAgB,CAAhB,CAAoB,CAAA,OAApB,CAA4C,EAAE,CAA9C,CAAiD,CAC/C,IAAI,EAAc,CAAA,CAAgB,CAAhB,CAOlB,IAAI,CAAJ,EAAmB,CAAA,KAAnB,EAA0C,IAA1C,CACE,MAT6C,CAoBlC,SAAQ,EAAG,CAClB,KAAU,MAAJ,CAAU,2BAAV,CAAN,CADkB,CAAX,CADO,EA1CmB,CAsD1BC,CAAA,CAAkB,IAAlB,CC1DK,WAAlB,GAAA,MAAO,OAAP,EAAuC,MAAA,CAAO,GAAP,CCqBlB,KAAA,CAAA;GACiC,UADjC,EACC,MAAO,OAAA,eADR,CAErB,CAAA,CAAA,MAAA,eAFqB,KAAA,CAGrB,IAAA,CAxByC,EAAA,CAAA,CAC3C,IAAI,EAAI,CAAC,EAAG,CAAA,CAAJ,CAAR,CACI,EAAI,EACR,IAAI,CACF,CAAA,UAAA,CAAc,CACd,EAAA,CAAO,CAAA,EAAP,OAAA,CAFE,CAGF,MAAO,CAAP,CAAU,EAGZ,CAAA,CAAO,CAAA,CAToC,CAwBzC,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,CAAA,CAAA,KAAA,KAAA,SAAA,CAAA,CAAA,CAAA,oBAAA,CAAA,CAAA,MAAA,EAAA,CAAA,CAAA,IAHqB,CAAzB,IAAAC,EAAyB,CAAzB,CJlCIC,C,CKOJ,IAAMC,EAAMC,IAAAA,WAAND,EAAyB,EAA/B,CAOME,GAC4B,QAA/B,EAAA,MAAOF,EAAAA,cAAP,CACG,IAAIG,MAAJ,CAAWH,CAAAA,cAAX,CADH,CAEGA,CAAAA,cAHAE,GAIJ,qDAYFE,SAASA,EAAT,CAAoBC,CAApB,CAA0B,CAOxB,GALKJ,IAAAA,SAKL,EALuBA,IAAAA,SAAAA,KAKvB,GAAIA,CAAAA,IAAAA,SAAJ,EAAqBC,CAAAA,CAAAA,KAAAA,CAAmBD,IAAAA,SAAAA,OAAnBC,CAArB,EAAA,CAIA,IAAMI,EAASL,IAAAA,SAAAA,KAAAA,cAAAA,CACZ,aADYA,CACCI,CADDJ,CACZ,IADYA,CAGPK,EAAD,EAAWA,CAAAA,aAAAA,CAAoB,SAApBA,CAPlB,CAPwB,CAuBtBN,CAAAA,OALgB,EAKCI,CAAAA,CAAW,cAAXA,CA2BXJ,EAAAA,UAAAA,EAAoBI,CAAAA,CAAW,aAAXA,C,CC+nB9BH,IAAAA,UAAAA,CAAiBA,IAAAA,UAAjBA,EAAmC,CACjCM,KAAM,IAD2B,CAEjCC,IAAK,IAF4B,CAGjCC,aAAc,IAHmB,CAMnC,KAAMC,EAAOT,IAAAA,UAoNNU,SAASA,EAAT,CACLC,CADK,CAELC,CAFK,CAGLC,CAHK,CAILC,CAJK,CAKLC,CALK,CAYL,CAjLA,GAAI,CAACN,CAAAA,KAAL,CAoBE,KAAUO,MAAJ,CAAU,mCAAV,CAAN,CAhBOP,CAAAA,KA8KFH,OAAAA,CACLK,CADKL,CAELM,CAFKN,CAGLO,CAHKP,CAILQ,CAJKR,CAKLS,CALKT,CAPPW,IAAAA,EAOOX,CANPY,IAAAA,EAMOZ,CALPa,IAAAA,EAKOb,CAJPc,IAAAA,EAIOd,CAHPe,IAAAA,EAGOf,CAFPgB,IAAAA,EAEOhB,CADP,C,CCx3BKiB,QAASA,EAAT,CAAoBC,CAApB,CAAoC,CACzC,MAAIC,EAAJ,CAAoBD,CAAAA,OAApB,CACS,CAAA,CADT,CAGwC,CAHxC,EAGOA,CAAAA,YAAAA,CCwSqBC,IDxSrBD,CAA2B,CAA3BA,CAJkC,C,CCvD3C,IAAIE,CAAJ,CAGMC,EAAiB,8BAAA,MAAA,CAAA,GAAA,C,CCuBhBC,SAAA,CAAcC,CAAd,CAA2B,CAGhC,MAAmCA,EAAnC,EAAkD,EAHlB,CAA3BD,CCnBqBA,CAAK,CAE/B,EAAK,CAAA,CAF0B,CAI/B,EAAK,CAAA,CAJ0B,CAM/B,EAAK,CAAA,CAN0B,CAQ/B,GAAM,CAAA,CARyB,CAU/B,OAAU,CAAA,CAVqB,CAALA,C,CC4NrBE,QAASA,EAAT,CAA0BC,CAA1B,CAA+C,CACpD,IAAMC,EAASC,CAAAA,CAAUF,CAAVE,CAoHTD,EAAAA,CAASC,CAAAA,CAnHuBD,CAmHvBC,CACf,EAAA,CAAOD,CAAAA,YAAAA,EAAAA,CAAuBA,CAAAA,IAAvBA,CAAoCA,CAnH3C,OAAOE,EAAAA,CADQC,CACRD,CCwHHE,QDxHGF,CAH6C,CAqG/CD,QAASA,EAAT,CAAmBI,CAAnB,CAA8B,CACnC,GAAIA,CAAAA,SAAJ,CAAA,CAKSC,IAAAA,EAAAA,CAAAA,CAAAA,cAAAA,EAAAA,CAAAA,aA9JTC,EAAAA,CAAmBA,CA8HZA,UA9HPA,GAAmBA,CA8HMA,UA9HzBA,CAAmBA,CAAnBA,CA8JSD,EAAAA,CA7JFJ,CAAAA,CAAmBK,CAAnBL,CAoLLE,QApLKF,CA6JEI,UAAAA,CAAAA,CAAAA,CALT,CAAA,MAAA,EADmC,CAyCrCJ,QAASA,EAAT,CAA4BM,CAA5B,CAAoCJ,CAApC,CAAwC,CA+HtC,IAAIK,EA1HyBD,CA0HdA,eACVC,EAAL,GACEA,CADF,CA3H6BD,CA4HhBA,eADb,CACqC,EADrC,CA1HME,EAAAA,CA6HCD,CA7HGA,CAASL,CAATK,CACLC,EAAAA,IAAL,GAGEA,CAAAA,IAMA,CANQ,IAAIA,CAAAA,KAAJ,CAAWA,CAAAA,QAAX,CAMR,CAJAA,CAAAA,KAIA,CAJS,IAIT,CAHAA,CAAAA,QAGA,CAHY,IAGZ,CAAIA,CAAAA,QAAJ,EACEA,CAAAA,QAAAA,CAAUA,CAAAA,IAAVA,CAVJ,CAaA,OAAOA,EAAAA,IApB+B,C;;AE5WtCC,QAFWC,EAEA,CAACC,CAAD,CAAU,CACnB,CAAA,CAAA,GAAA,YAAA,KAAA,CAAA,IAAA,CAAMA,CAAN,CAAA,EAAA,IASA,EAAAC,EAAA,CAAiB,EAWjB,EAAAC,EAAA,CAAsB,CAQtB,EAAAC,EAAA,CAAkB,IAGlB,EAAAC,EAAA,CAA+B,CAAA,CAhCZ,OAAA,EAAA,CAFcC,IAAAA,EAAAA,GAAAA,YAAxBN,ECgCX,UAAA,CAAsBjD,CAAA,CAAqB,CAAA,UAArB,CDhCXiD,ECiCM,UAAA,YAAA,CDjCNA,CCkCX,IAAI/C,CAAJ,CAIEA,CAAA,CDtCS+C,CCsCT,CAA0B,CAA1B,CAJF,KAQE,KAAK,IAAI,CAAT,GAAc,EAAd,CACE,GAAS,WAAT,EAAI,CAAJ,CAIA,GAAI,MAAA,iBAAJ,CAA6B,CAC3B,IAAI,EAAa,MAAA,yBAAA,CAAgC,CAAhC,CAA4C,CAA5C,CACb,EAAJ,EACE,MAAA,eAAA,CDlDGA,CCkDH,CAAiC,CAAjC,CAAoC,CAApC,CAHyB,CAA7B,ID/COA,ECsDL,CAAU,CAAV,CAAA,CAAe,CAAA,CAAW,CAAX,CDtDVA,EC2DX,EAAA,CAAwB,CAAA,UDrBxBO,EAAAA,CAAAA,CAAAA,UAAAA,EAAAA,kBAAAA,CAAAA,QAAiB,CAACC,CAAD,CAAS,CACxB,ME9BYC,cF8BZ,EAAOD,CADiB,CAK1BE,EAAAA,iBAAAA,CAAAA,QAAgB,EAAG,CACjB,MAAO,CAAA,CADU,CAKnBC;CAAAA,cAAAA,CAAAA,QAAa,EAAG,CAAA,IAAA,EAAA,IAAA,CACRC,EAAM,IAAAX,QAAAY,cADE,CAERC,EAAYF,CAAAA,cAAAA,CAAkB,KAAlBA,CAElB,KAAAV,EAAA,CAAiB,IAAAa,gBAAA,EACjB,KAAAX,EAAA,CAAkBU,CAElB,KAAME,EAAa,IAAAC,kBAAA,EACnB,KAAAd,EAAA,CAAsBe,CAAA,CAAuBF,CAAvB,CAAAG,OAEtB,KAAMC,ED+R6DlC,CAAAA,CC/R9B,IAAAe,QD+R8Bf,CC9RnE,KAAAgB,EAAAmB,QAAA,CAAwBC,QAAAA,CAAAA,CAAAA,CAAUF,CAAAA,MAAAA,EAAAA,SAAAA,CAAgBE,CAAhBF,CAAuB,CAAAnB,QAAvBmB,CAAAA,CAAlC,CAEA,KAAMG,EAAOX,CAAAA,cAAAA,CAAkB,KAAlBA,CACbW,EAAAA,aAAAA,CAAkB,OAAlBA,CAA2B,iCAA3BA,CACAT,EAAAA,aAAAA,CAAuB,OAAvBA,CAAgC,sCAAhCA,CAEAE,EAAAA,QAAAA,CAAoBM,QAAAA,CAAAA,CAAAA,CAAUR,CAAAA,MAAAA,EAAAA,YAAAA,CAAsBQ,CAAtBR,CAAAA,CAA9BE,CACAO,EAAAA,YAAAA,CAAiBT,CAAjBS,CACA,KAAAtB,QAAAuB,YAAA,CAAyBD,CAAzB,CAKA;IAAAE,YAAA,EAAAC,gBAAA,CACEZ,CADF,CAE0B,CAAA,CAF1B,CAxBc,CA+BhBa,EAAAA,iBAAAA,CAAAA,QAAgB,CAACC,CAAD,CAAa,CD0QwC1C,CAAAA,CCzQ7C,IAAAe,QDyQ6Cf,CCzQnE2C,iBAAAA,CACE,IAAA5B,QADF4B,CAEE,IAAA3B,EAFF2B,CAGED,CAHFC,CAD2B,CA2C7BC;CAAAA,eAAAA,CAAAA,QAAc,EAAG,CACf,GAAI,CAAC,IAAAzB,EAAL,CAAmC,CACjC,GAAI,CA/BN,IAAM0B,EAgCFC,IAhCc/B,QAAAgC,aAAA,EAAlB,CACMC,EA+BFF,IA/BaP,YAAA,EADjB,CAEMU,EAAiBD,CAAAA,UAAAA,EAFvB,CAMME,EAAYF,CAAAA,gBAAAA,EAEZG,EAAAA,CAA0B,GAA1BA,CAASF,CACTG,EAAAA,CAASF,CAATE,CAAsC,GAAtCA,CAAqBH,CAC3BrE,EAAAA,CACEiE,CAAAA,IADFjE,EACmBuE,CADnBvE,CAEE,sHAFFA,CAsBIkE,IAlBF/B,QAJFnC,CAKEiE,CAAAA,IALFjE,CAMEuE,CANFvE,CAQAA,EAAAA,CACEiE,CAAAA,IADFjE,EACmBwE,CADnBxE,CAEE,+GAFFA,CAcIkE,IAVF/B,QAJFnC,CAKEiE,CAAAA,IALFjE,CAMEwE,CANFxE,CAaM,CAEF,MAAOyE,CAAP,CAAU,CAGV,KADA,KAAAC,SAAA,EACMD,CAAAA,CAAN,CAHU,CAKZ,IAAAlC,EAAA,CAA+B,CAAA,CARE,CAW7BoC,CAAAA,CAAQ,IAAAxC,QAAAyC,eAAA,EACLtC;CAAAA,CAAAA,IAAAA,EL1CTH,EAAAA,CAAAA,CAAAA,MApDF,IAuTOtB,CAAAA,CKzNqBgE,OLyNrBhE,CAvTP,CAEE,CAAA,CK4F0BgE,OL9F5B,KAAA,CAIK7D,CAAL,GACEA,CADF,CCxCY8D,MAAAA,OAAAA,CAAc,IAAdA,CDwCZ,CAGIC,EAAAA,CAAe/D,CAAAA,MACnB,IAAI,CAAC+D,CAAL,CAAsC,CACpCA,CAAAA,CKqF0BF,OLpF1B,IAAyBG,IAAAA,EAAzB,GAAIC,CAAAA,MAAJ,CAAoC,CAELC,IAAAA,CAlCiB,EAAA,CAAA,CAClD,IAASC,CAAT,CAAa,CAAb,CAAgBA,CAAhB,CAAoBlE,CAAAA,OAApB,CAA2CkE,CAAAA,EAA3C,CAAgD,CAC9C,IAAMJ,EAAe9D,CAAAA,CAAekE,CAAflE,CAAf8D,CAbDK,OAcL,IAA4BJ,IAAAA,EAA5B,GA+BwDC,CA/BpDA,CAAMF,CAANE,CAAJ,CAAuC,CACrC,CAAA,CAAOF,CAAP,OAAA,CADqC,CAFO,CAMhD,CAAA,CAAO,EAP2C,CAoCVC,IAAAA,EAApC,GAAIC,CAAAA,CAAMI,CAANJ,CAAJ,GACEF,CADF,CACiBM,CADjB,CAJkC,CASlCrE,CAAAA,MADF,CACiC+D,CAXG,CActC,CAAA,CAAOA,CAtBP,CAwDKA,CAAL,GKsCqCJ,CLhCrC,EKgC4CW,ILhC5C,CAyPOzE,CAAAA,CAzPGkE,CAyPHlE,CAzPP,CACEsB,CAAAA,MAAAA,YAAAA,CAA0B4C,CAA1B5C,CAAwCoD,CAAxCpD,CADF,CAGEA,CAAAA,MAAAA,CAAc4C,CAAd5C,CAHF,CAGgCoD,CAThC,CIwPqEnE,EAAAA,CCjN7C,IAAAe,QDiN6Cf,CCjNnE2C,eAAAA,CACE,IAAA5B,QADF4B,CAEE,IAAA3B,EAFF2B,CAIAyB,EAAA,CAAAA,IAAA,Cb7IEpG,EAAJ,GAOAA,CAPA,CAOWqG,OAAAA,QAAAA,CAAgBT,IAAAA,EAAhBS,CAPX,CACE,EAAA,CAAOrG,Ca6IP,OAAO,EAnBQ,CA2BjBoG;QAAAA,EAAmB,CAAnBA,CAAmB,CAAG,CAmBpBE,CAlBiBA,IAAIC,gBAAJD,CAAsBE,QAAAA,CAAAA,CAAAA,CAAY,CACjD,IAAK,IAAIT,EAAI,CAAb,CAAgBA,CAAhB,CAAoBS,CAAAA,OAApB,CAAoCT,CAAAA,EAApC,CAAyC,CAChCU,IAAAA,EAAcD,CAAAA,CAAQT,CAARS,CAAdC,WACP,IAAKA,CAAL,CAGA,IAAK,IAAIC,EAAI,CAAb,CAAgBA,CAAhB,CAAoBD,CAAAA,OAApB,CAAuCC,CAAAA,EAAvC,CAA4C,CAC1C,IAAMC,EAAOF,CAAAA,CAAWC,CAAXD,CACRE,EAAAA,QAAL,EAGAA,CAAAA,QAAAA,EAAAA,WAAAA,CG7JDC,OH6JCD,CAAAA,KAAAA,CAZc,CAeNE,EAAAC,KAAA,CAfM,CAeN,CAAkCH,CAAlC,CAHRA,CAL0C,CALL,CADQ,CAAlCL,CAkBjBA,SAAAA,CAAiB,CAAAvD,QAAjBuD,CAA+B,CAC7BS,UAAW,CAAA,CADkB,CAE7BC,QAAS,CAAA,CAFoB,CAA/BV,CAnBoB,CAgCtBO,CAAAA,EAAAA,CAAAA,QAAiB,CAACF,CAAD,CAAO,CACYA,CAC9BvC,SAAAA,EAAJ,GAAyB,IAAArB,QAAzB,EDkKmEf,CAAAA,CCjK3C,IAAAe,QDiK2Cf,CCjKjE2C,eAAAA,CAAmD,IAAA5B,QAAnD4B,CAFgCgC,CAEhChC,CAHoB,CAQxBsC,EAAAA,kBAAAA,CAAAA,QAAiB,CAAC7C,CAAD,CAAQ,CACjB8C,CAAAA,CAAQ,IAAAlE,EAAAmE,QAAA,CAAuB/C,CAAvB,CACd,IAAY,EAAZ,CAAI8C,CAAJ,GACE,IAAAlE,EAAAoE,OAAA,CAAsBF,CAAtB,CAA6B,CAA7B,CAEI,CADJ,IAAAjE,EAAA,EACI,CAAuB,CAAvB,EAAA,IAAAA,EAHN,EAII,MAAO,KAAAoE,gBAAA,EAAAC,MAAA,CAA6B,QAAA,EAAM,EAAnC,CANY,CAezBC;CAAAA,YAAAA,CAAAA,QAAW,EAAG,CACZ,MAAO,KAAAvE,EADK,CAYdgB,SAAAA,EAAiB,CAACwD,CAAD,CAAQ,CACvB,MAAOA,EAAAA,OAAAA,CAAcb,QAAAA,CAAAA,CAAAA,CAAS,CAC5B,MAAoC,EAApC,GAAIA,CAAAA,SAAJ,CACS,CAAA,CADT,CAIiC,CAAjC,GAAIA,CAAAA,SAAJ,CAES,IAAAc,KAAA,CAAUd,CAAAA,YAAV,CAFT,CAKO,CAAA,CAVqB,CAAvBa,CADgB,CAgBApE,SAAAA,CAAAA,CAAAA,CAAQ,CACjCA,CAAAA,gBAAAA,CA3OUsE,sBA2OVtE,CAAyBN,CAAzBM,CIlQiBuE,0kCJkQjBvE,CADiC,CAARA,CAA3B,CAAAlD,IAAAkD,IAAA","file":"amp-fx-flying-carpet-0.1.js","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2007102309000/"}