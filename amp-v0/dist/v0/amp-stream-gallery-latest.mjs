(self.AMP=self.AMP||[]).push({n:"amp-stream-gallery",v:"2008290323002",f:function(AMP,_){let l;function p(a,b=""){try{return decodeURIComponent(a)}catch(c){return b}}let aa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function ba(a){return a?Array.prototype.slice.call(a):[]}let q=self.AMP_CONFIG||{},ca=("string"==typeof q.cdnProxyRegex?new RegExp(q.cdnProxyRegex):q.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function da(a){if(self.document&&self.document.head&&(!self.location||!ca.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}q.cdnUrl||da("runtime-host");q.geoApiUrl||da("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let ea=self.__AMP_LOG;function fa(a){if(!ea.user)throw Error("failed to call initLogConstructor");ea.user.assert(a,"The amp-stream-gallery experiment must be enabled to use the component",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function r(a,b){return 0<a&&0<b?a%b:(a%b+b)%b}function t(a){return a||{}}function u(a){return 2>a.length?!1:0==a.lastIndexOf("--",0)}let v;let ha="Webkit webkit Moz moz ms O o".split(" ");function w(a,b,c){if(u(b))return b;v||(v=Object.create(null));let d=v[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(let b=0;b<ha.length;b++){let c=ha[b]+e;if(void 0!==a[c]){e=c;break a}}e=""}let c=e;void 0!==a[c]&&(d=c)}c||(v[b]=d)}return d}function ia(a,b){a=a.style;for(let c in b)a.setProperty(w(a,c),b[c].toString(),"important")}function x(a,b,c){(b=w(a.style,b,void 0))&&(u(b)?a.style.setProperty(b,c):a.style[b]=c)}function y(a,b){let{top:c,bottom:d,height:e,left:f,right:g,width:h}=b.getBoundingClientRect();return{start:0==a?f:c,end:0==a?g:d,length:0==a?h:e}}function z(a,b){let{start:c,end:d}=y(a,b);return(c+d)/2}function A(a,b){({start:a}=y(a,b));return a}function B(a,b,c){return"start"==b?A(a,c):z(a,c)}function C(a,b,c){0==a?x(b,"width",`${c}px`):x(b,"height",`${c}px`)}function D(a,b,c){let{start:d,end:e}=y(a,b);return d<=c&&c<e}function ja(a,b,c,d){let e=B(a,b,d),f=B(a,b,c),{length:g}=y(a,d);return(e-f)/g}function ka(a,b,c,d,e){let f=B(a,b,c);if(D(a,d[e],f))return e;for(b=1;b<=d.length/2;b++){let c=r(e+b,d.length),h=r(e-b,d.length);if(D(a,d[c],f))return c;if(D(a,d[h],f))return h}}function la(a,b,c){function d(){e=0;let h=c-(a.Date.now()-f);if(0<h)e=a.setTimeout(d,h);else{var k=g;g=null;b.apply(null,k)}}let e=0,f=0,g=null;return function(...b){f=a.Date.now();g=b;e||(e=a.setTimeout(d,c))}}let E;function ma(a,b,c,d){let g,e=a,f=c;g=a=>{try{return f(a)}catch(n){throw self.__AMP_REPORT_ERROR(n),n}};let h=na();let k=!1;d&&(k=d.capture);e.addEventListener(b,g,h?d:k);return()=>{e&&e.removeEventListener(b,g,h?d:k);g=e=f=null}}function na(){if(void 0!==E)return E;E=!1;try{let a={get capture(){E=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(a){}return E}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function F(a,b){let c=a.length;for(let d=0;d<c;d++)b(a[d],d)}function oa(a){return"rtl"==(a.body.getAttribute("dir")||a.documentElement.getAttribute("dir")||"ltr")}function G(a,b,c){let d=a.hasAttribute(b),e=void 0!==c?c:!d;e!==d&&(e?a.setAttribute(b,""):a.removeAttribute(b))}function H(a,b,c,d){let e={detail:c};Object.assign(e,d);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,e);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,c);return a}function I(a,b,c,d){ma(a,b,c,d)}function pa(a){let b=a;let c=ma(window,"touchend",a=>{try{b(a)}finally{b=null,c()}},{capture:!0,passive:!0})}function qa(a,b){let c=la(a.K,()=>{c==a.ka&&ra(a)&&(a.Ta.advance(a.ga,{actionSource:4,allowWrap:!0}),a.fa+=a.ga)},b);a.ka=c}function J(a){ra(a)&&a.ka()}function ra(a){return a.A&&a.Ua.isVisible()&&!a.ua&&!a.Ra&&a.fa<a.Ga}class sa{constructor(a){let b=a.element,c=a.scrollContainer,d=a.advanceable;this.K=a.win;this.h=c;this.Ta=d;this.fa=0;this.A=!1;this.ga=1;this.ha=1e3;this.Ra=this.ua=!1;this.ka=null;this.Ga=Number.POSITIVE_INFINITY;this.Ua=b.getAmpDoc();qa(this,this.ha);this.h.addEventListener("scroll",()=>this.ma(),!0);I(this.h,"touchstart",()=>this.na(),{capture:!0,passive:!0});I(b,"amp-carousel:indexchange",a=>{(a=a.detail.actionSource)&&4!==a&&this.stop()})}stop(){this.Ra=!0}pause(){this.ua=!0}resume(){this.ua=!1;J(this)}updateAutoAdvance(a){this.A=a;J(this)}updateAutoAdvanceCount(a){this.ga=a;J(this)}updateAutoAdvanceInterval(a){this.ha=Math.max(a,1e3);qa(this,this.ha);J(this)}updateMaxAdvances(a){this.Ga=a}na(){this.pause();pa(()=>{this.resume()})}ma(){J(this)}}function ta(a){a.M||2<=a.w?(a.h.removeAttribute("aria-live"),a.h.setAttribute("role","list"),a.j.forEach(a=>{a.setAttribute("role","listitem")})):(a.h.setAttribute("aria-live","polite"),a.h.removeAttribute("role"),a.j.forEach(a=>{a.removeAttribute("role")}))}function ua(a){a.j.forEach((b,c)=>{b.setAttribute("aria-hidden",!(a.M||2<=a.w)&&c!==a.Da)})}class va{constructor(a){let b=a.element,c=a.scrollContainer,d=a.runMutate,e=a.stoppable;this.K=a.win;this.h=c;this.I=d;this.j=[];this.w=1;this.J=this.M=!1;this.Da=0;b.addEventListener("focus",()=>{e.stop()},!0);b.addEventListener("amp-carousel:indexchange",a=>{this.sa(a)})}updateMixedLength(a){this.M=a}updateUi(){this.J||(this.J=!0,this.I(()=>{this.J=!1;ta(this);ua(this)}))}updateSlides(a){this.j=a;this.updateUi()}updateVisibleCount(a){this.w=a;this.updateUi()}sa(a){this.Da=a.detail.index;this.I(()=>{ua(this)})}}function wa(a,b){var c=(c=w(a.style,"scrollBehavior",void 0))?u(c)?a.style.getPropertyValue(c):a.style[c]:void 0;x(a,"scrollBehavior","auto");b();x(a,"scrollBehavior",c)}function K(a){return a.reduce((a,c)=>a+c,0)}function L(a,b=!1){let c=a.G;if(!a.da&&(a.G=void 0,a.va=!1,a.I(()=>{a.W.dispatchEvent(H(a.K,"amp-carousel:scrollpositionchange",null))}),a.ca!==a.o||null!==a.B||b)){null!==a.B&&(a.o=a.B,a.B=null);var d=K(M(a));a.I(()=>{var b=a.o;a.ca!==b&&(a.ca=b,a.W.dispatchEvent(H(a.K,"amp-carousel:indexchange",t({index:b,total:a.j.length,actionSource:c,slides:a.j}),{bubbles:!0})));xa(a,a.o,a.ja);ya(a,d);za(a);Aa(a,d);Ba(a)})}}function Ca(a,b){let c=a.w;return b>=a.j.length-("start"===a.C?c:c/2)}function Da(a,b,c){(c.smoothScroll?(a,b)=>b():wa)(a.h,()=>{{var c=a.D,e=a.h,f="start"==a.C,{length:g}=y(c,b);let d=f?A(c,b):z(c,b);f=f?A(c,e):z(c,e);g=(0==c?e.scrollLeft:e.scrollTop)+(d-f-0*g);0==c?e.scrollLeft=g:e.scrollTop=g}})}function Ea(a){let b=a.D,c=a.j,d=M(a),e=K(d),f=a.isLooping()?c.length:0;a.O.forEach(b=>{a.h.removeChild(b)});a.O=N(f);a.O.forEach((e,f)=>{C(b,e,d[f]);a.h.insertBefore(e,c[0])});a.ba.forEach(b=>{a.h.removeChild(b)});a.ba=N(f);a.ba.forEach((c,f)=>{C(b,c,d[f]);O(a,c,-1,e);a.h.appendChild(c)});a.N.forEach(b=>{a.h.removeChild(b)});a.N=N(f);a.N.forEach((c,f)=>{C(b,c,d[f]);O(a,c,-1,e);a.h.appendChild(c)});a.xa=a.O.concat(a.ba,a.N)}function Fa(a){let b=a.j.length,c="start"===a.C,d=1===r(a.w,2),e=c||d?"0%":"50%";F(a.h.children,(c,d)=>{d=r(d,b);let f=0===r(d,a.Pa);d={"scroll-snap-align":f?a.C:"none","scroll-snap-coordinate":f?e:"none"};for(let a in d)x(c,a,d[a])})}function za(a){let b=a.N,c=a.O,d=a.o,e=a.j,f=Math.max(0,e.length-d-1),g=Math.max(0,d-1);c.forEach((a,b)=>{var g=c.length;g=d===b?g:r(d-b,g);a.hidden=g>e.length-1||b<e.length-f});b.forEach((a,c)=>{var f=b.length;f=d===c?f:r(c-d,f);a.hidden=f>e.length-1||c>g})}function xa(a,b,c){a.o=b;a.ja=c;a.W.dispatchEvent(H(a.K,"amp-carousel:offsetchange",t({index:b,total:a.j.length,offset:a.P?-c:c,slides:a.j}),{bubbles:!0}))}function Ga(a){var b=a.xa,c=a.C;let d=a.D,e=a.o,f=a.h,g=a.j,h=K(M(a)),k=!!b.length,m=k?b:g,n=ka(d,c,f,m,k?e+g.length:e);void 0!==n&&(b=n%g.length,c=ja(d,c,f,m[n]),xa(a,b,c),b!==e&&a.I(()=>{Aa(a,h)}))}function O(a,b,c,d){var e=a.D,f=c*d*(a.P?1:-1);a=0==e?f:0;e=0==e?0:f;x(b,"transform",`translate(${a}px, ${e}px)`);ia(b,{"--content-transform":`translate(${a}px, ${e}px)`});b._revolutions=c}function ya(a,b){a.j.forEach(c=>{O(a,c,0,b)})}function M(a){return a.j.map(b=>y(a.D,b).length)}function N(a){let b=[];for(let c=0;c<a;c++){let a=document.createElement("div");a.className="i-amphtml-carousel-spacer";b.push(a)}return b}function Aa(a,b){if(a.isLooping()){var c=a.j,d=a.w,e="start"===a.C?d-1:0,f=(c.length-1+e)/2;Ha(a,b,Math.round((c.length-1-e)/2),!1);Ha(a,b,Math.round(f),!0)}}function Ba(a){let b=a.D;var c=a.ja;let d=a.h,e=a.j[a.o],f=ja(b,a.C,d,e)-c;({length:c}=y(b,e));let g=f*c;g&&(a.L=!0,wa(d,()=>{var a=(0==b?d.scrollLeft:d.scrollTop)+g;0==b?d.scrollLeft=a:d.scrollTop=a}))}function Ha(a,b,c,d){let e=a.o,f=a.ca,g=a.j,h=g[e]._revolutions||0,k=d?1:-1;for(let m=1;m<=c;m++){let c=r(e+m*k,g.length);if(c===f&&e!==f)break;O(a,g[c],c>e!==d?h+k:h,b)}}class Ia{constructor(a){let b=a.win,c=a.element,d=a.scrollContainer;a=a.runMutate;this.K=b;this.I=a;this.W=c;this.h=d;this.A=new sa({win:b,element:c,scrollContainer:d,advanceable:this});this.ia=new va({win:b,element:c,scrollContainer:d,runMutate:a,stoppable:this.A});this.Aa=la(b,()=>L(this),200);this.ea=1;this.ya=Number.POSITIVE_INFINITY;this.M=!1;this.j=[];this.Sa=!0;this.J=!1;this.O=[];this.ba=[];this.N=[];this.xa=[];this.L=this.ra=!1;this.ja=0;this.B=null;this.ca=NaN;this.va=this.da=!1;this.G=void 0;this.C="start";this.D=0;this.Ca=this.P=!0;this.o=0;this.Fa=!1;this.Qa=!0;this.w=this.Pa=1;this.h.addEventListener("scroll",()=>this.ma(),!0);this.h.addEventListener("scrollend",()=>{null===this.B&&L(this)},!0);I(this.h,"touchstart",()=>this.na(),{capture:!0,passive:!0});I(this.h,"wheel",()=>{this.G=2;this.B=null;this.L=!1},{capture:!0,passive:!0})}next(a){this.advance(this.ea,{actionSource:a})}prev(a){this.advance(-this.ea,{actionSource:a})}advance(a,{actionSource:b,allowWrap:c=!1}={}){var d=this.o;let e=this.B;d=null!==e?e:d;let f=d+a,g=this.j.length-1,h=0===d,k=d===g,m=0>f,n=f>g;a=this.isLooping()?r(f,g+1):c?0<a&&Ca(this,d)&&Ca(this,f)?0:m&&h||n&&!k?g:m&&!h||n&&k?0:f:Math.min(Math.max(f,0),g);this.goToSlide(a,{actionSource:b})}pauseLayout(){this.ra=!0;this.A.pause()}resumeLayout(){this.ra=!1;this.updateUi();this.A.resume()}getCurrentIndex(){return this.o}getVisibleCount(){return this.w}isLooping(){return this.Fa&&3<=this.j.length/this.w}goToSlide(a,{smoothScroll:b=!0,actionSource:c}={}){0>a||a>this.j.length-1||isNaN(a)||a===this.o||this.da||this.va&&(3===this.G||2===this.G)||(this.L=!1,this.B=a,this.G=c,Da(this,this.j[a],{smoothScroll:b}))}updateAdvanceCount(a){this.ea=a}updateAlignment(a){this.C="start"===a?"start":"center";this.updateUi()}updateAutoAdvance(a){this.A.updateAutoAdvance(a)}updateAutoAdvanceCount(a){this.A.updateAutoAdvanceCount(a)}updateAutoAdvanceInterval(a){this.A.updateAutoAdvanceInterval(a)}updateAutoAdvanceLoops(a){this.ya=a;this.updateUi()}updateForwards(a){this.P=a;this.updateUi()}updateHideScrollbar(a){this.Ca=a;this.updateUi()}updateHorizontal(a){this.D=a?0:1;this.updateUi()}updateLoop(a){this.Fa=a;this.updateUi()}updateMixedLength(a){this.M=a;this.ia.updateMixedLength(a);this.updateUi()}updateSlides(a){this.j=a;this.ia.updateSlides(a)}updateSnap(a){this.Qa=a;this.updateUi()}updateSnapBy(a){this.Pa=Math.max(1,a);this.updateUi()}updateUserScrollable(a){this.Sa=a;this.updateUi()}updateUi(){this.J||this.ra||(this.J=!0,this.I(()=>{this.J=!1;this.h.setAttribute("mixed-length",this.M);this.h.setAttribute("user-scrollable",this.Sa);this.h.setAttribute("hide-scrollbar",this.Ca);this.h.setAttribute("horizontal",0===this.D);this.h.setAttribute("loop",this.isLooping());this.h.setAttribute("snap",this.Qa);ia(this.h,{"--visible-count":this.w});this.j.length&&(this.A.updateMaxAdvances(this.ya*this.j.length-1),Ea(this),Fa(this),za(this),L(this,!0))}))}updateVisibleCount(a){this.w=Math.max(1,a);this.ia.updateVisibleCount(a);this.updateUi()}notifyScrollStart(){this.W.dispatchEvent(H(this.K,"amp-carousel:scrollstart",null))}na(){this.da=!0;this.G=3;this.B=null;this.L=!1;pa(()=>{this.da=!1;this.Aa()})}ma(){this.L?this.L=!1:(this.va=!0,Ga(this),this.notifyScrollStart(),this.Aa())}isAtEnd(){return this.isLooping()?!1:this.P?this.isScrollAtRightEdge():this.isScrollAtLeftEdge()}isAtStart(){return this.isLooping()?!1:this.P?this.isScrollAtLeftEdge():this.isScrollAtRightEdge()}isScrollAtRightEdge(){let a=this.h,{width:b}=a.getBoundingClientRect();return a.scrollLeft+Math.ceil(b)>=a.scrollWidth}isScrollAtLeftEdge(){return 0>=this.h.scrollLeft}}t({c:!0,v:!0,a:!0,ad:!0});function Ja(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);let b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){let d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){let d=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(e){let a=e.getAttribute("content").split(",");for(c=0;c<a.length;c++)-1!=d.indexOf(a[c])&&(b[a[c]]=!0)}}Object.assign(b,Ka(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];a=a.location.originalHash||a.location.hash;var d=Object.create(null);if(a)for(var e;e=aa.exec(a);){var f=p(e[1],e[1]);e=e[2]?p(e[2].replace(/\+/g," "),e[2]):"";d[f]=e}a=d;for(d=0;d<c.length;d++)f=a[`e-${c[d]}`],"1"==f&&(b[c[d]]=!0),"0"==f&&(b[c[d]]=!1)}return b}function Ka(a){let b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(d){}let c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(let b=0;b<c.length;b++)0!=c[b].length&&("-"==c[b][0]?a[c[b].substr(1)]=!1:a[c[b]]=!0);return a}function La(a){let b=a.ownerDocument.defaultView,c=b.__AMP_TOP||(b.__AMP_TOP=b),d=b!=c,e=!!Ja(c)["ampdoc-fie"];d&&!e?a=P(b,"action")?Q(b,"action"):null:(a=R(a),a=Ma(a),a=P(a,"action")?Q(a,"action"):null);return a}function S(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return Q(a,b)}function Na(a){var b=R(a);b=Ma(b);return Q(b,"owners")}function R(a){return a.nodeType?S((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function Ma(a){a=R(a);return a.isSingleDoc()?a.win:a}function Q(a,b){P(a,b);{let b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});a=b}b=a[b];b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));return b.obj}function P(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}function T(a,b,c){c?a.Z.scheduleLayout(a.H.element,b):a.Z.scheduleUnlayout(a.H.element,b)}function U(a,b,c){a.Z.updateInViewport(a.H.element,b,c);a.Va(b,c)}function Oa(a,b){b.filter(a=>a.isIntersecting).forEach(a=>{a.target.__AMP_CAROUSEL_NEAR_VIEWPORT=0});a.aa||Pa(a)}function Qa(a,b){b.filter(a=>!a.isIntersecting).forEach(a=>{a.target.__AMP_CAROUSEL_NEAR_VIEWPORT=1});a.aa||Ra(a)}function Sa(a,b){b.forEach(a=>{a.target.__AMP_CAROUSEL_IN_VIEWPORT=a.isIntersecting?0:1});a.aa||Ta(a)}function Ua(a){if(!(a.Y&&a.U&&a.X)){var b=a.H.win;a.Y=new b.IntersectionObserver(b=>Oa(a,b),{root:a.pa,rootMargin:`${a.Ma}%`,threshold:a.Ea});a.U=new b.IntersectionObserver(b=>Qa(a,b),{root:a.pa,rootMargin:`${a.Ma+10}%`,threshold:a.Ea});a.X=new b.IntersectionObserver(b=>Sa(a,b),{root:a.pa,rootMargin:"0%",threshold:a.Wa})}}function Pa(a){for(let b=0;b<a.m.length;b++){let c=a.m[b];0==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(T(a,c,!0),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function Ra(a){for(let b=0;b<a.m.length;b++){let c=a.m[b];1==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(T(a,c,!1),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function Ta(a){for(let b=0;b<a.m.length;b++){let c=a.m[b];0==c.__AMP_CAROUSEL_IN_VIEWPORT?U(a,c,!0):1==c.__AMP_CAROUSEL_IN_VIEWPORT&&U(a,c,!1);c.__AMP_CAROUSEL_IN_VIEWPORT=null}}function V(a,b){if("IntersectionObserver"in a.H.win)if(Ua(a),b)for(let b=0;b<a.m.length;b++)a.Y.observe(a.m[b]),a.U.observe(a.m[b]),a.X.observe(a.m[b]);else a.Y.disconnect(),a.U.disconnect(),a.X.disconnect()}class Va{constructor(a){let{ampElement:b,intersectionElement:c,intersectionThreshold:d=.01,nearbyMarginInPercent:e=100,viewportIntersectionThreshold:f=d,viewportIntersectionCallback:g=(()=>{})}=a;this.H=b;this.Z=Na(b.element);this.pa=c;this.Ea=d;this.Ma=e;this.Wa=f;this.Va=g;this.aa=!1;this.m=[];this.X=this.U=this.Y=null;this.R=!1}setQueueChanges(a){this.aa=a}flushChanges(){Pa(this);Ra(this);Ta(this)}updateChildren(a){this.m=a;if("IntersectionObserver"in this.H.win){for(a=0;a<this.m.length;a++)this.Z.setOwner(this.m[a],this.H.element);V(this,!1);V(this,this.R)}}wasLaidOut(){this.R=!0;V(this,this.R)}wasUnlaidOut(){this.R=!1;V(this,this.R);for(let a=0;a<this.m.length;a++)T(this,this.m[a],!1),U(this,this.m[a],!1)}}function Wa(a){return a.split(",").map(a=>{var b=/[a-z0-9.]+$/.exec(a);if(b){b=b.index;var d=a.slice(b),e=a.slice(0,b).trim();return{mediaQueryList:window.matchMedia(e),value:d}}}).filter(a=>a)}function Xa(a){for(let b=0;b<a.length;b++){let{mediaQueryList:c,value:d}=a[b];if(c.matches)return d}return""}function Ya(a,b){a.forEach(a=>{a.mediaQueryList.onchange=b})}class Za{constructor(a){this.za=a;this.Ba={};this.Ja={}}updateAttribute(a,b){if(this.za[a]){var c=this.Ja[a];c&&Ya(c,null);var d=Wa(b),e=()=>{var b=Xa(d);if(this.Ba[a]!==b){var c=this.za[a];c&&c(b);this.Ba[a]=b}};Ya(d,e);e();this.Ja[a]=d}}}let W;function X(a){a=a.ownerDocument||a;W&&W.ownerDocument===a||(W=a.createElement("div"));return $a}function $a(a){var b=W;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return b=a}let ab=["<div class=i-amphtml-carousel-content><div class=i-amphtml-stream-gallery-slides><div class=i-amphtml-carousel-scroll></div></div><div class=i-amphtml-stream-gallery-arrow-prev-slot></div><div class=i-amphtml-stream-gallery-arrow-next-slot></div></div>"],bb=["<button class=i-amphtml-stream-gallery-next aria-hidden=true></button>"],cb=["<button class=i-amphtml-stream-gallery-prev aria-hidden=true></button>"],db=t({never:0,auto:1,always:2});function eb(a){return{"extra-space":b=>{a.V.setAttribute("i-amphtml-stream-gallery-extra-space",b)},"inset-arrow-visibility":b=>{a.oa=db[b]||1;Y(a)},loop:b=>{(b="true"==b)&&S(a.win,"platform").isIos()||a.l.updateLoop(b)},"outset-arrows":b=>{a.ta="true"==b;Y(a)},peek:b=>{a.$=Math.max(0,Number(b)||0);Z(a)},slide:b=>{a.l.goToSlide(Number(b))},"slide-align":b=>{a.l.updateAlignment(b)},snap:b=>{a.l.updateSnap("false"!=b)},"max-item-width":b=>{a.Ha=Number(b)||Number.MAX_VALUE;Z(a)},"max-visible-count":b=>{a.Ia=Number(b)||Number.MAX_VALUE;Z(a)},"min-item-width":b=>{a.Ka=Number(b)||1;Z(a)},"min-visible-count":b=>{a.La=Number(b)||1;Z(a)}}}function fb(a){a.registerAction("prev",b=>{a.l.prev(3==b.trust?0:1)},1);a.registerAction("next",b=>{a.l.next(3==b.trust?0:1)},1);a.registerAction("goToSlide",b=>{a.l.goToSlide(b.args.index||-1,{actionSource:3==b.trust?0:1})},1)}function gb(a){a.element.addEventListener("amp-carousel:indexchange",b=>{a.sa(b)});a.element.addEventListener("amp-carousel:scrollstart",()=>{a.F.setQueueChanges(a.qa)});a.element.addEventListener("amp-carousel:scrollpositionchange",()=>{a.F.flushChanges();a.F.setQueueChanges(!1);Y(a)});a.T.addEventListener("click",b=>{b.target!=b.currentTarget&&a.l.prev(0)});a.S.addEventListener("click",b=>{b.target!=b.currentTarget&&a.l.next(0)})}function hb(a){let b=a.element;let c,d;ba(b.children).forEach(b=>{let e=b.getAttribute("slot");"prev-arrow"==e?c=b:"next-arrow"==e?d=b:"I-AMPHTML-SIZER"==b.tagName||a.j.push(b)});b.appendChild(X(a.element)(ab));a.h=b.querySelector(".i-amphtml-carousel-scroll");a.Oa=b.querySelector(".i-amphtml-stream-gallery-slides");a.V=b.querySelector(".i-amphtml-carousel-content");a.T=b.querySelector(".i-amphtml-stream-gallery-arrow-prev-slot");a.S=b.querySelector(".i-amphtml-stream-gallery-arrow-next-slot");a.j.forEach(b=>{b.classList.add("i-amphtml-carousel-slotted");a.h.appendChild(b)});a.T.appendChild(c||X(a.element)(cb));a.S.appendChild(d||X(a.element)(bb))}function ib(a){a=a.element.getAttribute("slide")||"0";return Number(Xa(Wa(a)))}function jb(a){let b=Na(a.element);a.F=new Va({ampElement:a,intersectionElement:a.h,nearbyMarginInPercent:a.qa?200:100,viewportIntersectionCallback:(c,d)=>{d?b.scheduleResume(a.element,c):b.schedulePause(a.element,c)}});a.F.setQueueChanges(a.qa);a.F.updateChildren(a.j)}function Y(a){F(a.T.children,b=>{G(b,"disabled",a.l.isAtStart())});F(a.S.children,b=>{G(b,"disabled",a.l.isAtEnd())});G(a.V,"i-amphtml-stream-gallery-hide-inset-buttons",2==a.oa?!1:0==a.oa?!0:a.la||0!=a.$);G(a.V,"amp-stream-gallery-outset-arrows",a.ta)}function Z(a){let b=a.Ha;var c=a.Ka,d=a.Ia;let e=a.La,f=a.j,g=a.element.getBoundingClientRect().width-kb(a),h=Math.max(1,Math.floor((g-a.$*c)/c))+a.$,k=Math.min(f.length,d);c=Math.min(Math.max(e,h),k);d=Math.floor(c);a.mutateElement(()=>{x(a.Oa,"max-width",h>k?`${k*b}px`:`${h*b}px`)});a.l.updateSlides(a.j);a.l.updateAdvanceCount(d);a.l.updateSnapBy(d);a.l.updateVisibleCount(c)}function kb(a){return a.ta?a.T.getBoundingClientRect().width+a.S.getBoundingClientRect().width:0}class lb extends AMP.BaseElement{constructor(a){super(a);this.Na=new Za(eb(this));this.qa=S(this.win,"platform").isIos();this.Oa=this.h=this.T=this.S=this.V=this.l=this.wa=null;this.oa=1;this.Ia=this.Ha=Number.MAX_VALUE;this.La=this.Ka=1;this.ta=!1;this.$=0;this.j=[];this.o=null;this.la=!1;this.F=null}goToSlide(a){this.l.goToSlide(a,{smoothScroll:!1})}isLayoutSupported(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a}prerenderAllowed(){return!0}buildCallback(){fa(!!Ja(this.win)["amp-stream-gallery"]);this.wa=La(this.element);hb(this);this.l=new Ia({win:this.win,element:this.element,scrollContainer:this.h,initialIndex:ib(this),runMutate:a=>this.mutateElement(a)});this.l.updateSnap(!1);this.l.updateForwards(!oa(this.element.ownerDocument));ba(this.element.attributes).forEach(a=>{this.Na.updateAttribute(a.name,a.value)});this.l.updateSlides(this.j);jb(this);fb(this);gb(this);Y(this)}isRelayoutNeeded(){return!0}pauseCallback(){this.l.pauseLayout()}resumeCallback(){this.l.resumeLayout()}layoutCallback(){Z(this);this.l.updateUi();this.F.wasLaidOut();l||(l=Promise.resolve(void 0));var a=l;return a}unlayoutCallback(){this.F.wasUnlaidOut();return!0}mutatedAttributesCallback(a){for(let b in a)this.Na.updateAttribute(b,String(a[b]))}sa(a){var b=a.detail;a=b.index;b=b.actionSource;this.la=this.la||3==b;var c=this.o;this.o=a;null!=c&&(a=t({index:a}),b=2==b||3==b||0==b?3:1,c=H(this.win,"streamGallery.slideChange",a),this.wa.trigger(this.element,"slideChange",c,b),this.element.dispatchCustomEvent("slideChange",a));Y(this)}}(a=>{a.registerElement("amp-stream-gallery",lb,".i-amphtml-carousel-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-carousel-scroll{display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-align:center;align-items:center;outline:none;scroll-behavior:smooth;-webkit-overflow-scrolling:touch!important;--visible-count:1}.i-amphtml-carousel-scroll[hide-scrollbar=true]{scrollbar-width:none}.i-amphtml-carousel-scroll[hide-scrollbar=true]::-webkit-scrollbar{display:none;box-sizing:content-box!important}.i-amphtml-carousel-scroll[horizontal=true]{-ms-flex-direction:row;flex-direction:row;scroll-snap-type-x:mandatory;scroll-snap-type:x mandatory;padding-bottom:20px!important;overflow-y:hidden}.i-amphtml-carousel-scroll[horizontal=false]{-ms-flex-direction:column;flex-direction:column;scroll-snap-type-y:mandatory;scroll-snap-type:y mandatory;padding-right:20px!important;overflow-x:hidden}.i-amphtml-carousel-scroll[snap=false]{scroll-snap-type:none}.i-amphtml-carousel-scroll[user-scrollable=false]{overflow:hidden}.i-amphtml-carousel-spacer{z-index:-1}.i-amphtml-carousel-slotted,.i-amphtml-carousel-spacer{box-sizing:border-box!important;margin:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;width:100%;height:100%;scroll-snap-stop:always}.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-spacer{width:calc(100%/var(--visible-count))!important;min-width:auto!important;max-width:none!important}.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-spacer{height:calc(100%/var(--visible-count))!important;min-height:auto!important;max-height:none!important}.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-width:100%!important}.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-height:100%!important}.i-amphtml-carousel-scroll>.i-amphtml-carousel-slotted{will-change:transform}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-prev-slot{width:0;-ms-flex-pack:start;justify-content:flex-start}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-next-slot{width:0;-ms-flex-pack:end;justify-content:flex-end}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-next-slot>[disabled],:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-prev-slot>[disabled],[i-amphtml-stream-gallery-hide-inset-buttons]:not([amp-stream-gallery-outset-arrows]) .i-amphtml-stream-gallery-arrow-next-slot>*,[i-amphtml-stream-gallery-hide-inset-buttons]:not([amp-stream-gallery-outset-arrows]) .i-amphtml-stream-gallery-arrow-prev-slot>*{opacity:0;pointer-events:none!important}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-next-slot>.i-amphtml-stream-gallery-next,:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-prev-slot>.i-amphtml-stream-gallery-prev{-ms-flex-negative:0;flex-shrink:0;width:40px;height:40px}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-prev-slot>.i-amphtml-stream-gallery-prev{border-radius:0px 4px 4px 0px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14 7.4L9.4 12l4.6 4.6' fill='none' stroke='%23000' stroke-width='2' stroke-linejoin='round' stroke-linecap='round'/%3E%3C/svg%3E\")}:not([amp-stream-gallery-outset-arrows])>.i-amphtml-stream-gallery-arrow-next-slot>.i-amphtml-stream-gallery-next{border-radius:4px 0px 0px 4px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 7.4l4.6 4.6-4.6 4.6' fill='none' stroke='%23000' stroke-width='2' stroke-linejoin='round' stroke-linecap='round'/%3E%3C/svg%3E\")}[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-next-slot>[disabled],[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-prev-slot>[disabled]{opacity:0.4}[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-next-slot>.i-amphtml-stream-gallery-next,[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-prev-slot>.i-amphtml-stream-gallery-prev{width:32px;height:32px;border-radius:50%;background-size:24px 24px}[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-prev-slot>.i-amphtml-stream-gallery-prev{-webkit-margin-start:6px;margin-inline-start:6px;-webkit-margin-end:12px;margin-inline-end:12px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14 7.4L9.4 12l4.6 4.6' fill='none' stroke='%23000' stroke-width='2' stroke-linejoin='round' stroke-linecap='round'/%3E%3C/svg%3E\")}[amp-stream-gallery-outset-arrows]>.i-amphtml-stream-gallery-arrow-next-slot>.i-amphtml-stream-gallery-next{-webkit-margin-start:12px;margin-inline-start:12px;-webkit-margin-end:6px;margin-inline-end:6px;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 7.4l4.6 4.6-4.6 4.6' fill='none' stroke='%23000' stroke-width='2' stroke-linejoin='round' stroke-linecap='round'/%3E%3C/svg%3E\")}.i-amphtml-stream-gallery-inset-arrows{position:absolute;top:0;bottom:0;left:0;right:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;pointer-events:none}.i-amphtml-stream-gallery-arrow-prev-slot{-ms-flex-order:0;order:0}.i-amphtml-stream-gallery-arrow-next-slot{-ms-flex-order:2;order:2}.i-amphtml-stream-gallery-arrow-next-slot,.i-amphtml-stream-gallery-arrow-prev-slot{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:all}.i-amphtml-stream-gallery-arrow-next-slot>*,.i-amphtml-stream-gallery-arrow-prev-slot>*{-ms-flex-negative:0;flex-shrink:0}.i-amphtml-stream-gallery-next,.i-amphtml-stream-gallery-prev{position:relative;z-index:1;padding:0;border:none;outline:none;box-shadow:0px 2px 6px 0px rgba(0,0,0,0.4);background-color:hsla(0,0%,100%,0.6);background-size:24px 24px;background-position:50%;background-repeat:no-repeat;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);transition:opacity 200ms ease-in}.i-amphtml-stream-gallery-next[disabled],.i-amphtml-stream-gallery-prev[disabled]{transition-timing-function:ease-out}[dir=rtl] .i-amphtml-stream-gallery-next,[dir=rtl] .i-amphtml-stream-gallery-prev{transform:scaleX(-1)}amp-stream-gallery .i-amphtml-carousel-content{display:-ms-flexbox;display:flex}.i-amphtml-stream-gallery-slides{-ms-flex-order:1;order:1;-ms-flex-positive:1;flex-grow:1;min-width:1px}[i-amphtml-stream-gallery-extra-space=around]{-ms-flex-pack:center;justify-content:center}amp-stream-gallery .i-amphtml-carousel-slotted>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}\n/*# sourceURL=/extensions/amp-stream-gallery/0.1/amp-stream-gallery.css*/")})(self.AMP)}});