(self.AMP=self.AMP||[]).push({n:"amp-image-viewer",v:"2008290323002",f:function(AMP,_){let k;function l(){return k?k:k=Promise.resolve(void 0)}let m=self.AMP_CONFIG||{},ba=("string"==typeof m.cdnProxyRegex?new RegExp(m.cdnProxyRegex):m.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function n(a){if(self.document&&self.document.head&&(!self.location||!ba.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}m.cdnUrl||n("runtime-host");m.geoApiUrl||n("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let p=self.__AMP_LOG;function q(){if(p.dev)return p.dev;throw Error("failed to call initLogConstructor")}function r(a,b,c,d){if(!p.user)throw Error("failed to call initLogConstructor");return p.user.assert(a,b,c,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}let t;let v="Webkit webkit Moz moz ms O o".split(" ");function w(a,b){for(let h in b){var c=a,d=b[h];a:{var e=c.style;var f=h;if(2>f.length?0:0==f.lastIndexOf("--",0)){e=f;break a}t||(t=Object.create(null));let a=t[f];if(!a){a=f;if(void 0===e[f]){var g=f;g=g.charAt(0).toUpperCase()+g.slice(1);b:{for(let a=0;a<v.length;a++){let b=v[a]+g;if(void 0!==e[b]){g=b;break b}}g=""}void 0!==e[g]&&(a=g)}t[f]=a}e=a}e&&((2>e.length?0:0==e.lastIndexOf("--",0))?c.style.setProperty(e,d):c.style[e]=d)}}function ca(a){var b=!1;void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")}function x(a,b,c,d){let e=new da(0,0,a,b,c,d,1,1);return e.solveYValueFromXValue.bind(e)}class da{constructor(a,b,c,d,e,f,g,h){this.x0=a;this.y0=b;this.x1=c;this.y1=d;this.x2=e;this.y2=f;this.x3=g;this.y3=h}solveYValueFromXValue(a){return this.getPointY(this.solvePositionFromXValue(a))}solvePositionFromXValue(a){let b=(a-this.x0)/(this.x3-this.x0);if(0>=b)return 0;if(1<=b)return 1;let c=0,d=1,e=0;for(var f=0;8>f;f++){e=this.getPointX(b);let f=(this.getPointX(b+1e-6)-e)/1e-6;if(1e-6>Math.abs(e-a))return b;if(1e-6>Math.abs(f))break;else e<a?c=b:d=b,b-=(e-a)/f}for(f=0;1e-6<Math.abs(e-a)&&8>f;f++)e<a?(c=b,b=(b+d)/2):(d=b,b=(b+c)/2),e=this.getPointX(b);return b}getPointX(a){if(0==a)return this.x0;if(1==a)return this.x3;let b=this.lerp(this.x0,this.x1,a),c=this.lerp(this.x1,this.x2,a);let d=this.lerp(this.x2,this.x3,a);b=this.lerp(b,c,a);c=this.lerp(c,d,a);return this.lerp(b,c,a)}getPointY(a){if(0==a)return this.y0;if(1==a)return this.y3;let b=this.lerp(this.y0,this.y1,a),c=this.lerp(this.y1,this.y2,a);let d=this.lerp(this.y2,this.y3,a);b=this.lerp(b,c,a);c=this.lerp(c,d,a);return this.lerp(b,c,a)}lerp(a,b,c){return a+c*(b-a)}}var ea=x(.25,.1,.25,1),fa=x(.42,0,1,1),ha=x(0,0,.58,1),ia=x(.42,0,.58,1);let ja={linear:function(a){return a},ease:ea,"ease-in":fa,"ease-out":ha,"ease-in-out":ia};function y(a){if(!a)return null;if("string"==typeof a){if(-1!=a.indexOf("cubic-bezier")){var b=a.match(/cubic-bezier\((.+)\)/);if(b&&(b=b[1].split(",").map(parseFloat),4==b.length)){for(let a=0;4>a;a++)if(isNaN(b[a]))return null;return x(b[0],b[1],b[2],b[3])}return null}return ja[a]}return a}function A(a,b){return c=>a+(b-a)*c}class B{constructor(){let a,b;this.promise=new Promise((c,d)=>{a=c;b=d});this.resolve=a;this.reject=b}}(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0});function C(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return D(a,b)}function E(a){var b=F(a);b=F(b);b=b.isSingleDoc()?b.win:b;return D(b,"owners")}function F(a){return a.nodeType?C((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function D(a,b){{let b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});a=b}b=a[b];b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));return b.obj}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function ka(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function G(a){return a.closest?a.closest("[i-amphtml-scale-animation]"):ka(a,a=>{{let b=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;a=b?b.call(a,"[i-amphtml-scale-animation]"):!1}return a})}function la(a){/^[\w-]+$/.test("img");return a.querySelector("img")}function ma(){}function na(a,b,c){var d=oa;return new pa(a).setCurve(d).add(0,b,1).start(c)}class pa{constructor(a,b){this.V=a;this.Y=b||C(self,"vsync");this.Xa=null;this.J=[]}setCurve(a){a&&(this.Xa=y(a));return this}add(a,b,c,d){this.J.push({delay:a,func:b,duration:c,curve:y(d)});return this}start(a){return new qa(this.Y,this.V,this.J,this.Xa,a)}}function H(a,b,c){if(a.W){a.W=!1;if(0!=c){1<a.J.length&&a.J.sort((a,b)=>a.delay+a.duration-(b.delay+b.duration));try{if(0<c)for(c=0;c<a.J.length;c++)a.J[c].func(1,!0);else for(let b=a.J.length-1;0<=b;b--)a.J[b].func(0,!1)}catch(d){q().error("Animation","completion failed: "+d,d),b=!1}}b?a.Pa():a.Oa()}}class qa{constructor(a,b,c,d,e){this.Y=a;this.V=b;this.J=[];for(b=0;b<c.length;b++){let a=c[b];this.J.push({delay:a.delay,func:a.func,duration:a.duration,curve:a.curve||d,started:!1,completed:!1})}this.kb=e;this.X=Date.now();this.W=!0;this.bb={};c=new B;this.sa=c.promise;this.Pa=c.resolve;this.Oa=c.reject;this.eb=this.Y.createAnimTask(this.V,{mutate:this.tb.bind(this)});this.Y.canAnimate(this.V)?this.eb(this.bb):H(this,!1,0)}then(a,b){return a||b?this.sa.then(a,b):this.sa}thenAlways(a){a=a||ma;return this.then(a,a)}halt(a){H(this,!1,a||0)}tb(){if(this.W){var a=Date.now(),b=Math.min((a-this.X)/this.kb,1);for(var c=0;c<this.J.length;c++){var d=this.J[c];!d.started&&b>=d.delay&&(d.started=!0)}for(c=0;c<this.J.length;c++)if(d=this.J[c],d.started&&!d.completed)a:{let a,c;if(0<d.duration){if(a=c=Math.min((b-d.delay)/d.duration,1),d.curve&&1!=a)try{a=d.curve(c)}catch(g){q().error("Animation","step curve failed: "+g,g);H(this,!1,0);break a}}else a=c=1;1==c&&(d.completed=!0);try{d.func(a,d.completed)}catch(g){q().error("Animation","step mutate failed: "+g,g),H(this,!1,0)}}1==b?H(this,!0,0):this.Y.canAnimate(this.V)?this.eb(this.bb):H(this,!1,0)}}}class I{constructor(){this.M=null}add(a){this.M||(this.M=[]);this.M.push(a);return()=>{this.remove(a)}}remove(a){this.M&&(a=this.M.indexOf(a),-1<a&&this.M.splice(a,1))}removeAll(){this.M&&(this.M.length=0)}fire(a){if(this.M){var b=this.M;for(let c=0;c<b.length;c++)(0,b[c])(a)}}getHandlerCount(){return this.M?this.M.length:0}}class ra{constructor(a,b,c){this.fb=C(a,"timer");this.lb=b;this.jb=c||0;this.ta=-1;this.Ka=0;this.W=!1;this.ib=()=>{this.ya()}}isPending(){return-1!=this.ta}schedule(a){a=a||this.jb;this.W&&10>a&&(a=10);let b=Date.now()+a;return!this.isPending()||-10>b-this.Ka?(this.cancel(),this.Ka=b,this.ta=this.fb.delay(this.ib,a),!0):!1}ya(){this.ta=-1;this.Ka=0;this.W=!0;this.lb();this.W=!1}cancel(){this.isPending()&&(this.fb.cancel(this.ta),this.ta=-1)}}function sa(a,b){for(let c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1}let J;function ta(a){if(void 0!==J)return J;J=!1;try{let b={get passive(){J=!0;return!1}};a.addEventListener("test-options",null,b);a.removeEventListener("test-options",null,b)}catch(b){}return J}class ua{constructor(a,b,c,d){this.type=a;this.data=b;this.time=c;this.event=d}}function va(a){let b=a.__AMP_Gestures;b||(b=new wa(a,!1,!1),a.__AMP_Gestures=b);return b}function K(a,b){a.fa[b]=!1;a.D[b]=0;a.P[b]||a.w[b].acceptCancel()}function L(a,b){let c=!!a.h||a.Da;a.Da=!1;if(!c){let b=Date.now();for(let d=0;d<a.w.length;d++)if(a.P[d]||a.D[d]&&a.D[d]>=b){c=!0;break}}c?(b.stopPropagation(),a.qb||b.preventDefault()):a.rb&&b.stopPropagation();a.La&&(a.La=!1,a.Ya())}class wa{constructor(a,b,c){this.U=a;this.w=[];this.fa=[];this.P=[];this.D=[];this.h=null;this.qb=b;this.rb=c;this.Da=!1;this.ya=new ra(a.ownerDocument.defaultView,this.Ya.bind(this));this.ab=new I;this.ra=Object.create(null);this.Ua=this.pb.bind(this);this.Sa=this.nb.bind(this);this.Ta=this.ob.bind(this);this.Ra=this.mb.bind(this);let d=ta(a.ownerDocument.defaultView);this.U.addEventListener("touchstart",this.Ua,d?{passive:!0}:!1);this.U.addEventListener("touchend",this.Sa);this.U.addEventListener("touchmove",this.Ta,d?{passive:!0}:!1);this.U.addEventListener("touchcancel",this.Ra);this.La=!1}cleanup(){this.U.removeEventListener("touchstart",this.Ua);this.U.removeEventListener("touchend",this.Sa);this.U.removeEventListener("touchmove",this.Ta);this.U.removeEventListener("touchcancel",this.Ra);delete this.U.__AMP_Gestures;this.ya.cancel()}onGesture(a,b){let c=new a(this),d=c.getType();let e=this.ra[d];e||(this.w.push(c),e=new I,this.ra[d]=e);return e.add(b)}removeGesture(a){let b=new a(this).getType();if(a=this.ra[b]){a.removeAll();a=sa(this.w,a=>a.getType()==b);if(0>a)return!1;this.w.splice(a,1);this.P.splice(a,1);this.D.splice(a,1);this.fa.splice(a,1);delete this.ra[b];return!0}return!1}onPointerDown(a){return this.ab.add(a)}pb(a){let b=Date.now();this.Da=!1;this.ab.fire(a);for(let d=0;d<this.w.length;d++)if(!this.P[d]&&(this.D[d]&&this.D[d]<b&&K(this,d),this.w[d].onTouchStart(a))){var c=d;this.fa[c]=!0;this.D[c]=0}L(this,a)}ob(a){let b=Date.now();for(let c=0;c<this.w.length;c++)this.fa[c]&&(this.D[c]&&this.D[c]<b?K(this,c):this.w[c].onTouchMove(a)||K(this,c));L(this,a)}nb(a){let b=Date.now();for(let c=0;c<this.w.length;c++){if(!this.fa[c])continue;if(this.D[c]&&this.D[c]<b){K(this,c);continue}this.w[c].onTouchEnd(a);let d=!this.D[c],e=this.D[c]<b;this.h!=this.w[c]&&(d||e)&&K(this,c)}L(this,a)}mb(a){for(let a=0;a<this.w.length;a++){var b=a;this.P[b]=0;K(this,b)}L(this,a)}Ya(){var a=Date.now();let b=-1;for(var c=0;c<this.w.length;c++)if(!this.P[c])this.D[c]&&this.D[c]<a&&K(this,c);else if(-1==b||this.P[c]>this.P[b])b=c;if(-1!=b){var d=0;for(c=0;c<this.w.length;c++)!this.P[c]&&this.fa[c]&&(d=Math.max(d,this.D[c]-a));if(2>d){a=b;let d=this.w[a];for(let b=0;b<this.w.length;b++)b!=a&&(c=b,this.P[c]=0,K(this,c));this.P[a]=0;this.D[a]=0;this.h=d;d.acceptStart()}else this.ya.schedule(d)}}}class M{constructor(a,b){this.ub=a;this.wa=b}getType(){return this.ub}signalReady(a){var b=this.wa;if(b.h)this.acceptCancel();else{var c=Date.now();for(let d=0;d<b.w.length;d++)b.w[d]==this&&(b.P[d]=c+a,b.D[d]=0);b.La=!0}}signalPending(a){var b=this.wa;if(b.h)this.acceptCancel();else{var c=Date.now();for(let d=0;d<b.w.length;d++)b.w[d]==this&&(b.D[d]=c+a)}}signalEnd(){var a=this.wa;a.h==this&&(a.h=null,a.Da=!0)}signalEmit(a,b){{let c=this.wa.ra[this.getType()];c&&c.fire(new ua(this.getType(),a,Date.now(),b))}}acceptStart(){}acceptCancel(){}onTouchStart(){return!1}onTouchMove(){return!1}onTouchEnd(){}}function xa(){}let ya=Math.round(-16.67/Math.log(.95));function N(a,b,c){1>b&&(b=1);let d=.5+Math.min(b/33.34,.5);return a/b*d+c*(1-d)}function O(a,b,c,d,e,f){return new za(a,b,c,d,e,f,void 0).start()}class za{constructor(a,b,c,d,e,f,g){this.Y=g||C(self,"vsync");this.V=a;this.Ea=f;this.j=b;this.l=c;this.Ha=d;this.Ia=e;this.C=this.B=0;a=new B;this.sa=a.promise;this.Pa=a.resolve;this.Oa=a.reject;this.ga=!1}start(){this.ga=!0;if(.02>=Math.abs(this.Ha)&&.02>=Math.abs(this.Ia))this.Ea(this.j,this.l),this.Fa(!0);else{this.B=this.Ha;this.C=this.Ia;let a=this.sb.bind(this),b=this.Fa.bind(this,!0);this.Y.runAnimMutateSeries(this.V,a,5e3).then(b,b)}return this}halt(){this.ga&&this.Fa(!1)}then(a,b){return a||b?this.sa.then(a,b):this.sa}thenAlways(a){a=a||xa;return this.then(a,a)}sb(a,b){if(!this.ga)return!1;this.j+=b*this.B;this.l+=b*this.C;if(!this.Ea(this.j,this.l))return!1;let c=Math.exp(-a/ya);this.B=this.Ha*c;this.C=this.Ia*c;return.02<Math.abs(this.B)||.02<Math.abs(this.C)}Fa(a){this.ga&&(this.ga=!1,this.Ea(this.j,this.l),a?this.Pa():this.Oa())}}class Aa extends M{constructor(a){super("tap",a);this.l=this.j=this.o=this.m=0;this.cb=null}onTouchStart(a){let b=a.touches;this.cb=a.target;return b&&1==b.length?(this.m=b[0].clientX,this.o=b[0].clientY,!0):!1}onTouchMove(a){return(a=a.changedTouches||a.touches)&&1==a.length&&(this.j=a[0].clientX,this.l=a[0].clientY,a=8<=Math.abs(this.l-this.o),8<=Math.abs(this.j-this.m)||a)?!1:!0}onTouchEnd(){this.signalReady(0)}acceptStart(){this.signalEmit({clientX:this.j,clientY:this.l,target:this.cb},null);this.signalEnd()}}class Ba extends M{constructor(a){super("doubletap",a);this.T=this.l=this.j=this.o=this.m=0;this.Za=null}onTouchStart(a){return 1<this.T?!1:(a=a.touches)&&1==a.length?(this.m=a[0].clientX,this.o=a[0].clientY,this.j=a[0].clientX,this.l=a[0].clientY,!0):!1}onTouchMove(a){return(a=a.touches)&&1==a.length?(this.j=a[0].clientX,this.l=a[0].clientY,a=8<=Math.abs(this.l-this.o),8<=Math.abs(this.j-this.m)||a?(this.acceptCancel(),!1):!0):!1}onTouchEnd(a){this.T++;2>this.T?this.signalPending(200):(this.Za=a,this.signalReady(0))}acceptStart(){this.T=0;this.signalEmit({clientX:this.j,clientY:this.l},this.Za);this.signalEnd()}acceptCancel(){this.T=0}}class Ca extends M{constructor(a,b,c,d){super(a,b);this.$a=c;this.gb=d;this.h=!1;this.C=this.B=this.O=this.H=this.X=this.$=this.Z=this.l=this.j=this.o=this.m=0}onTouchStart(a){a=a.touches;return this.h&&a&&1<a.length?!0:a&&1==a.length?(this.X=Date.now(),this.m=a[0].clientX,this.o=a[0].clientY,!0):!1}onTouchMove(a){var b=a.touches;if(b&&1<=b.length){let{clientX:c,clientY:d}=b[0];this.j=c;this.l=d;if(this.h)this.R(!1,!1,a);else if(a=Math.abs(c-this.m),b=Math.abs(d-this.o),this.$a&&this.gb)(8<=a||8<=b)&&this.signalReady(-10);else if(this.$a){if(8<=a&&a>b)this.signalReady(-10);else if(8<=b)return!1}else if(this.gb){if(8<=b&&b>a)this.signalReady(-10);else if(8<=a)return!1}else return!1;return!0}return!1}onTouchEnd(a){let b=a.touches;b&&0==b.length&&this.ha(a)}acceptStart(){this.h=!0;this.Z=this.m;this.$=this.o;this.O=this.X;this.m=this.j;this.o=this.l;this.R(!0,!1,null)}acceptCancel(){this.h=!1}R(a,b,c){this.H=Date.now();let d=this.H-this.O;if(!b&&4<d||b&&16<d){let a=N(this.j-this.Z,d,this.B),c=N(this.l-this.$,d,this.C);if(!b||32<d||0!=a||0!=c)this.B=1e-4<Math.abs(a)?a:0,this.C=1e-4<Math.abs(c)?c:0;this.Z=this.j;this.$=this.l;this.O=this.H}this.signalEmit({first:a,last:b,time:this.H,deltaX:this.j-this.m,deltaY:this.l-this.o,startX:this.m,startY:this.o,lastX:this.j,lastY:this.l,velocityX:this.B,velocityY:this.C},c)}ha(a){this.h&&(this.h=!1,this.R(!1,!0,a),this.signalEnd())}}class Q extends Ca{constructor(a){super("swipe-xy",a,!0,!0)}}class Da extends M{constructor(a){super("tapzoom",a);this.h=!1;this.C=this.B=this.O=this.H=this.$=this.Z=this.T=this.l=this.j=this.o=this.m=0}onTouchStart(a){return this.h?!1:(a=a.touches)&&1==a.length?(this.m=a[0].clientX,this.o=a[0].clientY,!0):!1}onTouchMove(a){let b=a.touches;if(b&&1==b.length){this.j=b[0].clientX;this.l=b[0].clientY;if(this.h)this.R(!1,!1,a);else if(a=8<=Math.abs(this.l-this.o),8<=Math.abs(this.j-this.m)||a){if(0==this.T)return this.acceptCancel(),!1;this.signalReady(0)}return!0}return!1}onTouchEnd(a){this.h?this.ha(a):(this.T++,1==this.T?this.signalPending(400):this.acceptCancel())}acceptStart(){this.T=0;this.h=!0;this.R(!0,!1,null)}acceptCancel(){this.T=0;this.h=!1}R(a,b,c){this.H=Date.now();a?this.B=this.C=0:2<this.H-this.O&&(this.B=N(this.j-this.Z,this.H-this.O,this.B),this.C=N(this.l-this.$,this.H-this.O,this.C));this.Z=this.j;this.$=this.l;this.O=this.H;this.signalEmit({first:a,last:b,centerClientX:this.m,centerClientY:this.o,deltaX:this.j-this.m,deltaY:this.l-this.o,velocityX:this.B,velocityY:this.C},c)}ha(a){this.h&&(this.h=!1,this.R(!1,!0,a),this.signalEnd())}}class Ea extends M{constructor(a){super("pinch",a);this.h=!1;this.C=this.B=this.O=this.H=this.X=this.Wa=this.Va=this.Na=this.Ma=this.la=this.ja=this.ka=this.ia=this.ea=this.ca=this.da=this.ba=0}onTouchStart(a){a=a.touches;return a?1==a.length||this.h&&2<a.length?!0:2==a.length?(this.X=Date.now(),this.ba=a[0].clientX,this.da=a[0].clientY,this.ca=a[1].clientX,this.ea=a[1].clientY,!0):!1:!1}onTouchMove(a){var b=a.touches;if(!b||0==b.length)return!1;if(1==b.length)return!0;this.ia=b[0].clientX;this.ka=b[0].clientY;this.ja=b[1].clientX;this.la=b[1].clientY;if(this.h)return this.R(!1,!1,a),!0;a=this.ia-this.ba;b=this.ka-this.da;var c=this.ja-this.ca,d=this.la-this.ea,e=10<=Math.abs(a+c),f=10<=Math.abs(b+d);if(a=(0<a*c||0<b*d)&&(e||f))return!1;a=this.ia-this.ba;b=this.ka-this.da;c=this.ja-this.ca;d=this.la-this.ea;e=4<=Math.abs(a-c);f=4<=Math.abs(b-d);(a=0>=a*c&&0>=b*d&&(e||f))&&this.signalReady(0);return!0}onTouchEnd(a){let b=a.touches;b&&2>b.length&&this.ha(a)}acceptStart(){this.h=!0;this.O=this.X;this.Na=this.Ma=0;this.Va=.5*(this.ba+this.ca);this.Wa=.5*(this.da+this.ea);this.R(!0,!1,null)}acceptCancel(){this.h=!1}R(a,b,c){this.H=Date.now();var d=this.H-this.O;let e=Math.abs(this.ia-this.ba-(this.ja-this.ca)),f=Math.abs(this.ka-this.da-(this.la-this.ea));if(!b&&4<d||b&&16<d)this.B=N(e-this.Ma,d,this.B),this.C=N(f-this.Na,d,this.C),this.B=1e-4<Math.abs(this.B)?this.B:0,this.C=1e-4<Math.abs(this.C)?this.C:0,this.Ma=e,this.Na=f,this.O=this.H;d=this.ba;var g=this.ca,h=this.da,u=this.ea,P=this.ia,z=this.ja,Z=this.ka,aa=this.la;this.signalEmit({first:a,last:b,time:this.H,centerClientX:this.Va,centerClientY:this.Wa,dir:Math.sign((P-z)*(P-z)+(Z-aa)*(Z-aa)-((d-g)*(d-g)+(h-u)*(h-u))),deltaX:.5*e,deltaY:.5*f,velocityX:.5*this.B,velocityY:.5*this.C},c)}ha(a){this.h&&(this.h=!1,this.R(!1,!0,a),this.signalEnd())}}function R(a,b,c,d){return Math.min(Math.max(a,b-d),c+d)}function Fa(a,b){return Math.sqrt(a*a+b*b)}function S(a,b,c,d){return{left:a,top:b,width:c,height:d,bottom:b+d,right:a+c,x:a,y:b}}let Ga=/(\S+)(?:\s+(?:(-?\d+(?:\.\d+)?)([a-zA-Z]*)))?\s*(?:,|$)/g;function Ha(a){let b=a.getAttribute("srcset");if(b){{a=[];let d;for(;d=Ga.exec(b);){let b=d[1];let e;if(d[2]){let a=d[3].toLowerCase();if("w"==a)var c=parseInt(d[2],10);else if("x"==a)e=parseFloat(d[2]);else continue}else e=1;a.push({url:b,width:c,dpr:e})}c=new Ia(a)}return c}let d=r(a.getAttribute("src"),'Either non-empty "srcset" or "src" attribute must be specified: %s',a);return new Ia([{url:d,width:void 0,dpr:1}])}class Ia{constructor(a){r(0<a.length,"Srcset must have at least one source");this.va=a;let b=!1,c=!1;for(let d=0;d<a.length;d++){let e=a[d];b=b||!!e.width;c=c||!!e.dpr}r(!!(b^c),"Srcset must have width or dpr sources, but not both");a.sort(b?Ja:Ka);this.hb=b}select(a,b){if(this.hb){b*=a;a=this.va;var c=0,d=1/0,e=1/0;for(var f=0;f<a.length;f++){let g=a[f].width,h=Math.abs(g-b);if(h<=1.1*d||1.2<b/e)c=f,d=h,e=g;else break}b=c}else{a=this.va;c=0;d=1/0;for(e=0;e<a.length;e++)if(f=Math.abs(a[e].dpr-b),f<=d)c=e,d=f;else break;b=c}return this.va[b].url}getUrls(){return this.va.map(a=>a.url)}stringify(a){let b=[],c=this.va;for(let d=0;d<c.length;d++){let e=c[d];let f=e.url;a&&(f=a(f));f=this.hb?f+` ${e.width}w`:f+` ${e.dpr}x`;b.push(f)}return b.join(", ")}}function Ja(a,b){r(a.width!=b.width,"Duplicate width: %s",a.width);return a.width-b.width}function Ka(a,b){r(a.dpr!=b.dpr,"Duplicate dpr: %s",a.dpr);return a.dpr-b.dpr}let oa=x(.4,0,.2,1.4),La=["aria-label","aria-describedby","aria-labelledby"],Ma={"amp-img":!0,"amp-anim":!0};function T(a){return a.measureElement(()=>{{var b=a.element.getBoundingClientRect();b=S(Number(b.left),Number(b.top),Number(b.width),Number(b.height));a.G=b;b=a.aa/a.ua;var c=Math.min(a.G.width/b,a.G.height);let d=Math.min(a.G.height*b,a.G.width);16>=Math.abs(d-a.aa)&&Math.abs(16>=c-a.ua)&&(d=a.aa,c=a.ua);a.N=S(Math.round((a.G.width-d)/2),Math.round((a.G.height-c)/2),Math.round(d),Math.round(c));c=a.G.width/a.G.height;a.xa=Math.max(2,Math.max(c/b,b/c));a.Aa=a.A=1;a.m=a.K=0;a.o=a.L=0;U(a,a.A)}}).then(()=>{let b=a.F;return a.mutateElement(()=>{w(b,{top:`${a.N.top}px`,left:`${a.N.left}px`,width:`${a.N.width}px`,height:`${a.N.height}px`});V(a)},b)}).then(()=>Na(a))}function Oa(a){if(a.F)return l();a.F=a.element.ownerDocument.createElement("img");a.F.classList.add("i-amphtml-image-viewer-image");let b=a.za;Pa(a,b);a.Qa=Ha(b);return a.mutateElement(()=>{w(a.F,{top:0,left:0,width:0,height:0});ca(b);a.element.appendChild(a.F);return b.getImpl().then(b=>{b.propagateAttributes(La,a.F)})})}function Qa(a){a.I=va(a.element);a.I.onGesture(Ba,b=>{let c=b.data;Ra(a,1==a.A?a.xa:a.Ja,a.G.width/2-c.clientX,a.G.height/2-c.clientY,!0).then(()=>W(a))});a.I.onGesture(Aa,b=>{b=b.data.target;var c=a.win;var d={detail:null};Object.assign(d,{bubbles:!0});"function"==typeof c.CustomEvent?d=new c.CustomEvent("click",d):(c=c.document.createEvent("CustomEvent"),c.initCustomEvent("click",!!d.bubbles,!!d.cancelable,null),d=c);b.dispatchEvent(d)});a.I.onGesture(Da,b=>{b=b.data;var c=b.deltaX,d=b.deltaY;X(a,b.centerClientX,b.centerClientY,c,d,Math.abs(d)>Math.abs(c)?Math.sign(d):Math.sign(-c));b.last&&Sa(a,b.centerClientX,b.centerClientY,b.deltaX,b.deltaY,b.velocityY,b.velocityY)});a.I.onGesture(Ea,b=>{b=b.data;X(a,b.centerClientX,b.centerClientY,b.deltaX,b.deltaY,b.dir);b.last&&W(a)})}function Pa(a,b){let c=la(b);a.measureElement(()=>{c?(a.aa=c.naturalWidth||b.offsetWidth,a.ua=c.naturalHeight||b.offsetHeight):(a.aa=b.offsetWidth,a.ua=b.offsetHeight)})}function U(a,b){let c=0,d=0;let e=a.G.height-a.N.height*b;0<=e?d=c=0:(d=e/2,c=-d);let f=0,g=0;b=a.G.width-a.N.width*b;0<=b?g=f=0:(g=b/2,f=-g);a.oa=g;a.pa=d;a.ma=f;a.na=c}function V(a){var b=a.F;var c=a.K;var d=a.L;"number"==typeof c&&(c=`${c}px`);void 0===d?c=`translate(${c})`:("number"==typeof d&&(d=`${d}px`),c=`translate(${c}, ${d})`);w(b,{transform:c+" "+`scale(${a.A})`})}function Na(a){if(!a.Qa)return l();a.Ga=Math.max(a.Ga,a.A);let b=a.Qa.select(Math.max(a.N.width*a.Ga,a.aa),self.devicePixelRatio||1);return b==a.F.getAttribute("src")?l():a.mutateElement(()=>{a.F.setAttribute("src",b)},a.F)}function Ra(a,b,c,d,e){b=R(b,a.Ja,a.xa,.25);if(b!=a.A)return U(a,b),c=R(a.m+c*b,a.oa,a.ma,0),d=R(a.o+d*b,a.pa,a.na,0),Y(a,b,c,d,e)}function W(a){let b=a.A>a.Aa;return Ta(a).then(()=>{b&&Na(a);1<a.A?Ua(a):(a.Ca&&(a.Ca(),a.Ca=null,a.I.removeGesture(Q)),a.Ba&&(a.Ba(),a.Ba=null))})}function Sa(a,b,c,d,e,f,g){(0==f&&0==g?l():O(a.F,d,e,f,g,(d,e)=>{X(a,b,c,d,e,Math.abs(e)>Math.abs(d)?Math.sign(e):Math.sign(-d));return!0}).thenAlways()).then(()=>{W(a)})}function Va(a,b,c){a.qa=O(a.F,a.K,a.L,b,c,(b,c)=>{b=R(b,a.oa,a.ma,0);c=R(c,a.pa,a.na,0);if(1>Math.abs(b-a.K)&&1>Math.abs(c-a.L))return!1;Y(a,a.A,b,c,!1);return!0});a.qa.thenAlways(()=>{a.qa=null;return Ta(a)})}function Ua(a){a.Ca=a.I.onGesture(Q,b=>{b=b.data;{var c=b.deltaY;let d=R(a.m+b.deltaX,a.oa,a.ma,0);c=R(a.o+c,a.pa,a.na,0);Y(a,a.A,d,c,!1)}b.last&&Va(a,b.velocityX,b.velocityY)});a.Ba=a.I.onPointerDown(()=>{a.qa&&a.qa.halt()})}function Y(a,b,c,d,e){let f=b-a.A,g=Fa(c-a.K,d-a.L);let h=0;e&&(h=Math.min(250,Math.max(2.5*g,250*Math.abs(f))));if(16<h&&e){let f=A(a.A,b),g=A(a.K,c),z=A(a.L,d);e=na(a.F,b=>{a.A=f(b);a.K=g(b);a.L=z(b);V(a)},h).thenAlways(()=>{a.A=b;a.K=c;a.L=d;V(a)})}else a.A=b,a.K=c,a.L=d,V(a),e=e?l():void 0;return e}function Ta(a){let b=R(a.A,a.Ja,a.xa,0);b!=a.A&&U(a,b);let c=R(a.K/a.A*b,a.oa,a.ma,0),d=R(a.L/a.A*b,a.pa,a.na,0);return Y(a,b,c,d,!0).then(()=>{a.Aa=a.A;a.m=a.K;a.o=a.L})}function X(a,b,c,d,e,f){if(0!=f){var g=Fa(d,e);f=a.Aa*(1+f*g/100);var h=a.G.width/2-b,u=a.G.height/2-c;d=Math.min(h,g/100*h);e=Math.min(u,g/100*u);Ra(a,f,d,e,!1)}}class Wa extends AMP.BaseElement{constructor(a){super(a);this.Qa=this.F=null;this.ua=this.aa=0;this.Ba=this.Ca=this.N=this.G=null;this.Ja=this.Ga=this.Aa=this.A=1;this.xa=2;this.na=this.ma=this.pa=this.oa=this.L=this.K=this.o=this.m=0;this.S=this.za=this.qa=this.I=null}buildCallback(){this.element.classList.add("i-amphtml-image-viewer");let a=this.getRealChildren();r(1==a.length,"%s should have its target element as its one and only child","amp-image-viewer");r(Ma[a[0].tagName.toLowerCase()],"%s is not supported by %s",a[0].tagName,"amp-image-viewer");this.za=a[0];E(this.element).setOwner(this.za,this.element)}onMeasureChanged(){G(this.element)||this.S&&this.S.then(()=>T(this))}layoutCallback(){if(this.S)return this.S;if(G(this.element))return l();let a=this.za,b=!!this.F,c=b?l():a.signals().whenSignal("load-end");b||E(this.element).scheduleLayout(this.element,a);return this.S=c.then(()=>Oa(this)).then(()=>T(this)).then(()=>Qa(this))}pauseCallback(){this.S&&this.S.then(()=>{T(this);this.I&&(this.I.cleanup(),this.I=null)})}resumeCallback(){this.S&&this.S.then(()=>{T(this);Qa(this)})}unlayoutCallback(){this.I&&(this.I.cleanup(),this.I=null);this.S=null;return!0}isLayoutSupported(a){return"fill"==a}getImageBox(){return this.N}getImage(){return this.F}getImageBoxWithOffset(){if(0==this.K&&0==this.L||!this.N)return this.N;let a=(this.A-1)/2;var b=this.N;b=S(b.left-b.width*a,b.top-b.height*a,b.width*(1+2*a),b.height*(1+2*a));var c=this.K,d=this.L;return 0==c&&0==d||0==b.width&&0==b.height?b:S(b.left+c,b.top+d,b.width,b.height)}}(a=>{a.registerElement("amp-image-viewer",Wa,".i-amphtml-image-viewer-image{position:absolute;-o-object-fit:contain;object-fit:contain}.i-amphtml-image-viewer{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;transform:translateZ(0)}.i-amphtml-image-viewer>amp-img{min-width:1px;min-height:1px}\n/*# sourceURL=/extensions/amp-image-viewer/0.1/amp-image-viewer.css*/")})(self.AMP)}});