(self.AMP=self.AMP||[]).push({n:"amp-nested-menu",v:"2008290323002",f:function(AMP,_){let k;function l(a,b=""){try{return decodeURIComponent(a)}catch(c){return b}}let m=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function n(a){return a?Array.prototype.slice.call(a):[]}let p=self.AMP_CONFIG||{},q=("string"==typeof p.cdnProxyRegex?new RegExp(p.cdnProxyRegex):p.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function r(a){if(self.document&&self.document.head&&(!self.location||!q.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}p.cdnUrl||r("runtime-host");p.geoApiUrl||r("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let t=self.__AMP_LOG;function u(a,b){if(!t.user)throw Error("failed to call initLogConstructor");t.user.assert(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0});function v(a){let b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(d){}let c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(let b=0;b<c.length;b++)0!=c[b].length&&("-"==c[b][0]?a[c[b].substr(1)]=!1:a[c[b]]=!0);return a}function w(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return x(a,b)}function y(a){return a.nodeType?w((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function x(a,b){z(a,b);{let b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});a=b}b=a[b];b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));return b.obj}function z(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
let A;function B(a,b,c){for(;a&&a!==c;a=a.parentElement)if(b(a))return a;return null}function C(a,b){return a.closest?a.closest(b):B(a,a=>{{let d=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;a=d?d.call(a,b):!1}return a})}function D(a,b){if(void 0!==A)var c=A;else{try{let b=a.ownerDocument,f=b.createElement("div"),e=b.createElement("div");f.appendChild(e);c=f.querySelector(":scope div")===e}catch(d){c=!1}c=A=c}if(c)return a.querySelector(b.replace(/^|,/g,"$&:scope "));a.classList.add("i-amphtml-scoped");b=b.replace(/^|,/g,"$&.i-amphtml-scoped ");b=a.querySelectorAll(b);a.classList.remove("i-amphtml-scoped");a=b;return void 0===a[0]?null:a[0]}function E(a){try{a.focus()}catch(b){}}function F(a){n(a.element.querySelectorAll("[amp-nested-submenu-open],[amp-nested-submenu-close]")).forEach(b=>{b.hasAttribute("tabindex")||b.setAttribute("tabindex",0);b.setAttribute("role","button");b.hasAttribute("amp-nested-submenu-open")&&b.setAttribute("aria-expanded","false");u(0==a.l.hasAction(b,"tap"),"submenu open/close buttons should not have tap actions registered.")})}function G(a,b,c){let d=!!B(b,a=>"A"==a.tagName,c),f=a.l.hasAction(b,"tap",c);return!d&&!f}function H(a,b){let c=D(b.parentElement,">[amp-nested-submenu]");u(c,"amp-nested-menu requires each submenu open button to have a submenu as its sibling");I(a,c)}function I(a,b){if(!b.hasAttribute("open")){var c=J(b);c&&(c.setAttribute("child-open",""),b.setAttribute("open",""),a.j=b,w(a.win,"timer").delay(()=>{D(b.parentElement,">[amp-nested-submenu-open]").setAttribute("aria-expanded","true");let a=n(b.querySelectorAll("[amp-nested-submenu-close]")).filter(a=>J(a)==b)[0];u(a,"amp-nested-menu requires each submenu to contain at least one submenu close button");E(a)},350))}}function J(a){return C(a.parentElement,"amp-nested-menu,[amp-nested-submenu]")}function K(a,b){if(b.hasAttribute("open")){var c=J(b);c&&(c.removeAttribute("child-open"),b.removeAttribute("open"),a.j=c,w(a.win,"timer").delay(()=>{let a=D(b.parentElement,">[amp-nested-submenu-open]");a.setAttribute("aria-expanded","false");E(a)},350))}}function L(a){var b=a.target;let c=J(b);if(b=B(b,a=>"LI"==a.tagName,c)){if("ArrowUp"===a.key)var d=b.previousElementSibling;else if("ArrowDown"===a.key)d=b.nextElementSibling;else if("Home"===a.key)d=b.parentElement.firstElementChild;else if("End"===a.key)d=b.parentElement.lastElementChild;else return;if(d){var f=d.querySelector("button,a[href],[tabindex]");f&&(a.preventDefault(),E(f))}}}class M extends AMP.BaseElement{constructor(a){super(a);this.w=this.win.document;this.h=this.l=null;this.j=a;this.o=this.m.bind(this);this.B=this.A.bind(this)}buildCallback(){let a=this.element;{var b=this.element;let a=b.ownerDocument.defaultView;var c=a.__AMP_TOP||(a.__AMP_TOP=a);let N=a!=c;var d=c;if(d.__AMP__EXPERIMENT_TOGGLES)c=d.__AMP__EXPERIMENT_TOGGLES;else{d.__AMP__EXPERIMENT_TOGGLES=Object.create(null);c=d.__AMP__EXPERIMENT_TOGGLES;if(d.AMP_CONFIG)for(var f in d.AMP_CONFIG){var e=d.AMP_CONFIG[f];"number"===typeof e&&0<=e&&1>=e&&(c[f]=Math.random()<e)}if(d.AMP_CONFIG&&Array.isArray(d.AMP_CONFIG["allow-doc-opt-in"])&&0<d.AMP_CONFIG["allow-doc-opt-in"].length&&(f=d.AMP_CONFIG["allow-doc-opt-in"],e=d.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){e=e.getAttribute("content").split(",");for(var g=0;g<e.length;g++)-1!=f.indexOf(e[g])&&(c[e[g]]=!0)}Object.assign(c,v(d));if(d.AMP_CONFIG&&Array.isArray(d.AMP_CONFIG["allow-url-opt-in"])&&0<d.AMP_CONFIG["allow-url-opt-in"].length){f=d.AMP_CONFIG["allow-url-opt-in"];d=d.location.originalHash||d.location.hash;e=Object.create(null);if(d)for(var h;h=m.exec(d);)g=l(h[1],h[1]),h=h[2]?l(h[2].replace(/\+/g," "),h[2]):"",e[g]=h;d=e;for(e=0;e<f.length;e++)g=d[`e-${f[e]}`],"1"==g&&(c[f[e]]=!0),"0"==g&&(c[f[e]]=!1)}}c=!!c["ampdoc-fie"];N&&!c?b=z(a,"action")?x(a,"action"):null:(b=y(b),b=y(b),b=b.isSingleDoc()?b.win:b,b=z(b,"action")?x(b,"action"):null)}this.l=b;this.h=a.getAttribute("side");"left"!=this.h&&"right"!=this.h&&(b=this.w,this.h="rtl"==(b.body.getAttribute("dir")||b.documentElement.getAttribute("dir")||"ltr")?"left":"right",a.setAttribute("side",this.h));this.registerAction("reset",this.reset.bind(this));a.addEventListener("click",this.o);a.addEventListener("keydown",this.B)}layoutCallback(){F(this);k||(k=Promise.resolve(void 0));var a=k;return a}isLayoutSupported(a){return"fill"==a}prerenderAllowed(){return!0}m(a){var b=a.target;(a=C(a.target,"[amp-nested-submenu-open],[amp-nested-submenu-close]"))&&G(this,b,a)&&(a.hasAttribute("amp-nested-submenu-open")?H(this,a):(b=C(a,"[amp-nested-submenu]"),u(b,"amp-nested-menu: submenu close buttons are only allowed inside submenus"),K(this,b)))}reset(){for(;this.element.hasAttribute("child-open");)K(this,this.j)}A(a){if(!a.defaultPrevented)switch(a.key){case"Enter":case" ":this.m(a);break;case"ArrowLeft":case"ArrowRight":{let b="ArrowLeft"==a.key;"left"==this.h&&(b=!b);b?K(this,this.j):(a=a.target,a.hasAttribute("amp-nested-submenu-open")&&H(this,a))}break;case"ArrowUp":case"ArrowDown":case"Home":case"End":L(a)}}}(a=>{a.registerElement("amp-nested-menu",M,"amp-nested-menu,amp-nested-menu [amp-nested-submenu]{position:absolute!important;top:0!important;width:100%!important;height:100%!important;margin:0!important;padding:0!important;transform:translateX(0)!important}amp-nested-menu.i-amphtml-layout-size-defined{overflow:visible!important}amp-nested-menu ol,amp-nested-menu ul{list-style-type:none;padding:0}amp-nested-menu [amp-nested-submenu-close],amp-nested-menu [amp-nested-submenu-open]{cursor:pointer}amp-nested-menu [amp-nested-submenu]{opacity:0!important;visibility:hidden!important;transition:transform 233ms,opacity 233ms,visibility 0s 233ms}amp-nested-menu,amp-nested-menu [amp-nested-submenu][open]{opacity:1!important;visibility:visible!important;transition:transform 233ms}amp-nested-menu [amp-nested-submenu][child-open],amp-nested-menu[child-open]{visibility:hidden!important;transition:transform 233ms,visibility 0s 233ms}amp-nested-menu[side=left] [amp-nested-submenu]{right:100%!important}amp-nested-menu[side=right] [amp-nested-submenu]{left:100%!important}amp-nested-menu[side=left] [amp-nested-submenu][child-open],amp-nested-menu[side=left][child-open]{transform:translateX(100%)!important}amp-nested-menu[side=right] [amp-nested-submenu][child-open],amp-nested-menu[side=right][child-open]{transform:translateX(-100%)!important}\n/*# sourceURL=/extensions/amp-nested-menu/0.1/amp-nested-menu.css*/")})(self.AMP)}});