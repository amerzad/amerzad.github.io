(self.AMP=self.AMP||[]).push({n:"amp-next-page",v:"2007102309000",f:(function(AMP,_){
var k,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ba(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return d}return function(){throw Error("Cannot find global object");}()}var n=ba(this);"function"===typeof Symbol&&Symbol("x");var p;
if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var q;a:{var ca={a:!0},da={};try{da.__proto__=ca;q=da.a;break a}catch(a){}q=!1}p=q?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ea=p;
function r(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(ea)ea(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Wa=b.prototype};function fa(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ha=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function ia(a){var b=Object.create(null);if(!a)return b;for(var c;c=ha.exec(a);){var d=fa(c[1],c[1]),e=c[2]?fa(c[2].replace(/\+/g," "),c[2]):"";b[d]=e}return b};var ja="";
function ka(){var a=self;if(a.__AMP_MODE)var b=a.__AMP_MODE;else{b=ia(a.location.originalHash||a.location.hash);var c=ia(a.location.search);ja||(ja=a.AMP_CONFIG&&a.AMP_CONFIG.v?a.AMP_CONFIG.v:"012007102309000");b={localDev:!1,development:!!(0<=["1","actions","amp","amp4ads","amp4email"].indexOf(b.development)||a.AMP_DEV_MODE),examiner:"2"==b.development,esm:!1,geoOverride:b["amp-geo"],minified:!0,lite:void 0!=c.amp_lite,test:!1,log:b.log,version:"2007102309000",rtvVersion:ja};b=a.__AMP_MODE=b}return b}
;var la=Object.prototype.toString;function t(a){return a?Array.prototype.slice.call(a):[]};var u=self.AMP_CONFIG||{},ma=("string"==typeof u.cdnProxyRegex?new RegExp(u.cdnProxyRegex):u.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function na(a){if(!self.document||!self.document.head||self.location&&ma.test(self.location.origin))return null;var b=self.document.head.querySelector('meta[name="'+a+'"]');return b&&b.getAttribute("content")||null}
var oa={thirdParty:u.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:u.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof u.thirdPartyFrameRegex?new RegExp(u.thirdPartyFrameRegex):u.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:u.cdnUrl||na("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:ma,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:u.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:u.betaErrorReportingUrl||
"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:u.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:u.geoApiUrl||na("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var v=self.__AMP_LOG;function x(){if(!v.user)throw Error("failed to call initLogConstructor");return v.user}function y(){if(v.dev)return v.dev;throw Error("failed to call initLogConstructor");}function z(a,b,c,d,e){x().assert(a,b,c,d,e,void 0,void 0,void 0,void 0,void 0,void 0)};var pa=Object.prototype.hasOwnProperty;var A;function qa(a){var b=a.ownerDocument||a;A&&A.ownerDocument===b||(A=b.createElement("div"));return ra}function ra(a){var b=A;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a}function sa(a){var b=a.querySelectorAll("[ref]"),c=Object.create(null);for(a=0;a<b.length;a++){var d=b[a],e=d.getAttribute("ref");d.removeAttribute("ref");c[e]=d}return c};function B(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};var C,ta="Webkit webkit Moz moz ms O o".split(" ");function D(a,b,c){var d=a.style;if(!B(b,"--")){C||(C=Object.create(null));var e=C[b];if(!e){e=b;if(void 0===d[b]){var f=b.charAt(0).toUpperCase()+b.slice(1);b:{for(var h=0;h<ta.length;h++){var g=ta[h]+f;if(void 0!==d[g]){f=g;break b}}f=""}void 0!==d[f]&&(e=f)}C[b]=e}b=e}b&&(B(b,"--")?a.style.setProperty(b,c):a.style[b]=c)}function ua(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")};var va;function E(){return va?va:va=Promise.resolve(void 0)};function ya(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};function F(){this.Pa=100;this.ea=this.pa=0;this.X=Object.create(null)}F.prototype.has=function(a){return!!this.X[a]};F.prototype.get=function(a){var b=this.X[a];if(b)return b.access=++this.ea,b.payload};F.prototype.put=function(a,b){this.has(a)||this.pa++;this.X[a]={payload:b,access:this.ea};if(!(this.pa<=this.Pa)){y().warn("lru-cache","Trimming LRU cache");a=this.X;var c=this.ea+1,d;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.pa--)}};var za;za={c:!0,v:!0,a:!0,ad:!0,action:!0};var Aa,Ba,Ca=/[?&]amp_js[^&]*/,Da=/[?&]amp_gsa[^&]*/,Ea=/[?&]amp_r[^&]*/,Fa=/[?&]amp_kit[^&]*/,Ga=/[?&]usqp[^&]*/;
function G(a){Aa||(Aa=self.document.createElement("a"),Ba=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new F));var b=Ba,c=Aa;if(b&&b.has(a))a=b.get(a);else{c.href=a;c.protocol||(c.href=c.href);var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=
c.origin&&"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;b&&b.put(a,d);a=d}return a}
function Ha(a,b){var c=void 0===c?"source":c;z(null!=a,"%s %s must be available",b,c);var d=a;"string"==typeof d&&(d=G(d));var e;(e="https:"==d.protocol||"localhost"==d.hostname||"127.0.0.1"==d.hostname)||(d=d.hostname,e=d.length-10,e=0<=e&&d.indexOf(".localhost",e)==e);z(e||/^(\/\/)/.test(a),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,a)}
function Ia(a){"string"==typeof a&&(a=G(a));var b=a;"string"==typeof b&&(b=G(b));if(!oa.cdnProxyRegex.test(b.origin))return a.href;b=a.pathname.split("/");z(za[b[1]],"Unknown path prefix in url %s",a.href);var c=b[2],d="s"==c?"https://"+decodeURIComponent(b[3]):"http://"+decodeURIComponent(c);z(0<d.indexOf("."),"Expected a . in origin %s",d);b.splice(1,"s"==c?3:2);b=d+b.join("/");d=(d=a.search)&&"?"!=d?(d=d.replace(Ca,"").replace(Da,"").replace(Ea,"").replace(Fa,"").replace(Ga,"").replace(/^[?&]/,
""))?"?"+d:"":"";return b+d+(a.hash||"")};function Ja(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){var d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){var e=a.AMP_CONFIG["allow-doc-opt-in"],f=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');
if(f){var h=f.getAttribute("content").split(",");for(c=0;c<h.length;c++)-1!=e.indexOf(h[c])&&(b[h[c]]=!0)}}Object.assign(b,Ka(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];a=ia(a.location.originalHash||a.location.hash);for(var g=0;g<c.length;g++){var m=a["e-"+c[g]];"1"==m&&(b[c[g]]=!0);"0"==m&&(b[c[g]]=!1)}}return b}
function Ka(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){y().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};var La=[{experimentId:"ampdoc-fie",isTrafficEligible:function(){return!0},branches:["21065001","21065002"]}];function Ma(a,b){var c=a.ownerDocument.defaultView,d=c.__AMP_TOP||(c.__AMP_TOP=c),e=c!=d,f;if(Ja(d)["ampdoc-fie"]){d.__AMP_EXPERIMENT_BRANCHES=d.__AMP_EXPERIMENT_BRANCHES||{};for(f=0;f<La.length;f++){var h=La[f],g=h.experimentId;pa.call(d.__AMP_EXPERIMENT_BRANCHES,g)||(h.isTrafficEligible&&h.isTrafficEligible(d)?!d.__AMP_EXPERIMENT_BRANCHES[g]&&Ja(d)[g]&&(h=h.branches,d.__AMP_EXPERIMENT_BRANCHES[g]=h[Math.floor(Math.random()*h.length)]||null):d.__AMP_EXPERIMENT_BRANCHES[g]=null)}f="21065002"===(d.__AMP_EXPERIMENT_BRANCHES?
d.__AMP_EXPERIMENT_BRANCHES["ampdoc-fie"]:null)}else f=!1;var m=f;e&&!m?b=Na(c,b)?H(c,b):null:(a=J(a),a=K(a),b=Na(a,b)?H(a,b):null);return b}function L(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return H(a,b)}function M(a,b){var c=J(a);c=K(c);return H(c,b)}function Oa(a,b){return Pa(K(a),b)}function J(a){return a.nodeType?L((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function K(a){a=J(a);return a.isSingleDoc()?a.win:a}
function H(a,b){Na(a,b);a=N(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Qa(a,b){var c=Pa(a,b);if(c)return c;a=N(a);a[b]=Ra();return a[b].promise}function Pa(a,b){var c=N(a)[b];if(c){if(c.promise)return c.promise;H(a,b);return c.promise=Promise.resolve(c.obj)}return null}function N(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}
function Sa(a){a=N(a);var b={},c;for(c in a){b.H=c;if(Object.prototype.hasOwnProperty.call(a,b.H)){var d=a[b.H];d.obj?Ta(b.H,d.obj):d.promise&&d.promise.then(function(a){return function(b){return Ta(a.H,b)}}(b))}b={H:b.H}}}function Ta(a,b){if("function"==typeof b.dispose)try{b.dispose()}catch(c){y().error("SERVICE","failed to dispose service",a,c)}}function Na(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}
function Ra(){var a=new ya,b=a.promise,c=a.resolve;a=a.reject;b.catch(function(){});return{obj:null,promise:b,resolve:c,reject:a,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var O=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function P(a,b,c,d,e){return e?e:b?"\ufffd":d?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a};var Q;function Ua(a){try{var b=a.ownerDocument,c=b.createElement("div"),d=b.createElement("div");c.appendChild(d);return c.querySelector(":scope div")===d}catch(e){return!1}};function Va(a,b,c){if(b(a))c();else{var d=a.ownerDocument.defaultView;if(d.MutationObserver){var e=new d.MutationObserver(function(){b(a)&&(e.disconnect(),c())});e.observe(a,{childList:!0})}else var f=d.setInterval(function(){b(a)&&(d.clearInterval(f),c())},5)}}function Wa(a,b){Va(a.documentElement,function(){return!!a.body},b)}function Xa(a){return new Promise(function(b){return Wa(a,b)})}function R(a){a.parentElement&&a.parentElement.removeChild(a)}
function Ya(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Za(a,b){a.insertBefore(b,a.firstChild)}function $a(a,b){/^[\w-]+$/.test(b);return S(a,"> ["+b+"]")}function ab(a,b){/^[\w-]+$/.test(b);b="> "+b;return(void 0!==Q?Q:Q=Ua(a))?a.querySelectorAll(b.replace(/^|,/g,"$&:scope ")):bb(a,b)}function bb(a,b){a.classList.add("i-amphtml-scoped");var c=b.replace(/^|,/g,"$&.i-amphtml-scoped ");b=a.querySelectorAll(c);a.classList.remove("i-amphtml-scoped");return b}
function S(a,b){if(void 0!==Q?Q:Q=Ua(a))return a.querySelector(b.replace(/^|,/g,"$&:scope "));var c=bb(a,b);return void 0===c[0]?null:c[0]}function cb(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)}function db(a){return"SCRIPT"==a.tagName&&a.hasAttribute("type")&&"APPLICATION/JSON"==a.getAttribute("type").toUpperCase()};function eb(a,b,c){var d=Oa(a,b);if(d)return d;var e=J(a);return e.waitForBodyOpen().then(function(){return fb(e.win,c,e.win.document.head)}).then(function(){var d=e.win;return d.__AMP_EXTENDED_ELEMENTS&&d.__AMP_EXTENDED_ELEMENTS[c]?Qa(K(a),b):null})}function gb(a){var b=Ma(a,"bind");if(b)return Promise.resolve(b);b=a.ownerDocument.defaultView;var c=b.__AMP_TOP||(b.__AMP_TOP=b);return b!==c?hb(b):eb(a,"bind","amp-bind")}
function fb(a,b,c){if(c){var d={};c=c.querySelectorAll("script[custom-element],script[custom-template]");for(var e=0;e<c.length;e++){var f=c[e];f=f.getAttribute("custom-element")||f.getAttribute("custom-template");d[f]=!0}d=Object.keys(d)}else d=[];return d.includes(b)?L(a,"extensions").waitForExtension(a,b):E()}
function hb(a){return Xa(a.document).then(function(){return fb(a,"amp-bind",a.document.head)}).then(function(){return a.__AMP_EXTENDED_ELEMENTS&&a.__AMP_EXTENDED_ELEMENTS["amp-bind"]?Qa(a,"bind"):null})};function T(a){return M(a,"viewport")};function ib(a,b){return{left:0,top:0,width:a,height:b,bottom:0+b,right:0+a,x:0,y:0}}function jb(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1};function kb(a,b,c,d){this.element=b;this.wa=d;this.fidelity=c;this.turn=0==c?Math.floor(4*Math.random()):0;this.Z=null;this.l=T(a)}
kb.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var c=this.l.getSize(),d=ib(c.width,c.height);this.l.getClientRectAsync(this.element).then(function(a){var c={positionRect:a,viewportRect:d,relativePos:null},e=b.Z;if(!(e&&jb(e.positionRect,c.positionRect)&&jb(e.viewportRect,c.viewportRect))){e=c.positionRect;var g=c.viewportRect;c.relativePos=e.top<g.top?"top":e.bottom>g.bottom?"bottom":"inside";g=c.viewportRect;e.top<=g.bottom&&
g.top<=e.bottom&&e.left<=g.right&&g.left<=e.right?(b.Z=c,b.wa(c)):b.Z&&(b.Z=null,c.positionRect=null,b.wa(c))}})};function lb(a,b){function c(c){f=null;e=a.setTimeout(d,200);b.apply(null,c)}function d(){e=0;f&&c(f)}var e=0,f=null;return function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];e?f=b:c(b)}}function mb(a,b){function c(){d=0;var h=500-(a.Date.now()-e);if(0<h)d=a.setTimeout(c,h);else{var g=f;f=null;b.apply(null,g)}}var d=0,e=0,f=null;return function(b){for(var g=[],h=0;h<arguments.length;++h)g[h-0]=arguments[h];e=a.Date.now();f=g;d||(d=a.setTimeout(c,500))}};function U(a){var b=this;this.o=a;this.D=a.win;this.B=[];this.W=L(this.D,"vsync");this.l=T(a);this.da=[];this.fa=this.ma=this.ka=!1;this.Oa=mb(this.D,function(){b.ka=!1})}U.prototype.observe=function(a,b,c){var d=this,e=new kb(this.o,a,b,c);this.B.push(e);this.fa||nb(this);e.update();return function(){for(var a=0;a<d.B.length;a++)if(d.B[a]==e){d.B.splice(a,1);0==d.B.length&&ob(d);break}}};
U.prototype.unobserve=function(a){for(var b=0;b<this.B.length;b++)if(this.B[b].element==a){this.B.splice(b,1);0==this.B.length&&ob(this);return}y().error("POSITION_OBSERVER","cannot unobserve unobserved element")};function nb(a){a.fa=!0;a.da.push(a.l.onScroll(function(){a.Oa();a.ka=!0;a.ma||pb(a)}));a.da.push(a.l.onResize(function(){a.updateAllEntries(!0)}))}function ob(a){for(a.fa=!1;a.da.length;)a.da.pop()()}U.prototype.updateAllEntries=function(a){for(var b=0;b<this.B.length;b++)this.B[b].update(a)};
function pb(a){a.updateAllEntries();a.ma=!0;a.ka?a.W.measure(function(){pb(a)}):a.ma=!1};function V(a,b){this.Y=a;this.ra=this.Ia=null;this.callback=b}
V.prototype.observe=function(a,b){var c=this,d=a.ownerDocument.createElement("div");d.classList.add("i-amphtml-next-page-document-top-sentinel");var e=a.ownerDocument.createElement("div");e.classList.add("i-amphtml-next-page-document-bottom-sentinel");b.insertBefore(d,a);b.insertBefore(e,a.nextSibling);this.Y.getPositionObserver().observe(d,0,function(a){c.Ia=a.relativePos;c.Y.updateRelativePos(c)});this.Y.getPositionObserver().observe(e,0,function(a){c.ra=a.relativePos;c.Y.updateRelativePos(c)})};
V.prototype.usesSentinel=function(){return!0};n.Object.defineProperties(V.prototype,{top:{configurable:!0,enumerable:!0,get:function(){return this.Ia}},bottom:{configurable:!0,enumerable:!0,get:function(){return this.ra}}});function W(a,b,c){V.call(this,a,b);this.Ua=c}r(W,V);W.prototype.usesSentinel=function(){return!1};n.Object.defineProperties(W.prototype,{nextPageEl:{configurable:!0,enumerable:!0,get:function(){return this.Ua}}});
function qb(a){this.o=a;this.ga=[];this.la=0;this.ba=-1;this.za=null;this.l=T(a);this.La=0;this.na=!1;this.G=M(a,"mutator");var b=lb(a.win,this.Ja.bind(this));this.l.onScroll(b.bind(this));this.l.onResize(b.bind(this));this.Ja()}k=qb.prototype;
k.Ja=function(){var a=this;this.na||(this.na=!0,this.G.measureElement(function(){a.La=a.l.getHeight();var b=a.l.getScrollTop(),c=b-a.la;if(!(20>Math.abs(c))){var d=0<c?-1:1;a.ga.forEach(function(b){b.usesSentinel()&&a.za===d||a.updateRelativePos(b)});a.la=b;a.za=a.ba;a.ba=d}}).then(function(){a.na=!1}))};k.isScrollingUp=function(){return 1===this.ba};k.isScrollingDown=function(){return-1===this.ba};k.observe=function(a,b,c){c=new V(this,c);this.ga.push(c);c.observe(a,b)};
k.observeHost=function(a,b){a=new W(this,b,a);this.ga.push(a)};k.getPositionObserver=function(){var a=J(this.o),b=K(a),c=N(b),d=c["position-observer"];d||(d=c["position-observer"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});d.ctor||d.obj||(d.ctor=U,d.context=a,d.resolve&&H(b,"position-observer"));return M(this.o.getHeadNode(),"position-observer")};
k.updateRelativePos=function(a){var b=a.usesSentinel()?this.getRelativePosFromSentinel(a):this.getRelativePosFromScroll(a);b&&a.callback(b)};k.getRelativePosFromScroll=function(a){var b=this.La,c=this.la;a=a.nextPageEl.getLayoutBox().top;return c<a-b?5:c<a&&a<=b&&0>=c?1:c<a?this.isScrollingDown()?3:4:2};
k.getRelativePosFromSentinel=function(a){var b=a.top;a=a.bottom;if(!b&&!a)return null;if("inside"===b&&"inside"===a)return 1;if(!(b&&"top"!==b||a&&"bottom"!==a))return 5;if((!b||"top"===b)&&"top"===a||"bottom"===b&&(!a||"bottom"===a))return 2;var c=("top"===b||"inside"===b)&&(!a||"bottom"===a),d=this.isScrollingUp();return!!c===!!d?3:4};n.Object.defineProperties(qb.prototype,{mutator:{configurable:!0,enumerable:!0,get:function(){return this.G}}});function X(a,b){this.N=a;this.Va=b.title;this.Sa=this.Ka=b.url;this.Ra=b.image;this.ta=this.sa=this.A=null;this.m=1;this.V="prerender";this.Ga=2}k=X.prototype;k.is=function(a){return this.m===a};k.isLoaded=function(){return 3===this.m||5===this.m||6===this.m};k.isVisible=function(){return this.isLoaded()&&"visible"===this.V};
k.setVisibility=function(a){this.isLoaded()&&a!=this.V&&(this.is(6)&&"visible"===a&&this.resume(),this.V=a,this.A&&(this.A.setVisibilityState(a),this.A.ampdoc.getBody().classList.toggle("amp-next-page-visible",this.isVisible()),this.A.ampdoc.getBody().classList.toggle("amp-next-page-hidden",!this.isVisible())))};k.pause=function(){var a=this;return this.A?this.A.close().then(function(){return a.N.closeDocument(a).then(function(){a.A=null;a.V="hidden";a.m=6})}):E()};k.resume=function(){return rb(this)};
k.fetch=function(){var a=this;if(5===this.m||2===this.m||3===this.m||4===this.m)return E();this.m=2;return this.N.fetchPageDocument(this).then(function(b){a.m=3;a.ta=b;a.sa=a.N.createDocumentContainerForPage(a);return rb(a)}).catch(function(){a.m=4})};function rb(a){return a.N.attachDocumentToPage(a,a.ta,a.is(6)).then(function(b){b?(a.m=5,a.A=b,a.is(6)||a.N.setLastFetchedPage(a)):a.m=4})}
n.Object.defineProperties(X.prototype,{url:{configurable:!0,enumerable:!0,get:function(){return this.Ka},set:function(a){this.Ka=a}},initialUrl:{configurable:!0,enumerable:!0,get:function(){return this.Sa}},image:{configurable:!0,enumerable:!0,get:function(){return this.Ra}},title:{configurable:!0,enumerable:!0,get:function(){return this.Va}},relativePos:{configurable:!0,enumerable:!0,get:function(){return this.Ga},set:function(a){this.Ga=a}},document:{configurable:!0,enumerable:!0,get:function(){if(this.A)return this.A.ampdoc.getRootNode()}},
container:{configurable:!0,enumerable:!0,get:function(){return this.sa}},shadowDoc:{configurable:!0,enumerable:!0,get:function(){return this.A}}});function sb(a,b,c,d,e){X.call(this,a,b);this.m=c;this.V=d;this.Qa=e}r(sb,X);n.Object.defineProperties(sb.prototype,{document:{configurable:!0,enumerable:!0,get:function(){return this.Qa}}});function tb(a){this.J=a.document.implementation.createHTMLDocument("");this.J.open();this.W=L(a,"vsync");this.Na=this.Ta.bind(this);this.R=this.O=this.P=null;this.oa=!1;this.T=E();this.I=!1;this.ca=null}k=tb.prototype;k.onBody=function(a){this.P=a};k.onBodyChunk=function(a){this.O=a};k.onEnd=function(a){this.R=a};k.write=function(a){if(this.I)throw Error("closed already");a&&this.J.write(a);ub(this);return this.T};k.close=function(){this.J.close();this.I=!0;ub(this);return this.T};
k.abort=function(){throw Error("Not implemented");};k.releaseLock=function(){throw Error("Not implemented");};function ub(a){a.oa||(a.oa=!0,a.W.mutate(a.Na))}k.Ta=function(){this.oa=!1;!this.ca&&this.J.body&&(this.ca=this.P(this.J));if(this.ca){var a=this.J.body,b=this.ca,c=0;for(vb(a);a.firstChild;)c++,b.appendChild(a.firstChild);0<c&&this.O()}this.I&&this.R()};
n.Object.defineProperties(tb.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}}});function wb(a){this.va=[];this.W=L(a,"vsync");this.R=this.O=this.P=null;this.T=E();this.I=!1}k=wb.prototype;k.onBody=function(a){this.P=a};k.onBodyChunk=function(a){this.O=a};
k.onEnd=function(a){this.R=a};k.write=function(a){if(this.I)throw Error("closed already");a&&this.va.push(a);return this.T};k.close=function(){var a=this;this.I=!0;this.W.mutate(function(){var b=a.va.join(""),c=(new DOMParser).parseFromString(b,"text/html");if(c.body){b=c.body;c=a.P(c);var d=0;for(vb(b);b.firstChild;)d++,c.appendChild(b.firstChild);0<d&&a.O()}a.R()});return this.T};k.abort=function(){throw Error("Not implemented");};k.releaseLock=function(){throw Error("Not implemented");};
n.Object.defineProperties(wb.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented");}}});function vb(a){var b=ab(a,"noscript");cb(b,function(a){R(a)})};/*

 Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 Use of this source code is governed by a BSD-style
 license that can be found in the LICENSE file or at
 https://developers.google.com/open-source/licenses/bsd */
var Ab={strictStyling:!1,scopeRules:function(a,b,c){var d="";a&&Array.prototype.forEach.call(a,function(a){if(a.selectorText&&a.style&&void 0!==a.style.cssText)d+=this.scopeSelector(a.selectorText,b,this.strictStyling,c)+" {\n\t",d+=this.propertiesFromRule(a)+"\n}\n\n";else if(a.type===CSSRule.MEDIA_RULE)d+="@media "+a.media.mediaText+" {\n",d+=this.scopeRules(a.cssRules,b),d+="\n}\n\n";else try{a.cssText&&(d+=a.cssText+"\n\n")}catch(f){a.type===CSSRule.KEYFRAMES_RULE&&a.cssRules&&(d+=this.ieSafeCssTextFromKeyFrameRule(a))}},
this);return d},ieSafeCssTextFromKeyFrameRule:function(a){var b="@keyframes "+a.name+" {";Array.prototype.forEach.call(a.cssRules,function(a){b+=" "+a.keyText+" {"+a.style.cssText+"}"});return b+=" }"},scopeSelector:function(a,b,c,d){var e=[];a.split(",").forEach(function(a){a=a.trim();d&&(a=d(a));this.selectorNeedsScoping(a,b)&&(a=c&&!a.match(xb)?this.applyStrictSelectorScope(a,b):this.applySelectorScope(a,b));e.push(a)},this);return e.join(", ")},selectorNeedsScoping:function(a,b){if(Array.isArray(b))return!0;
var c=this.makeScopeMatcher(b);return!a.match(c)},makeScopeMatcher:function(a){a=a.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return new RegExp("^("+a+")"+yb,"m")},applySelectorScope:function(a,b){return Array.isArray(b)?this.applySelectorScopeList(a,b):this.applySimpleSelectorScope(a,b)},applySelectorScopeList:function(a,b){for(var c=[],d=0,e;e=b[d];d++)c.push(this.applySimpleSelectorScope(a,e));return c.join(", ")},applySimpleSelectorScope:function(a,b){return a.match(zb)?(a=a.replace(xb,b),a.replace(zb,
b+" ")):b+" "+a},applyStrictSelectorScope:function(a,b){b=b.replace(/\[is=([^\]]*)\]/g,"$1");var c=[" ",">","+","~"],d=a,e="["+b+"]";c.forEach(function(a){d=d.split(a).map(function(a){var b=a.trim().replace(zb,"");b&&0>c.indexOf(b)&&0>b.indexOf(e)&&(a=b.replace(/([^:]*)(:*)(.*)/,"$1"+e+"$2$3"));return a}).join(a)});return d},propertiesFromRule:function(a){var b=a.style.cssText;a.style.content&&!a.style.content.match(/['"]+|attr/)&&(b=b.replace(/content:[^;]*;/g,"content: '"+a.style.content+"';"));
a=a.style;for(var c in a)"initial"===a[c]&&(b+=c+": initial; ");return b}},yb="([>\\s~+[.,{:][\\s\\S]*)?$",xb="-shadowcsshost-no-combinator",zb=/-shadowcsshost/gim;var Bb,Cb;function Db(){void 0===Cb&&(Cb="none"!=Eb()&&(Fb(Element.prototype.attachShadow)||Fb(Element.prototype.createShadowRoot)));return Cb}function Fb(a){return!!a&&-1!=a.toString().indexOf("[native code]")}function Eb(){if(void 0===Bb){var a=Element;Bb=a.prototype.attachShadow?"v1":a.prototype.createShadowRoot?"v0":"none"}return Bb};function Y(a,b,c,d){var e=a.getHeadNode();var f=(a=e.__AMP_CSS_TR)?a(b):b;a:{var h=c||!1,g=d||null;(b=e.__AMP_CSS_SM)||(b=e.__AMP_CSS_SM=Object.create(null));var m=!h&&g&&"amp-custom"!=g&&"amp-keyframes"!=g;if(a=h?"amp-runtime":m?"amp-extension="+g:null){var l=Gb(e,b,a);if(l){l.textContent!==f&&(l.textContent=f);break a}}l=(e.ownerDocument||e).createElement("style");l.textContent=f;f=null;h?l.setAttribute("amp-runtime",""):m?(l.setAttribute("amp-extension",g||""),f=Gb(e,b,"amp-runtime")):(g&&l.setAttribute(g,
""),f=e.lastChild);h=f;(h=void 0===h?null:h)?e.insertBefore(l,h.nextSibling):Za(e,l);a&&(b[a]=l)}}function Gb(a,b,c){return b[c]?b[c]:(a=a.querySelector("style["+c+"]"))?b[c]=a:null}function Hb(a,b){a.__AMP_CSS_TR=b};var Ib=/[^\.\-_0-9a-zA-Z]/,Jb=/[^\-_0-9a-zA-Z]/,Kb;
function Lb(a){var b=a.ownerDocument.defaultView,c=a.shadowRoot||a.__AMP_SHADOW_ROOT;if(c)return c.innerHTML="",c;var d=Eb();if("v1"==d){var e=a.attachShadow({mode:"open"});e.styleSheets||Object.defineProperty(e,"styleSheets",{get:function(){var a=[];cb(e.childNodes,function(b){"STYLE"===b.tagName&&a.push(b.sheet)});return a}})}else e="v0"==d?a.createShadowRoot():Mb(a);if(!Db()){var f="i-amphtml-sd-"+b.Math.floor(1E4*b.Math.random());e.id=f;e.host.classList.add(f);Hb(e,function(a){var b=e,c=b.id;
b=b.ownerDocument;var d=null;try{d=Nb(b.implementation.createHTMLDocument(""),a)}catch(w){}if(!d)try{d=Nb(b,a)}catch(w){}return d?Ab.scopeRules.call(Ab,d,"."+c,Ob):a})}return e}
function Mb(a){var b=a.ownerDocument;a.classList.add("i-amphtml-shadow-host-polyfill");var c=b.createElement("style");c.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}";a.appendChild(c);var d=b.createElement("i-amphtml-shadow-root");a.appendChild(d);a.__AMP_SHADOW_ROOT=d;Object.defineProperty(a,"shadowRoot",{enumerable:!0,configurable:!0,value:d});d.host=a;d.getElementById=function(a){var b=String(a).replace(O,P);return d.querySelector("#"+b)};Object.defineProperty(d,
"styleSheets",{get:function(){return b.styleSheets?t(b.styleSheets).filter(function(a){return d.contains(a.ownerNode)}):[]}});return d}
function Pb(a,b,c){var d=a.ownerDocument;if(Db())var e=d.importNode(b,c);else{e=d.createElement("amp-body");e.style.display="block";for(var f=0;f<b.attributes.length;f++)e.setAttribute(b.attributes[0].name,b.attributes[0].value);if(c)for(b=b.firstChild;b;b=b.nextSibling)e.appendChild(d.importNode(b,!0))}D(e,"position","relative");var h=a.body;h&&a.removeChild(h);a.appendChild(e);Object.defineProperty(a,"body",{configurable:!0,value:e});return e}function Ob(a){return a.replace(/(html|body)/g,Qb)}
function Qb(a,b,c,d){var e=d.charAt(c-1),f=d.charAt(c+a.length);return e&&!Ib.test(e)||f&&!Jb.test(f)?a:"amp-"+a}function Nb(a,b){var c=a.createElement("style");c.textContent=b;try{return(a.head||a.documentElement).appendChild(c),c.sheet?c.sheet.cssRules:null}finally{c.parentNode&&c.parentNode.removeChild(c)}}
function Rb(a){void 0===Kb&&(Kb=!a.document.implementation||"function"!=typeof a.document.implementation.createHTMLDocument||L(a,"platform").isFirefox()?!1:!0);return Kb?new tb(a):new wb(a)};function Sb(a,b,c,d){this.win=a;this.Ma=b;this.ha=c;this.qa=d;this.L=[]}
function Tb(a,b,c,d,e){d=d||Object.create(null);Ub(a);D(b,"visibility","hidden");var f=Lb(b);f.AMP&&(x().warn("multidoc-manager","Shadow doc wasn't previously closed"),Vb(a,f));var h={};f.AMP=h;h.url=c;var g=G(c).origin,m=a.Ma.installShadowDoc(c,f,{params:d});h.ampdoc=m;y().fine("multidoc-manager","Attach to shadow root:",f,m);Y(m,AMP.combinedCss,!0);AMP.installAmpdocServices(m);var l=M(m,"viewer");h.setVisibilityState=function(a){m.overrideVisibilityState(a)};h.postMessage=l.receiveMessage.bind(l);
var w;h.onMessage=function(a){w=a};l.setMessageDeliverer(function(b,c,d){if("broadcast"==b)return Wb(a,c,f),d?E():void 0;if(w)return w(b,c,d)},g);h.close=function(){return Vb(a,f)};ka().development&&(h.toggleRuntime=l.toggleRuntime.bind(l),h.resources=M(m,"resources"));h.getState=function(a){return gb(f).then(function(b){return b?b.getState(a):Promise.reject("amp-bind is not available in this document")})};h.setState=function(a){return gb(f).then(function(b){return b?"string"===typeof a?b.setStateWithExpression(a,
{}):"[object Object]"===la.call(a)||Array.isArray(a)?b.setStateWithObject(a):Promise.reject("Invalid state"):Promise.reject("amp-bind is not available in this document")})};e(h,f,m).then(function(){m.setReady();m.signals().signal("render-start");D(b,"visibility","visible")});a.L.includes(f)||a.L.push(f);y().fine("multidoc-manager","Shadow root initialization is done:",f,m);return h}
Sb.prototype.attachShadowDoc=function(a,b,c,d){var e=this;x().assertString(c);y().fine("multidoc-manager","Attach shadow doc:",b);return Tb(this,a,c,d,function(c,d,g){var f=Xb(e,g,d,b);e.ha.installExtensionsInDoc(g,f);b.body&&(c=Pb(d,b.body,!0),c.classList.add("amp-shadow"),g.setBody(c));setTimeout(function(){g.signals().signal("render-start");D(a,"visibility","visible")},50);return E()})};
Sb.prototype.attachShadowDocAsStream=function(a,b,c){var d=this;x().assertString(b);y().fine("multidoc-manager","Attach shadow doc as stream");return Tb(this,a,b,c,function(b,c,h){var e=!1,f=Rb(d.win);b.writer=f;f.onBody(function(a){var b=Xb(d,h,c,a);d.ha.installExtensionsInDoc(h,b);a=Pb(c,a.body,!1);a.classList.add("amp-shadow");h.setBody(a);return a});f.onBodyChunk(function(){e||(e=!0,setTimeout(function(){h.signals().signal("render-start");D(a,"visibility","visible")},50))});return new Promise(function(a){f.onEnd(function(){a();
b.writer=null})})})};
function Xb(a,b,c,d){var e=[];if(d.head){c.AMP.head=d.head;for(var f={},h=ab(a.win.document.head,"link"),g=0;g<h.length;g++){var m=h[g].getAttribute("href");m&&(f[m]=!0)}for(d=d.head.firstElementChild;d;d=d.nextElementSibling){g=d.tagName;var l=d.getAttribute("name"),w=d.getAttribute("rel");switch(g){case "TITLE":c.AMP.title=d.textContent;y().fine("multidoc-manager","- set title: ",c.AMP.title);break;case "META":d.hasAttribute("charset")||"viewport"!=l&&(l?b.setMetaByName(l,d.getAttribute("content")||""):
y().warn("multidoc-manager","meta ignored: ",d));break;case "LINK":g=d.getAttribute("href");"canonical"==w?(c.AMP.canonicalUrl=g,y().fine("multidoc-manager","- set canonical: ",c.AMP.canonicalUrl)):"stylesheet"==w?f[g]?y().fine("multidoc-manager","- stylesheet already included: ",g):(f[g]=!0,l=a.win.document.createElement("link"),l.setAttribute("rel","stylesheet"),l.setAttribute("type","text/css"),l.setAttribute("href",g),a.win.document.head.appendChild(l),y().fine("multidoc-manager","- import font to parent: ",
g,l)):y().fine("multidoc-manager","- ignore link rel=",w);break;case "STYLE":d.hasAttribute("amp-boilerplate")?y().fine("multidoc-manager","- ignore boilerplate style: ",d):d.hasAttribute("amp-custom")?(Y(b,d.textContent,!1,"amp-custom"),y().fine("multidoc-manager","- import style: ",d)):d.hasAttribute("amp-keyframes")&&(Y(b,d.textContent,!1,"amp-keyframes"),y().fine("multidoc-manager","- import style: ",d));break;case "SCRIPT":if(d.hasAttribute("src")){y().fine("multidoc-manager","- src script: ",
d);g=d.getAttribute("src");l=g.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i);var wa={extensionId:l?l[2]:void 0,extensionVersion:l?l[3]:void 0},hc=!wa.extensionId,I=d.getAttribute("custom-element"),xa=d.getAttribute("custom-template");hc?y().fine("multidoc-manager","- ignore runtime script: ",g):I||xa?(a.ha.installExtensionForDoc(b,I||xa,wa.extensionVersion),y().fine("multidoc-manager","- load extension: ",I||xa," ",wa.extensionVersion),I&&e.push(I)):d.hasAttribute("data-amp-report-test")||
x().error("multidoc-manager","- unknown script: ",d,g)}else-1==(d.getAttribute("type")||"application/javascript").indexOf("javascript")?(c.appendChild(a.win.document.importNode(d,!0)),y().fine("multidoc-manager","- non-src script: ",d)):x().error("multidoc-manager","- unallowed inline javascript: ",d);break;case "NOSCRIPT":break;default:x().error("multidoc-manager","- UNKNOWN head element:",d)}}}return e}
function Wb(a,b,c){Ub(a);a.L.forEach(function(d){if(d!=c){var e=M(d.AMP.ampdoc,"viewer");a.qa.delay(function(){e.receiveMessage("broadcast",b,!1)},0)}})}
function Vb(a,b){Yb(a,b);var c=b.AMP;delete b.AMP;var d=c.ampdoc;d.overrideVisibilityState("inactive");Sa(d);return a.qa.timeoutPromise(15,new a.win.Promise(function(a){Oa(d,"resources").then(function(b){if(b)b.onNextPass(a);else a()})}),"Timeout reached waiting for visibility state change callback").catch(function(a){x().info("multidoc-manager",a)})}function Yb(a,b){b=a.L.indexOf(b);-1!=b&&a.L.splice(b,1)}function Zb(a,b){a.qa.delay(function(){Vb(a,b)},0)}
function Ub(a){a.L.forEach(function(b){var c;if(!(c=!b.host)){c=b.host;var d=c.isConnected;if(void 0!==d)c=d;else{do{if(Node.prototype.getRootNode)c=c.getRootNode()||c;else for(;c.parentNode&&(!c||"I-AMPHTML-SHADOW-ROOT"!=c.tagName&&(11!=c.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(c)));c=c.parentNode);if(c.host)c=c.host;else break}while(1);c=c.nodeType===Node.DOCUMENT_NODE}c=!c}c&&(x().warn("multidoc-manager","Shadow doc wasn't previously closed"),Yb(a,b),Zb(a,b))})};function $b(a,b){try{return JSON.parse(a)}catch(c){return b&&b(c),null}};function ac(a,b,c){c=void 0===c?{}:c;var d=void 0===c.expr?".":c.expr,e=void 0===c.urlReplacement?0:c.urlReplacement,f=void 0===c.refresh?!1:c.refresh,h=void 0===c.token?void 0:c.token,g=void 0===c.xssiPrefix?void 0:c.xssiPrefix;Ha(b.getAttribute("src"),b);var m=L(a.win,"batched-xhr");return bc(b,e,f).then(function(a){void 0!==h&&(a.fetchOpt.method="POST",a.fetchOpt.headers={"Content-Type":"application/x-www-form-urlencoded"},a.fetchOpt.body={ampViewerAuthToken:h});return m.fetchJson(a.xhrUrl,a.fetchOpt)}).then(function(b){return L(a.win,
"xhr").xssiJson(b,g)}).then(function(a){if(null==a)throw Error("Response is undefined.");var b=d||".";if("."==b)b=a;else{b=b.split(".");for(var c=0;c<b.length;c++){var e=b[c];if(e&&a&&void 0!==a[e]&&(null==a||"object"!=typeof a?0:Object.prototype.hasOwnProperty.call(a,e)))a=a[e];else{a=void 0;break}}b=a}return b}).catch(function(a){throw x().createError("failed fetching JSON data",a);})}
function bc(a,b,c){var d=a.getAttribute("src"),e=Ma(a,"url-replace");return(1<=b?e.expandUrlAsync(d):Promise.resolve(d)).then(function(d){if(1==b){var f=e.collectDisallowedVarsSync(a);if(0<f.length)throw x().createError('URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. Please add data-amp-replace="'+(f.join(" ")+'" to the <')+(a.tagName+"> element. See https://bit.ly/amp-var-subs."));}var g={};a.hasAttribute("credentials")&&(g.credentials=a.getAttribute("credentials"));
c&&(g.cache="reload");return{xhrUrl:d,fetchOpt:g}})};function cc(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1};function dc(a){var b=a.querySelector('script[type="application/ld+json"]');if(b){var c=$b(b.textContent);if(c&&c.image){if("string"===typeof c.image)return c.image;if(c.image["@list"]&&"string"===typeof c.image["@list"][0])return c.image["@list"][0];if("string"===typeof c.image.url)return c.image.url;if("string"===typeof c.image[0])return c.image[0]}}};function ec(a,b,c){var d=!1;c=void 0===c?{}:c;d=void 0===d?!0:d;eb(a,"amp-analytics-instrumentation","amp-analytics").then(function(e){e&&e.triggerEventForTarget(a,b,c,d)})};function fc(a,b){a=G(a);var c=G(b).origin,d=G(Ia(b)).origin;z(a.origin===c||a.origin===d,"Invalid page URL supplied to amp-next-page, pages must be from the same origin as the current document");return a}
function gc(a,b){x().assertString(a.url,"page url must be a string");var c=Ia(b),d=G(b).origin,e=a.url;"string"==typeof c&&(c=G(c));if("function"==typeof URL)e=(new URL(e,c.href)).toString();else{"string"==typeof c&&(c=G(c));e=e.replace(/\\/g,"/");var f=G(e);e=B(e.toLowerCase(),f.protocol)?f.href:B(e,"//")?c.protocol+e:B(e,"/")?c.origin+e:c.origin+c.pathname.replace(/\/[^/]*$/,"/")+e}a.url=e;e=fc(a.url,b);x().assertString(a.image,"page image must be a string");x().assertString(a.title,"page title must be a string");
b=G(Ia(b)).origin;b!==d&&e.origin===b&&(a.url=d+"/c/"+("https:"===e.protocol?"s/":"")+encodeURIComponent(e.host)+e.pathname+(e.search||"")+(e.hash||""))};var ic=['<div class=amp-next-page-separator aria-label="Next article separator" tabindex=0></div>'],jc=['<div class=amp-next-page-links aria-label="Read more articles"></div>'],kc=["<a class=amp-next-page-link><img ref=image class=amp-next-page-image> <span ref=title class=amp-next-page-text></span></a>"];function lc(){return E()}
function mc(a){var b=this;this.o=a;this.D=a.win;this.w=this.D.document;this.l=T(a);this.G=M(a,"mutator");this.M=L(this.D,"templates");this.S=this.Ha=null;this.K=lc;this.ia=!1;this.ua=this.C=this.ya=this.Ca=this.ja=this.Ba=this.U=this.j=this.$=null;this.aa={};this.xa=!1;this.Aa=Infinity;this.Fa=this.F=null;this.Ea=new Promise(function(a){b.Fa=a})}k=mc.prototype;k.isBuilt=function(){return!!this.h};
k.build=function(a){function b(){c.K();c.Fa()}var c=this;if(this.isBuilt())return E();this.o.getBody().lastElementChild!==a&&x().warn("amp-next-page","should be the last element in the body of the document, a footer element can be added as a child of <amp-next-page> if it has the `footer` attribute");this.j=a;this.F=this.j.getAttribute("src");this.xa=this.j.hasAttribute("deep-parsing")?"false"!==this.j.getAttribute("deep-parsing"):!this.F;this.Aa=this.j.hasAttribute("max-pages")?parseInt(this.j.getAttribute("max-pages"),
10):Infinity;this.Ha=nc(this,a);this.S=oc(this,a);this.C=this.createHostPage();this.toggleHiddenAndReplaceableElements(this.w);Za(this.j,this.S);this.ja=M(this.o,"history");this.initializeHistory();this.Ca=M(this.o,"navigation");this.Ba=new Sb(this.D,L(this.D,"ampdoc"),L(this.D,"extensions"),L(this.D,"timer"));this.U=new qb(this.o);this.Ea.then(function(){c.U.observeHost(c.j,function(a){c.C.relativePos=a;c.updateVisibility()})});this.h||(this.h=[this.C],this.setLastFetchedPage(this.C));pc(this).then(function(){return qc(c)}).then(b,
b);this.j.classList.add("i-amphtml-next-page");return this.Ea};function pc(a){return new Promise(function(b){if(0!=a.l.getScrollTop())return b();var c=a.l.onScroll(function(){b();c()})})}
k.maybeFetchNext=function(a){var b=this;a=void 0===a?!1:a;var c=this.h.filter(function(a){return!a.is(1)}).length>this.Aa,d=this.h.some(function(a){return a.is(2)}),e=3<rc(this)&&!a;if(this.ia||d||e||c)return E();var f=this.h.length,h=this.h[this.h.indexOf(this.ya)+1];return h?h.fetch().then(function(){h.is(4)&&b.setLastFetchedPage(h)}).then(function(){return b.K()},function(a){return b.K().then(function(){throw a;})}):sc(this).then(function(a){return tc(b,a)}).then(function(){return b.h.length<=
f?(b.ia=!0,b.K()):b.maybeFetchNext(!0)})};
k.updateVisibility=function(){var a=this;this.h.forEach(function(b,c){2===b.relativePos?b.isVisible()&&b.setVisibility("hidden"):3!==b.relativePos&&(b.isVisible()||b.setVisibility("visible"),uc(a,c),vc(a,c))});this.h.some(function(a){return a.isVisible()})||this.C.setVisibility("visible");this.h.filter(function(a){return a.isVisible()}).forEach(function(b){return a.toggleHiddenAndReplaceableElements(b.document)});var b=cc(this.h,function(a){return a.isVisible()}),c=this.h[b]||null;c&&this.ua!==c&&
this.setTitlePage(c);this.maybeFetchNext()};function uc(a,b){a.U.isScrollingDown()&&a.C.isVisible()&&a.C.setVisibility("hidden");var c=a.U.isScrollingDown()?a.h.slice(1,b).reverse():a.h.slice(b+1);Promise.all(c.filter(function(a){return 2===a.relativePos}).map(function(a,b){a.isVisible()&&a.setVisibility("hidden");if(5<=b)return a.pause()}))}
function vc(a,b){var c=a.h.slice(1).slice(Math.max(0,b-5-1),Math.min(a.h.length,b+5+1)).filter(function(a){return a.is(6)});Promise.all(c.map(function(a){return a.resume()}))}k.setLastFetchedPage=function(a){this.ya=a};k.setTitlePage=function(a){if(a=void 0===a?this.C:a){var b=a,c=b.title;b=b.url;this.w.title=c;this.ja.replace({title:c,url:b});this.ua=a;ec(this.j,"amp-next-page-scroll",{title:c,url:b})}else y().warn("amp-next-page","setTitlePage called before next-page-service is built")};
k.initializeHistory=function(){var a=this.C;this.ja.push(void 0,{title:a.title,url:a.url})};k.createHostPage=function(){var a=this.w,b=a.title;a=a.location.href;var c;(c=dc(this.w))||(c=(c=this.w.querySelector('meta[property="og:image"]'))?c.getAttribute("content"):void 0);c||(c=this.w,c=(c=c.querySelector('link[rel="shortcut icon"]')||c.querySelector('link[rel="icon"]'))?c.getAttribute("href"):void 0);return new sb(this,{url:a,title:b||"",image:c||""},5,"visible",this.w)};
k.createDocumentContainerForPage=function(a){var b=this,c=this.w.createElement("div");c.classList.add("i-amphtml-next-page-document-container");this.j.insertBefore(c,this.S);var d=this.w.createElement("div");d.classList.add("i-amphtml-next-page-shadow-root");c.appendChild(d);this.U.observe(d,c,function(c){a.relativePos=c;b.updateVisibility()});return c};
k.attachDocumentToPage=function(a,b,c){c=void 0===c?!1:c;if(1>rc(this)&&!c)return Promise.resolve(null);c=a.container;var d=S(c,"> ."+"i-amphtml-next-page-shadow-root".replace(O,P));if(!d){a.is(6);var e=S(c,"> ."+"i-amphtml-next-page-placeholder".replace(O,P));d=this.w.createElement("div");d.classList.add("i-amphtml-next-page-shadow-root");c.replaceChild(d,e)}this.sanitizeDoc(b);try{var f=this.Ba.attachShadowDoc(d,b,"",{visibilityState:"prerender"}),h=f.ampdoc;Y(h,'.i-amphtml-next-page-document{overflow:hidden}.i-amphtml-next-page-document:not(.amp-next-page-visible) [i-amphtml-fixedid]{display:none}.i-amphtml-next-page-document.amp-next-page-visible{opacity:1;overflow:visible}.i-amphtml-next-page-document:after,.i-amphtml-next-page-document:before{content:" ";display:table}.i-amphtml-next-page-placeholder{background:#eee}.amp-next-page-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.1);margin-top:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.1);display:block;overflow:auto;padding:10px 0;text-decoration:none}.amp-next-page-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.amp-next-page-text{position:relative;margin:5px 30px 5px 0;color:#3c4043;font-size:17px}\n/*# sourceURL=/extensions/amp-next-page/1.0/amp-next-page.css*/',
!1,"amp-next-page");h.getBody().classList.add("i-amphtml-next-page-document");var g=this.Ha.cloneNode(!0);Za(c,g);return wc(this,g,a).then(function(){return f})}catch(m){return y().error("amp-next-page","failed to attach shadow document for page",m),Promise.resolve(null)}};
k.closeDocument=function(a){if(a.is(6))return E();var b=a.container,c=S(b,"> ."+"i-amphtml-next-page-shadow-root".replace(O,P)),d=this.w.createElement("div");d.classList.add("i-amphtml-next-page-placeholder");var e=0,f=0;return this.G.measureMutateElement(c,function(){e=c.offsetHeight;f=c.offsetWidth},function(){var a={height:e+"px",width:f+"px"},g;for(g in a)D(d,g,a[g]);b.replaceChild(d,c)})};
k.sanitizeDoc=function(a){var b=this;t(a.querySelectorAll("amp-next-page")).forEach(function(a){if(b.xa){var c=xc(a);yc(b,c)}R(a)});a.body.classList.add("amp-next-page-hidden");this.toggleHiddenAndReplaceableElements(a,!1)};
k.toggleHiddenAndReplaceableElements=function(a,b){var c=this;b=void 0===b?!0:b;a!==this.C.document&&t(a.querySelectorAll("[next-page-hide]")).forEach(function(a){return ua(a,!1)});b&&t(a.querySelectorAll("*:not(amp-next-page) [next-page-replace]")).forEach(function(a){var b=a.getAttribute("next-page-replace");b||(b=String(Date.now()+Math.floor(100*Math.random())),a.setAttribute("next-page-replace",b));c.aa[b]&&c.aa[b]!==a&&ua(c.aa[b],!1);c.aa[b]=a;ua(a,!0)})};
function rc(a){return Math.round((a.l.getScrollHeight()-a.l.getScrollTop()-a.l.getHeight())/a.l.getHeight())}k.fetchPageDocument=function(a){var b=this;return L(this.D,"xhr").fetch(a.url,{ampCors:!1}).then(function(c){fc(c.url,b.o.getUrl());a.url=c.url;return c.text()}).then(function(a){var c=b.w.implementation.createHTMLDocument("");c.open();c.write(a);c.close();return c}).catch(function(b){x().error("amp-next-page","failed to fetch %s",a.url,b);throw b;})};
function qc(a){var b=xc(a.j);if(b.length)return yc(a,b);z(a.F,"%s should contain a <script> child or a URL specified in [src]","amp-next-page");return sc(a).then(function(b){return 0===b.length?(x().warn("amp-next-page","Could not find recommendations"),E()):yc(a,b)})}
function tc(a,b){if(!b.length||a.ia)return E();b.forEach(function(b){try{gc(b,a.o.getUrl()),a.h.some(function(a){return a.initialUrl==b.url})||a.h.push(new X(a,b))}catch(d){x().error("amp-next-page","Failed to queue page due to error:",d)}});return E()}function yc(a,b){return tc(a,b).then(function(){return a.maybeFetchNext()})}
function xc(a){var b=ab(a,"SCRIPT");if(!b.length)return[];z(1===b.length,"amp-next-page should contain at most one <script> child");var c=b[0];z(db(c),'amp-next-page page list should be inside a <script> tag with type="application/json"');a=$b(c.textContent,function(a){x().error("amp-next-page","failed to parse inline page list",a)});a=x().assertArray(a,"amp-next-page Page list expected an array, found: "+typeof a);R(c);return a}
function sc(a){if(!a.F)return Promise.resolve([]);if(a.$)return a.$;a.$=ac(a.o,a.j,{urlReplacement:2,xssiPrefix:a.j.getAttribute("xssi-prefix")||void 0}).then(function(b){a.F=b.next||null;a.F&&a.j.setAttribute("src",a.F);return b.pages||[]}).catch(function(b){x().error("amp-next-page","error fetching page list from remote server",b);a.F=null;return[]});return a.$}function nc(a,b){var c=$a(b,"separator");return c?(R(c),c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),c):qa(a.j)(ic)}
function wc(a,b,c){return a.M.hasTemplate(b)?a.M.findAndRenderTemplate(b,{title:c.title,url:c.url,image:c.image}).then(function(c){return a.G.mutateElement(b,function(){Ya(b);b.appendChild(c)})}):E()}function oc(a,b){var c=$a(b,"recommendation-box");if(c)return a.K=a.M.hasTemplate(c)?function(){return zc(a)}:lc,c;a.K=function(){return Ac(a)};return qa(a.j)(jc)}
function zc(a){var b=a.S;a.M.hasTemplate(b);var c=a.M.maybeFindTemplate(b),d={pages:(a.h||[]).filter(function(a){return!a.isLoaded()&&!a.is(2)}).map(function(a){return{title:a.title,url:a.url,image:a.image}})};return a.M.findAndRenderTemplate(b,d).then(function(d){return a.G.mutateElement(b,function(){Ya(b);b.appendChild(c);b.appendChild(d)})})}
function Ac(a){var b=a.S,c={pages:(a.h||[]).filter(function(a){return!a.isLoaded()&&!a.is(2)}).map(function(a){return{title:a.title,url:a.url,image:a.image}})},d=qa(a.j),e=c.pages.map(function(b){var c=d(kc),e=sa(c),f=e.title;e.image.src=b.image;f.textContent=b.title;c.href=b.url;c.addEventListener("click",function(c){ec(a.j,"amp-next-page-click",{title:b.title,url:b.url});a.Ca.navigateToAmpUrl(b.url,"content-discovery")&&c.preventDefault()});return c});return a.G.mutateElement(b,function(){Ya(b);
e.forEach(function(a){return b.appendChild(a)})})};function Z(a){a=AMP.BaseElement.call(this,a)||this;a.Da=null;return a}r(Z,AMP.BaseElement);Z.prototype.isLayoutSupported=function(a){return"container"===a};Z.prototype.buildCallback=function(){this.Da=M(this.element,"next-page");return this.Da.build(this.element)};(function(a){a.registerServiceForDoc("next-page",mc);a.registerElement("amp-next-page",Z,'.i-amphtml-next-page-document{overflow:hidden}.i-amphtml-next-page-document:not(.amp-next-page-visible) [i-amphtml-fixedid]{display:none}.i-amphtml-next-page-document.amp-next-page-visible{opacity:1;overflow:visible}.i-amphtml-next-page-document:after,.i-amphtml-next-page-document:before{content:" ";display:table}.i-amphtml-next-page-placeholder{background:#eee}.amp-next-page-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.1);margin-top:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.1);display:block;overflow:auto;padding:10px 0;text-decoration:none}.amp-next-page-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.amp-next-page-text{position:relative;margin:5px 30px 5px 0;color:#3c4043;font-size:17px}\n/*# sourceURL=/extensions/amp-next-page/1.0/amp-next-page.css*/')})(self.AMP);
})});

//# sourceMappingURL=amp-next-page-1.0.js.map
