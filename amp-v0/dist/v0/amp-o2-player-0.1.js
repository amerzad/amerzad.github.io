(self.AMP=self.AMP||[]).push({n:"amp-o2-player",v:"2007102309000",f:(function(AMP,_){
var c="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function f(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],d=0;d<b.length;++d){var e=b[d];if(e&&e.Math==Math)return}(function(){throw Error("Cannot find global object");})()}f(this);"function"===typeof Symbol&&Symbol("x");var g;
if("function"==typeof Object.setPrototypeOf)g=Object.setPrototypeOf;else{var h;a:{var l={a:!0},m={};try{m.__proto__=l;h=m.a;break a}catch(a){}h=!1}g=h?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var n=g;var p=self.AMP_CONFIG||{},q=("string"==typeof p.cdnProxyRegex?new RegExp(p.cdnProxyRegex):p.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function r(a){if(self.document&&self.document.head&&(!self.location||!q.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}p.cdnUrl||r("runtime-host");p.geoApiUrl||r("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var t=self.__AMP_LOG;function u(a,b,d){if(!t.user)throw Error("failed to call initLogConstructor");return t.user.assert(a,b,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function v(a){return a||{}};v({c:!0,v:!0,a:!0,ad:!0,action:!0});/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function w(a){a=AMP.BaseElement.call(this,a)||this;a.j=null;a.m="";a.l="";a.h="";a.o="";return a}var x=AMP.BaseElement;w.prototype=c(x.prototype);w.prototype.constructor=w;if(n)n(w,x);else for(var y in x)if("prototype"!=y)if(Object.defineProperties){var z=Object.getOwnPropertyDescriptor(x,y);z&&Object.defineProperty(w,y,z)}else w[y]=x[y];w.w=x.prototype;
w.prototype.preconnectCallback=function(a){var b=this.win;b=b.__AMP_TOP||(b.__AMP_TOP=b);var d=b.__AMP_SERVICES;d||(d=b.__AMP_SERVICES={});b=d.preconnect;b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));b.obj.url(this.getAmpDoc(),this.h,a)};w.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};
w.prototype.buildCallback=function(){this.element.classList.add("i-amphtml-media-component");this.m=u(this.element.getAttribute("data-pid"),"data-pid attribute is required for <amp-o2-player> %s",this.element);this.l=u(this.element.getAttribute("data-bcid"),"data-bcid attribute is required for <amp-o2-player> %s",this.element);var a=this.element.getAttribute("data-bid"),b=this.element.getAttribute("data-vid"),d=this.element.getAttribute("data-macros");this.h="https://delivery."+("stage"!=this.element.getAttribute("data-env")?
"":"dev.")+"vidible.tv";var e=this.h+"/htmlembed/",k=[];e+="pid="+encodeURIComponent(this.m)+"/"+encodeURIComponent(this.l)+".html";a&&k.push("bid="+encodeURIComponent(a));b&&k.push("vid="+encodeURIComponent(b));d&&k.push(d);0<k.length&&(e+="?"+k.join("&"));this.o=e};
w.prototype.layoutCallback=function(){u(this.m,"data-pid attribute is required for <amp-o2-player> %s",this.element);u(this.l,"data-bcid attribute is required for <amp-o2-player> %s",this.element);var a=this.element.ownerDocument.createElement("iframe");a.setAttribute("frameborder","0");a.setAttribute("allowfullscreen","true");a.src=this.o;this.j=a;this.applyFillContent(a);this.element.appendChild(a);return this.loadPromise(a)};
w.prototype.pauseCallback=function(){this.j&&this.j.contentWindow&&this.j.contentWindow.postMessage(JSON.stringify(v({method:"pause",value:this.h})),"*")};(function(a){a.registerElement("amp-o2-player",w)})(self.AMP);
})});

//# sourceMappingURL=amp-o2-player-0.1.js.map
