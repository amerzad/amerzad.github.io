(self.AMP=self.AMP||[]).push({n:"amp-truncate-text",v:"2008290323002",f:function(AMP,_){function h(a,b=""){try{return decodeURIComponent(a)}catch(c){return b}}let k=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function m(a){return a?Array.prototype.slice.call(a):[]}let n=self.AMP_CONFIG||{},p=("string"==typeof n.cdnProxyRegex?new RegExp(n.cdnProxyRegex):n.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function q(a){if(self.document&&self.document.head&&(!self.location||!p.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}n.cdnUrl||q("runtime-host");n.geoApiUrl||q("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};function r(a){return a.trimEnd?a.trimEnd():("_"+a).trim().slice(1)}(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0});function t(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);let b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){let d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){let d=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(e){let a=e.getAttribute("content").split(",");for(c=0;c<a.length;c++)-1!=d.indexOf(a[c])&&(b[a[c]]=!0)}}Object.assign(b,u(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];a=a.location.originalHash||a.location.hash;var d=Object.create(null);if(a)for(var f;f=k.exec(a);){var e=h(f[1],f[1]);f=f[2]?h(f[2].replace(/\+/g," "),f[2]):"";d[e]=f}a=d;for(d=0;d<c.length;d++)e=a[`e-${c[d]}`],"1"==e&&(b[c[d]]=!0),"0"==e&&(b[c[d]]=!1)}return b}function u(a){let b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(d){}let c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(let b=0;b<c.length;b++)0!=c[b].length&&("-"==c[b][0]?a[c[b].substr(1)]=!1:a[c[b]]=!0);return a}function v(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;b=b.__AMP_TOP||(b.__AMP_TOP=b);a=w(b,"ampdoc").getAmpDoc(a)}return a}function w(a,b){x(a,b);{let b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});a=b}b=a[b];b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));return b.obj}function x(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function y(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function z(a){return a.closest?a.closest("a[href]"):y(a,a=>{{let b=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;a=b?b.call(a,"a[href]"):!1}return a})}function A(a,b){let c=a.length;for(let d=0;d<c;d++)b(a[d],d)}let B;function C(a){a=a.ownerDocument||a;B&&B.ownerDocument===a||(B=a.createElement("div"));return D}function D(a){var b=B;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return b=a}function E(a,b){let c=0,d=a-1,f=NaN;for(a=NaN;d>=c;){let e=c+Math.floor((d-c)/2),g=b(e);if(0<g||0==g)a=0==g?e:a,c=e+1;else if(0>g)f=e,a=0==g?e:a,d=e-1;else{a=e;break}}return isNaN(a)?-((isNaN(f)?c:f)+1):a}function F(a,b){let c="slot"==a.localName?a.assignedNodes({flatten:!0}):a.childNodes;for(a=0;a<c.length;a++)b(c[a])}function G(a){let b=a.__AMP_TRUNCATE_TEXT_DATA;b&&b.modifiedText==a.data&&(a.data=b.originalText);a.nodeType==Node.ELEMENT_NODE&&a.removeAttribute("i-amphtml-truncate-child-overflow");F(a,a=>G(a))}function H(a,b,c){a.__AMP_TRUNCATE_TEXT_DATA={originalText:b,modifiedText:c};a.data=c}function I({container:a,overflowNodes:b}={}){a.__AMP_TRUNCATE_TRUNCATED&&(a.__AMP_TRUNCATE_TRUNCATED=!1,a.removeAttribute("i-amphtml-truncate-overflow"),G(a));if(!(0>=a.scrollHeight-a.offsetHeight)){var c=a.getBoundingClientRect();a.__AMP_TRUNCATE_TRUNCATED=!0;a.setAttribute("i-amphtml-truncate-overflow","");J(a,c,b)}}function K(a,b,c=[]){if(!b(a))return c;c.push(a);F(a,a=>K(a,b,c));return c}function J(a,b,c){let d=K(a,a=>!c.includes(a));for(let c=d.length-1;0<=c;c--){let e=d[c];e.nodeType==Node.ELEMENT_NODE&&e.setAttribute("i-amphtml-truncate-child-overflow","");if(e.nodeType==Node.TEXT_NODE&&L(e,a,b))break}}function L(a,b,c){let d=document.createRange();d.selectNode(a);let f=d.getBoundingClientRect(),e=a.data;if(f.height)if(f.top>c.bottom)H(a,e,"");else{var g=E(e.length,c=>{for(;!e[c].trim()&&0<c;)c--;a.data=e.slice(0,c+1)+"… ";return-(b.scrollHeight-b.offsetHeight)}),l=r(e.slice(0,0<=g?g+1:-(g+1)));H(a,e,l?l+"… ":"");return!!l}}let M=["<div class=i-amphtml-truncate-content><span class=i-amphtml-default-slot></span> <span class=i-amphtml-truncate-collapsed-slot name=collapsed></span> <span class=i-amphtml-truncate-expanded-slot name=expanded></span> <span class=i-amphtml-truncate-persistent-slot name=persistent></span></div>"],N=["<div class=content><slot></slot><slot class=collapsed-slot name=collapsed></slot><slot class=expanded-slot name=expanded></slot><slot class=persistent-slot name=persistent></slot></div>"];function O(a){a.element.setAttribute("i-amphtml-truncate-expanded","")}function P(a){a.element.removeAttribute("i-amphtml-truncate-expanded")}function Q(a){a.registerAction("expand",()=>O(a));a.registerAction("collapse",()=>P(a))}function R(a){let b=a.m?a.element:a.h;var c=a.m?m(a.element.querySelectorAll('[slot="persistent"], [slot="collapsed"]')):m(a.element.querySelectorAll(".i-amphtml-truncate-persistent-slot, .i-amphtml-truncate-collapsed-slot"));I({container:b,overflowNodes:c});a.w.takeRecords()}function S(a){var b=C(a.element);{var c=a.element;b=b(N);var d=c.querySelector("i-amphtml-sizer");d&&d.setAttribute("slot","i-amphtml-sizer");c=c.attachShadow({mode:"open"});d=document.createElement("style");d.textContent=":host{padding:0!important;border:none!important}:host([i-amphtml-truncate-expanded]){height:auto!important}:host([i-amphtml-truncate-expanded]) ::slotted(i-amphtml-sizer){display:none!important}:host([i-amphtml-truncate-expanded]) .content{position:static}:host(:not([i-amphtml-truncate-expanded])) .expanded-slot{display:none}.content{position:absolute;top:0;left:0;bottom:0;right:0}.expand-slot::slotted(*){margin:0!important;white-space:nowrap!important}:host(:not([i-amphtml-truncate-overflow])) .collapsed-slot{display:none}::slotted([i-amphtml-truncate-child-overflow]){display:none!important}\n/*# sourceURL=/extensions/amp-truncate-text/0.1/amp-truncate-text-shadow.css*/";let f=document.createElement("slot");f.setAttribute("name","i-amphtml-sizer");c.appendChild(d);c.appendChild(f);c.appendChild(b);b=c}a.h=null;a.j=b.querySelector(".collapsed-slot");a.l=b.querySelector(".expanded-slot");a.o=b.querySelector(".persistent-slot")}function T(a){a.h=C(a.element)(M);let b=a.h.querySelector(".i-amphtml-default-slot");a.j=a.h.querySelector(".i-amphtml-truncate-collapsed-slot");a.l=a.h.querySelector(".i-amphtml-truncate-expanded-slot");a.o=a.h.querySelector(".i-amphtml-truncate-persistent-slot");A(a.element.querySelectorAll('[slot="collapsed"]'),b=>{a.j.appendChild(b)});A(a.element.querySelectorAll('[slot="expanded"]'),b=>{a.l.appendChild(b)});A(a.element.querySelectorAll('[slot="persistent"]'),b=>{a.o.appendChild(b)});a.getRealChildNodes().forEach(a=>{b.appendChild(a)});a.element.appendChild(a.h)}function U(a,b,c){b=b.target;{var d=a.element;let b=d.ownerDocument.defaultView;var f=b.__AMP_TOP||(b.__AMP_TOP=b);let c=b!=f;f=!!t(f)["ampdoc-fie"];c&&!f?d=x(b,"action")?w(b,"action"):null:(d=v(d),d=v(d),d=d.isSingleDoc()?d.win:d,d=x(d,"action")?w(d,"action"):null)}d.hasAction(b,"tap")||z(b)||(c?O(a):P(a))}class V extends AMP.BaseElement{constructor(a){super(a);this.o=this.l=this.j=this.h=null;this.m=!1;this.w=new this.win.MutationObserver(()=>{R(this)})}buildCallback(){(this.m=!!this.element.attachShadow&&!!t(this.win)["amp-truncate-text-shadow"])?S(this):T(this);Q(this);this.j.addEventListener("click",a=>{U(this,a,!0)});this.l.addEventListener("click",a=>{U(this,a,!1)})}layoutCallback(){return this.mutateElement(()=>{R(this)})}firstAttachedCallback(){this.w.observe(this.element,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}isRelayoutNeeded(){return!0}isLayoutSupported(){return!0}}(a=>{a.registerElement("amp-truncate-text",V,"amp-truncate-text{padding:0!important;border:none!important}amp-truncate-text[i-amphtml-truncate-expanded]{height:auto!important}amp-truncate-text[i-amphtml-truncate-expanded]>i-amphtml-sizer{display:none!important}amp-truncate-text[i-amphtml-truncate-expanded] .i-amphtml-truncate-content{position:static!important}amp-truncate-text:not([i-amphtml-truncate-expanded]) .i-amphtml-truncate-expanded-slot{display:none!important}.i-amphtml-truncate-content{position:absolute!important;top:0!important;left:0!important;bottom:0!important;right:0!important}.i-amphtml-truncate-content [slot=expand]{margin:0!important;white-space:nowrap!important}.i-amphtml-truncate-content:not([i-amphtml-truncate-overflow]) .i-amphtml-truncate-collapsed-slot,[i-amphtml-truncate-child-overflow]{display:none!important}\n/*# sourceURL=/extensions/amp-truncate-text/0.1/amp-truncate-text.css*/")})(self.AMP)}});