(self.AMP=self.AMP||[]).push({n:"amp-next-page",v:"2008290323002",f:function(AMP,_){function aa(a,b=""){try{return decodeURIComponent(a)}catch(c){return b}}let ba=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;let ca=Object.prototype.toString;function m(a){return a?Array.prototype.slice.call(a):[]}let n=self.AMP_CONFIG||{},da=("string"==typeof n.cdnProxyRegex?new RegExp(n.cdnProxyRegex):n.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function ea(a){if(!self.document||!self.document.head||self.location&&da.test(self.location.origin))return null;let b=self.document.head.querySelector(`meta[name="${a}"]`);return b&&b.getAttribute("content")||null}let fa={thirdParty:n.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:n.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof n.thirdPartyFrameRegex?new RegExp(n.thirdPartyFrameRegex):n.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:n.cdnUrl||ea("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:da,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:n.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:n.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:n.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:n.geoApiUrl||ea("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let p=self.__AMP_LOG;function q(){if(!p.user)throw Error("failed to call initLogConstructor");return p.user}function r(){if(p.dev)return p.dev;throw Error("failed to call initLogConstructor")}function t(a,b,c,d,e){q().assert(a,b,c,d,e,void 0,void 0,void 0,void 0,void 0,void 0)}let u;function w(a){let b=a.ownerDocument||a;u&&u.ownerDocument===b||(u=b.createElement("div"));return ha}function ha(a){var b=u;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return b=a}function ia(a){let b=a.querySelectorAll("[ref]"),c=Object.create(null);for(a=0;a<b.length;a++){let d=b[a],e=d.getAttribute("ref");d.removeAttribute("ref");c[e]=d}return c}function x(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)}let y;let ja="Webkit webkit Moz moz ms O o".split(" ");function z(a,b,c){var d=a.style;if(!x(b,"--")){y||(y=Object.create(null));var e=y[b];if(!e){e=b;if(void 0===d[b]){var f=b.charAt(0).toUpperCase()+b.slice(1);b:{for(let a=0;a<ja.length;a++){let b=ja[a]+f;if(void 0!==d[b]){f=b;break b}}f=""}void 0!==d[f]&&(e=f)}y[b]=e}b=e}b&&(x(b,"--")?a.style.setProperty(b,c):a.style[b]=c)}function A(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")}let B;function C(){return B?B:B=Promise.resolve(void 0)}class ka{constructor(){let a,b;this.promise=new Promise((c,d)=>{a=c;b=d});this.resolve=a;this.reject=b}}class la{constructor(a){this.Oa=a;this.da=this.oa=0;this.W=Object.create(null)}has(a){return!!this.W[a]}get(a){let b=this.W[a];if(b)return b.access=++this.da,b.payload}put(a,b){this.has(a)||this.oa++;this.W[a]={payload:b,access:this.da};if(!(this.oa<=this.Oa)){a=this.W;var c=this.da+1;for(let b in a){let{access:e}=a[b];if(e<c){c=e;var d=b}}void 0!==d&&(delete a[d],this.oa--)}}}var ma;ma={c:!0,v:!0,a:!0,ad:!0};let D,na;let oa=/[?&]amp_js[^&]*/,pa=/[?&]amp_gsa[^&]*/,qa=/[?&]amp_r[^&]*/,ra=/[?&]amp_kit[^&]*/,sa=/[?&]usqp[^&]*/;function E(a){D||(D=self.document.createElement("a"),na=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new la(100)));var b=na,c=D;if(b&&b.has(a))a=b.get(a);else{c.href=a;c.protocol||(c.href=c.href);var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=c.origin&&"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;b&&b.put(a,d);a=d}return a}function ta(a,b){t(null!=a,"%s %s must be available",b,"source");var c=a;"string"==typeof c&&(c=E(c));var d;(d="https:"==c.protocol||"localhost"==c.hostname||"127.0.0.1"==c.hostname)||(c=c.hostname,d=c.length-10,d=0<=d&&c.indexOf(".localhost",d)==d);t(d||/^(\/\/)/.test(a),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,"source",a)}function F(a){"string"==typeof a&&(a=E(a));var b=a;"string"==typeof b&&(b=E(b));if(!fa.cdnProxyRegex.test(b.origin))return a.href;b=a.pathname.split("/");t(ma[b[1]],"Unknown path prefix in url %s",a.href);let c=b[2];var d="s"==c?"https://"+decodeURIComponent(b[3]):"http://"+decodeURIComponent(c);t(0<d.indexOf("."),"Expected a . in origin %s",d);b.splice(1,"s"==c?3:2);b=d+b.join("/");d=(d=a.search)&&"?"!=d?(d=d.replace(oa,"").replace(pa,"").replace(qa,"").replace(ra,"").replace(sa,"").replace(/^[?&]/,""))?"?"+d:"":"";return b+d+(a.hash||"")}function ua(a){let b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(d){}let c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(let b=0;b<c.length;b++)0!=c[b].length&&("-"==c[b][0]?a[c[b].substr(1)]=!1:a[c[b]]=!0);return a}function va(a,b){let c=a.ownerDocument.defaultView;var d=c.__AMP_TOP||(c.__AMP_TOP=c);let e=c!=d;if(d.__AMP__EXPERIMENT_TOGGLES)var f=d.__AMP__EXPERIMENT_TOGGLES;else{d.__AMP__EXPERIMENT_TOGGLES=Object.create(null);f=d.__AMP__EXPERIMENT_TOGGLES;if(d.AMP_CONFIG)for(var g in d.AMP_CONFIG){var h=d.AMP_CONFIG[g];"number"===typeof h&&0<=h&&1>=h&&(f[g]=Math.random()<h)}if(d.AMP_CONFIG&&Array.isArray(d.AMP_CONFIG["allow-doc-opt-in"])&&0<d.AMP_CONFIG["allow-doc-opt-in"].length&&(g=d.AMP_CONFIG["allow-doc-opt-in"],h=d.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){h=h.getAttribute("content").split(",");for(var k=0;k<h.length;k++)-1!=g.indexOf(h[k])&&(f[h[k]]=!0)}Object.assign(f,ua(d));if(d.AMP_CONFIG&&Array.isArray(d.AMP_CONFIG["allow-url-opt-in"])&&0<d.AMP_CONFIG["allow-url-opt-in"].length){g=d.AMP_CONFIG["allow-url-opt-in"];d=d.location.originalHash||d.location.hash;h=Object.create(null);if(d)for(var l;l=ba.exec(d);)k=aa(l[1],l[1]),l=l[2]?aa(l[2].replace(/\+/g," "),l[2]):"",h[k]=l;d=h;for(h=0;h<g.length;h++)k=d[`e-${g[h]}`],"1"==k&&(f[g[h]]=!0),"0"==k&&(f[g[h]]=!1)}}let v=!!f["ampdoc-fie"];e&&!v?b=G(c,b)?H(c,b):null:(a=I(a),a=J(a),b=G(a,b)?H(a,b):null);return b}function K(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return H(a,b)}function L(a,b){var c=I(a);c=J(c);return H(c,b)}function wa(a,b){return xa(J(a),b)}function I(a){return a.nodeType?K((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function J(a){a=I(a);return a.isSingleDoc()?a.win:a}function H(a,b){G(a,b);a=M(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function ya(a,b){let c=xa(a,b);if(c)return c;a=M(a);a[b]=za();return a[b].promise}function xa(a,b){let c=M(a)[b];if(c){if(c.promise)return c.promise;H(a,b);return c.promise=Promise.resolve(c.obj)}return null}function M(a){let b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function Aa(a){a=M(a);for(let b in a){if(!Object.prototype.hasOwnProperty.call(a,b))continue;let c=a[b];c.obj?Ba(b,c.obj):c.promise&&c.promise.then(a=>Ba(b,a))}}function Ba(a,b){if("function"==typeof b.dispose)try{b.dispose()}catch(c){r().error("SERVICE","failed to dispose service",a,c)}}function G(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}function za(){let a=new ka,b=a.promise,c=a.resolve,d=a.reject;b.catch(()=>{});return{obj:null,promise:b,resolve:c,reject:d,context:null,ctor:null}}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
let N;function Ca(a){try{let b=a.ownerDocument,c=b.createElement("div"),d=b.createElement("div");c.appendChild(d);return c.querySelector(":scope div")===d}catch(b){return!1}}function Da(a,b,c){if(b(a))c();else{var d=a.ownerDocument.defaultView;if(d.MutationObserver){let e=new d.MutationObserver(()=>{b(a)&&(e.disconnect(),c())});e.observe(a,{childList:!0})}else{let e=d.setInterval(()=>{b(a)&&(d.clearInterval(e),c())},5)}}}function Ea(a,b){Da(a.documentElement,()=>!!a.body,b)}function Fa(a){return new Promise(b=>Ea(a,b))}function O(a){a.parentElement&&a.parentElement.removeChild(a)}function P(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ga(a,b,c=null){c?a.insertBefore(b,c.nextSibling):Q(a,b)}function Q(a,b){a.insertBefore(b,a.firstChild)}function Ha(a,b){/^[\w-]+$/.test(b);return R(a,`> [${b}]`)}function S(a,b){/^[\w-]+$/.test(b);b=`> ${b}`;return(void 0!==N?N:N=Ca(a))?a.querySelectorAll(b.replace(/^|,/g,"$&:scope ")):Ia(a,b)}function Ia(a,b){a.classList.add("i-amphtml-scoped");let c=b.replace(/^|,/g,"$&.i-amphtml-scoped ");b=a.querySelectorAll(c);a.classList.remove("i-amphtml-scoped");return b}function R(a,b){if(void 0!==N?N:N=Ca(a))return a.querySelector(b.replace(/^|,/g,"$&:scope "));let c=Ia(a,b);return void 0===c[0]?null:c[0]}function Ja(a,b){let c=a.length;for(let d=0;d<c;d++)b(a[d],d)}function Ka(a){return"SCRIPT"==a.tagName&&a.hasAttribute("type")&&"APPLICATION/JSON"==a.getAttribute("type").toUpperCase()}function La(a,b,c){let d=wa(a,b);if(d)return d;let e=I(a);return e.waitForBodyOpen().then(()=>Ma(e.win,c,e.win.document.head)).then(()=>{var d=e.win;return d.__AMP_EXTENDED_ELEMENTS&&d.__AMP_EXTENDED_ELEMENTS[c]?ya(J(a),b):null})}function Na(a){var b=va(a,"bind");if(b)return Promise.resolve(b);b=a.ownerDocument.defaultView;let c=b.__AMP_TOP||(b.__AMP_TOP=b);return b!==c?Oa(b):La(a,"bind","amp-bind")}function Ma(a,b,c){if(c){var d={};c=c.querySelectorAll("script[custom-element],script[custom-template]");for(let a=0;a<c.length;a++){var e=c[a];e=e.getAttribute("custom-element")||e.getAttribute("custom-template");d[e]=!0}d=Object.keys(d)}else d=[];return d.includes(b)?K(a,"extensions").waitForExtension(a,b):C()}function Oa(a){return Fa(a.document).then(()=>Ma(a,"amp-bind",a.document.head)).then(()=>a.__AMP_EXTENDED_ELEMENTS&&a.__AMP_EXTENDED_ELEMENTS["amp-bind"]?ya(a,"bind"):null)}function T(a){return L(a,"viewport")}function Pa(a,b){return{left:0,top:0,width:a,height:b,bottom:0+b,right:0+a,x:0,y:0}}function Qa(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1}class Ra{constructor(a,b,c,d){this.element=b;this.va=d;this.fidelity=c;this.turn=0==c?Math.floor(4*Math.random()):0;this.Y=null;this.l=T(a)}update(a){if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}let b=this.l.getSize(),c=Pa(b.width,b.height);this.l.getClientRectAsync(this.element).then(a=>{var b={positionRect:a,viewportRect:c,relativePos:null},d=this.Y;if(!(d&&Qa(d.positionRect,b.positionRect)&&Qa(d.viewportRect,b.viewportRect))){d=b.positionRect;var g=b.viewportRect;b.relativePos=d.top<g.top?"top":d.bottom>g.bottom?"bottom":"inside";g=b.viewportRect;d.top<=g.bottom&&g.top<=d.bottom&&d.left<=g.right&&g.left<=d.right?(this.Y=b,this.va(b)):this.Y&&(this.Y=null,b.positionRect=null,this.va(b))}})}}function Sa(a,b){function c(c){f=null;e=a.setTimeout(d,200);b.apply(null,c)}function d(){e=0;f&&c(f)}let e=0,f=null;return function(...a){e?f=a:c(a)}}function Ta(a,b){function c(){d=0;let g=500-(a.Date.now()-e);if(0<g)d=a.setTimeout(c,g);else{var h=f;f=null;b.apply(null,h)}}let d=0,e=0,f=null;return function(...b){e=a.Date.now();f=b;d||(d=a.setTimeout(c,500))}}function Ua(a){a.ea=!0;a.ca.push(a.l.onScroll(()=>{a.Na();a.ja=!0;a.la||Va(a)}));a.ca.push(a.l.onResize(()=>{a.updateAllEntries(!0)}))}function Wa(a){for(a.ea=!1;a.ca.length;)a.ca.pop()()}function Va(a){a.updateAllEntries();a.la=!0;a.ja?a.V.measure(()=>{Va(a)}):a.la=!1}class Xa{constructor(a){this.w=a;this.D=a.win;this.C=[];this.V=K(this.D,"vsync");this.l=T(a);this.ca=[];this.ea=this.la=this.ja=!1;this.Na=Ta(this.D,()=>{this.ja=!1})}observe(a,b,c){let d=new Ra(this.w,a,b,c);this.C.push(d);this.ea||Ua(this);d.update();return()=>{for(let a=0;a<this.C.length;a++)if(this.C[a]==d){this.C.splice(a,1);0==this.C.length&&Wa(this);break}}}unobserve(a){for(let b=0;b<this.C.length;b++)if(this.C[b].element==a){this.C.splice(b,1);0==this.C.length&&Wa(this);return}r().error("POSITION_OBSERVER","cannot unobserve unobserved element")}updateAllEntries(a){for(let b=0;b<this.C.length;b++)this.C[b].update(a)}}class Ya{constructor(a,b){this.X=a;this.qa=this.Ha=null;this.callback=b}get top(){return this.Ha}get bottom(){return this.qa}observe(a,b){let c=a.ownerDocument.createElement("div");c.classList.add("i-amphtml-next-page-document-top-sentinel");let d=a.ownerDocument.createElement("div");d.classList.add("i-amphtml-next-page-document-bottom-sentinel");b.insertBefore(c,a);b.insertBefore(d,a.nextSibling);this.X.getPositionObserver().observe(c,0,a=>{this.Ha=a.relativePos;this.X.updateRelativePos(this)});this.X.getPositionObserver().observe(d,0,a=>{this.qa=a.relativePos;this.X.updateRelativePos(this)})}usesSentinel(){return!0}}class Za extends Ya{constructor(a,b,c){super(a,b);this.Ta=c}usesSentinel(){return!1}get nextPageEl(){return this.Ta}}class $a{constructor(a){this.w=a;this.fa=[];this.ka=0;this.aa=-1;this.ya=null;this.l=T(a);this.Ka=0;this.ma=!1;this.G=L(a,"mutator");let b=Sa(a.win,this.Ia.bind(this));this.l.onScroll(b.bind(this));this.l.onResize(b.bind(this));this.Ia()}get mutator(){return this.G}Ia(){this.ma||(this.ma=!0,this.G.measureElement(()=>{this.Ka=this.l.getHeight();let a=this.l.getScrollTop(),b=a-this.ka;if(!(20>Math.abs(b))){var c=0<b?-1:1;this.fa.forEach(a=>{a.usesSentinel()&&this.ya===c||this.updateRelativePos(a)});this.ka=a;this.ya=this.aa;this.aa=c}}).then(()=>{this.ma=!1}))}isScrollingUp(){return 1===this.aa}isScrollingDown(){return-1===this.aa}observe(a,b,c){c=new Ya(this,c);this.fa.push(c);c.observe(a,b)}observeHost(a,b){a=new Za(this,b,a);this.fa.push(a)}getPositionObserver(){var a=Xa,b=I(this.w);{var c=J(b);let d=M(c);let e=d["position-observer"];e||(e=d["position-observer"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});e.ctor||e.obj||(e.ctor=a,e.context=b,e.resolve&&H(c,"position-observer"))}return L(this.w.getHeadNode(),"position-observer")}updateRelativePos(a){let b=a.usesSentinel()?this.getRelativePosFromSentinel(a):this.getRelativePosFromScroll(a);b&&a.callback(b)}getRelativePosFromScroll(a){let b=this.Ka,c=this.ka;({top:a}=a.nextPageEl.getLayoutBox());return c<a-b?5:c<a&&a<=b&&0>=c?1:c<a?this.isScrollingDown()?3:4:2}getRelativePosFromSentinel(a){let b=a.top;a=a.bottom;if(!b&&!a)return null;if("inside"===b&&"inside"===a)return 1;if(!(b&&"top"!==b||a&&"bottom"!==a))return 5;if((!b||"top"===b)&&"top"===a||"bottom"===b&&(!a||"bottom"===a))return 2;let c=("top"===b||"inside"===b)&&(!a||"bottom"===a),d=this.isScrollingUp();return!!c===!!d?3:4}}function ab(a){return a.M.attachDocumentToPage(a,a.sa,a.is(6)).then(b=>{b?(a.m=5,a.B=b,a.is(6)||a.M.setLastFetchedPage(a)):a.m=4})}class bb{constructor(a,b){this.M=a;this.Ua=b.title;this.Ra=this.Ja=b.url;this.Qa=b.image;this.sa=this.ra=this.B=null;this.m=1;this.U="prerender";this.Fa=2}get url(){return this.Ja}set url(a){this.Ja=a}get initialUrl(){return this.Ra}get image(){return this.Qa}get title(){return this.Ua}get relativePos(){return this.Fa}get document(){if(this.B)return this.B.ampdoc.getRootNode()}get container(){return this.ra}get shadowDoc(){return this.B}set relativePos(a){this.Fa=a}is(a){return this.m===a}isLoaded(){return 3===this.m||5===this.m||6===this.m}isVisible(){return this.isLoaded()&&"visible"===this.U}setVisibility(a){this.isLoaded()&&a!=this.U&&(this.is(6)&&"visible"===a&&this.resume(),this.U=a,this.B&&(this.B.setVisibilityState(a),this.B.ampdoc.getBody().classList.toggle("amp-next-page-visible",this.isVisible()),this.B.ampdoc.getBody().classList.toggle("amp-next-page-hidden",!this.isVisible())))}pause(){return this.B?this.B.close().then(()=>this.M.closeDocument(this).then(()=>{this.B=null;this.U="hidden";this.m=6})):C()}resume(){return ab(this)}fetch(){if(5===this.m||2===this.m||3===this.m||4===this.m)return C();this.m=2;return this.M.fetchPageDocument(this).then(a=>{this.m=3;this.sa=a;this.ra=this.M.createDocumentContainerForPage(this);return ab(this)}).catch(()=>{this.m=4})}}class cb extends bb{constructor(a,b,c,d,e){super(a,b);this.m=c;this.U=d;this.Pa=e}get document(){return this.Pa}}function db(a){a.na||(a.na=!0,a.V.mutate(a.Ma))}class eb{constructor(a){this.I=a.document.implementation.createHTMLDocument("");this.I.open();this.V=K(a,"vsync");this.Ma=this.Sa.bind(this);this.P=this.N=this.O=null;this.na=!1;this.S=C();this.H=!1;this.ba=null}onBody(a){this.O=a}onBodyChunk(a){this.N=a}onEnd(a){this.P=a}write(a){if(this.H)throw Error("closed already");a&&this.I.write(a);db(this);return this.S}close(){this.I.close();this.H=!0;db(this);return this.S}abort(){throw Error("Not implemented")}releaseLock(){throw Error("Not implemented")}get closed(){throw Error("Not implemented")}get desiredSize(){throw Error("Not implemented")}get ready(){throw Error("Not implemented")}Sa(){this.na=!1;!this.ba&&this.I.body&&(this.ba=this.O(this.I));if(this.ba){let a=this.I.body,b=this.ba;let c=0;for(fb(a);a.firstChild;)c++,b.appendChild(a.firstChild);0<c&&this.N()}this.H&&this.P()}}class gb{constructor(a){this.ua=[];this.V=K(a,"vsync");this.P=this.N=this.O=null;this.S=C();this.H=!1}onBody(a){this.O=a}onBodyChunk(a){this.N=a}onEnd(a){this.P=a}write(a){if(this.H)throw Error("closed already");a&&this.ua.push(a);return this.S}close(){this.H=!0;this.V.mutate(()=>{var a=this.ua.join(""),b=(new DOMParser).parseFromString(a,"text/html");if(b.body){a=b.body;b=this.O(b);let c=0;for(fb(a);a.firstChild;)c++,b.appendChild(a.firstChild);0<c&&this.N()}this.P()});return this.S}abort(){throw Error("Not implemented")}releaseLock(){throw Error("Not implemented")}get closed(){throw Error("Not implemented")}get desiredSize(){throw Error("Not implemented")}get ready(){throw Error("Not implemented")}}function fb(a){let b=S(a,"noscript");Ja(b,a=>{O(a)})}
/*
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    Use of this source code is governed by a BSD-style
    license that can be found in the LICENSE file or at
    https://developers.google.com/open-source/licenses/bsd */
let jb={strictStyling:!1,scopeRules:function(a,b,c){var d="";a&&Array.prototype.forEach.call(a,(function(a){if(a.selectorText&&a.style&&void 0!==a.style.cssText)d+=this.scopeSelector(a.selectorText,b,this.strictStyling,c)+" {\n\t",d+=this.propertiesFromRule(a)+"\n}\n\n";else if(a.type===CSSRule.MEDIA_RULE)d+="@media "+a.media.mediaText+" {\n",d+=this.scopeRules(a.cssRules,b),d+="\n}\n\n";else try{a.cssText&&(d+=a.cssText+"\n\n")}catch(f){a.type===CSSRule.KEYFRAMES_RULE&&a.cssRules&&(d+=this.ieSafeCssTextFromKeyFrameRule(a))}}),this);return d},ieSafeCssTextFromKeyFrameRule:function(a){var b="@keyframes "+a.name+" {";Array.prototype.forEach.call(a.cssRules,(function(a){b+=" "+a.keyText+" {"+a.style.cssText+"}"}));return b+=" }"},scopeSelector:function(a,b,c,d){var e=[];a.split(",").forEach((function(a){a=a.trim();d&&(a=d(a));this.selectorNeedsScoping(a,b)&&(a=c&&!a.match(hb)?this.applyStrictSelectorScope(a,b):this.applySelectorScope(a,b));e.push(a)}),this);return e.join(", ")},selectorNeedsScoping:function(a,b){if(Array.isArray(b))return!0;var c=this.makeScopeMatcher(b);return!a.match(c)},makeScopeMatcher:function(a){a=a.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return new RegExp("^("+a+")"+ib,"m")},applySelectorScope:function(a,b){return Array.isArray(b)?this.applySelectorScopeList(a,b):this.applySimpleSelectorScope(a,b)},applySelectorScopeList:function(a,b){for(var e,c=[],d=0;e=b[d];d++)c.push(this.applySimpleSelectorScope(a,e));return c.join(", ")},applySimpleSelectorScope:function(a,b){return a.match(U)?(a=a.replace(hb,b),a.replace(U,b+" ")):b+" "+a},applyStrictSelectorScope:function(a,b){b=b.replace(/\[is=([^\]]*)\]/g,"$1");var c=[" ",">","+","~"],d=a,e="["+b+"]";c.forEach((function(a){d=d.split(a).map((function(a){var b=a.trim().replace(U,"");b&&0>c.indexOf(b)&&0>b.indexOf(e)&&(a=b.replace(/([^:]*)(:*)(.*)/,"$1"+e+"$2$3"));return a})).join(a)}));return d},propertiesFromRule:function(a){var b=a.style.cssText;a.style.content&&!a.style.content.match(/['"]+|attr/)&&(b=b.replace(/content:[^;]*;/g,"content: '"+a.style.content+"';"));a=a.style;for(var c in a)"initial"===a[c]&&(b+=c+": initial; ");return b}};var ib="([>\\s~+[.,{:][\\s\\S]*)?$",hb="-shadowcsshost-no-combinator",U=/-shadowcsshost/gim;let V,W;function kb(){void 0===W&&(W="none"!=lb()&&(mb(Element.prototype.attachShadow)||mb(Element.prototype.createShadowRoot)));return W}function mb(a){return!!a&&-1!=a.toString().indexOf("[native code]")}function lb(){if(void 0===V){var a=Element;V=a.prototype.attachShadow?"v1":a.prototype.createShadowRoot?"v0":"none"}return V}function X(a,b,c,d){let e=a.getHeadNode();var f=(a=e.__AMP_CSS_TR)?a(b):b;a:{b=c||!1;a=d||null;let h=e.__AMP_CSS_SM;h||(h=e.__AMP_CSS_SM=Object.create(null));let k=!b&&a&&"amp-custom"!=a&&"amp-keyframes"!=a,l=b?"amp-runtime":k?`amp-extension=${a}`:null;if(l){var g=nb(e,h,l);if(g){g.textContent!==f&&(g.textContent=f);break a}}g=(e.ownerDocument||e).createElement("style");g.textContent=f;f=null;b?g.setAttribute("amp-runtime",""):k?(g.setAttribute("amp-extension",a||""),f=nb(e,h,"amp-runtime")):(a&&g.setAttribute(a,""),f=e.lastChild);Ga(e,g,f);l&&(h[l]=g)}}function nb(a,b,c){return b[c]?b[c]:(a=a.querySelector(`style[${c}]`))?b[c]=a:null}function ob(a,b){a.__AMP_CSS_TR=b}let pb=/[^\.\-_0-9a-zA-Z]/,qb=/[^\-_0-9a-zA-Z]/;let Y;function rb(a){let b=a.ownerDocument.defaultView,c=a.shadowRoot||a.__AMP_SHADOW_ROOT;if(c)return c.innerHTML="",c;let d;let e=lb();"v1"==e?(d=a.attachShadow({mode:"open"}),d.styleSheets||Object.defineProperty(d,"styleSheets",{get:function(){let a=[];Ja(d.childNodes,b=>{"STYLE"===b.tagName&&a.push(b.sheet)});return a}})):d="v0"==e?a.createShadowRoot():sb(a);if(!kb()){let a=`i-amphtml-sd-${b.Math.floor(1e4*b.Math.random())}`;d.id=a;d.host.classList.add(a);ob(d,a=>{{var b=d;var c=b.id;b=b.ownerDocument;let e=null;try{e=tb(b.implementation.createHTMLDocument(""),a)}catch(v){}if(!e)try{e=tb(b,a)}catch(v){}c=e?jb.scopeRules.call(jb,e,`.${c}`,ub):a}return c})}return d}function sb(a){let b=a.ownerDocument;a.classList.add("i-amphtml-shadow-host-polyfill");let c=b.createElement("style");c.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}";a.appendChild(c);let d=b.createElement("i-amphtml-shadow-root");a.appendChild(d);a.__AMP_SHADOW_ROOT=d;Object.defineProperty(a,"shadowRoot",{enumerable:!0,configurable:!0,value:d});d.host=a;d.getElementById=function(a){let b=CSS.escape(a);return d.querySelector(`#${b}`)};Object.defineProperty(d,"styleSheets",{get:()=>b.styleSheets?m(b.styleSheets).filter(a=>d.contains(a.ownerNode)):[]});return d}function vb(a,b,c){let d=a.ownerDocument;let e;if(kb())e=d.importNode(b,c);else{e=d.createElement("amp-body");e.style.display="block";for(let a=0;a<b.attributes.length;a++)e.setAttribute(b.attributes[0].name,b.attributes[0].value);if(c)for(b=b.firstChild;b;b=b.nextSibling)e.appendChild(d.importNode(b,!0))}z(e,"position","relative");let f=a.body;f&&a.removeChild(f);a.appendChild(e);Object.defineProperty(a,"body",{configurable:!0,value:e});return e}function ub(a){return a.replace(/(html|body)/g,wb)}function wb(a,b,c,d){let e=d.charAt(c-1),f=d.charAt(c+a.length);return e&&!pb.test(e)||f&&!qb.test(f)?a:"amp-"+a}function tb(a,b){let c=a.createElement("style");c.textContent=b;try{return(a.head||a.documentElement).appendChild(c),c.sheet?c.sheet.cssRules:null}finally{c.parentNode&&c.parentNode.removeChild(c)}}function xb(a){void 0===Y&&(Y=!a.document.implementation||"function"!=typeof a.document.implementation.createHTMLDocument||K(a,"platform").isFirefox()?!1:!0);return Y?new eb(a):new gb(a)}function yb(a){a.K.forEach(b=>{var c;if(!(c=!b.host)){{c=b.host;let a=c.isConnected;if(void 0!==a)c=a;else{do{if(Node.prototype.getRootNode)c=c.getRootNode()||c;else for(;c.parentNode&&(!c||"I-AMPHTML-SHADOW-ROOT"!=c.tagName&&(11!=c.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(c)));c=c.parentNode);if(c.host)c=c.host;else break}while(1);c=c.nodeType===Node.DOCUMENT_NODE}}c=!c}c&&(zb(a,b),Ab(a,b))})}function Z(a,b){zb(a,b);let c=b.AMP;delete b.AMP;let d=c.ampdoc;d.overrideVisibilityState("inactive");Aa(d);return a.pa.timeoutPromise(15,new a.win.Promise(a=>{wa(d,"resources").then(b=>{if(b)b.onNextPass(a);else a()})}),"Timeout reached waiting for visibility state change callback").catch(()=>{})}function Bb(a,b,c){yb(a);a.K.forEach(d=>{if(d!=c){var e=L(d.AMP.ampdoc,"viewer");a.pa.delay(()=>{e.receiveMessage("broadcast",b,!1)},0)}})}function Cb(a,b,c,d,e){d=d||Object.create(null);yb(a);z(b,"visibility","hidden");let f=rb(b);f.AMP&&Z(a,f);let g={};f.AMP=g;g.url=c;let{origin:h}=E(c),k=a.La.installShadowDoc(c,f,{params:d});g.ampdoc=k;X(k,AMP.combinedCss,!0);AMP.installAmpdocServices(k);let l=L(k,"viewer");g.setVisibilityState=function(a){k.overrideVisibilityState(a)};g.postMessage=l.receiveMessage.bind(l);let v;g.onMessage=function(a){v=a};l.setMessageDeliverer((b,c,d)=>{if("broadcast"==b)return Bb(a,c,f),d?C():void 0;if(v)return v(b,c,d)},h);g.close=()=>Z(a,f);g.getState=a=>Na(f).then(b=>b?b.getState(a):Promise.reject("amp-bind is not available in this document"));g.setState=a=>Na(f).then(b=>b?"string"===typeof a?b.setStateWithExpression(a,{}):"[object Object]"===ca.call(a)||Array.isArray(a)?b.setStateWithObject(a):Promise.reject("Invalid state"):Promise.reject("amp-bind is not available in this document"));e(g,f,k).then(()=>{k.setReady();k.signals().signal("render-start");z(b,"visibility","visible")});a.K.includes(f)||a.K.push(f);return g}function Db(a,b,c,d){let e=[];if(d.head){c.AMP.head=d.head;let h={},k=S(a.win.document.head,"link");for(var f=0;f<k.length;f++){let a=k[f].getAttribute("href");a&&(h[a]=!0)}for(d=d.head.firstElementChild;d;d=d.nextElementSibling){f=d.tagName;var g=d.getAttribute("name");let k=d.getAttribute("rel");switch(f){case"TITLE":c.AMP.title=d.textContent;break;case"META":d.hasAttribute("charset")||"viewport"!=g&&g&&b.setMetaByName(g,d.getAttribute("content")||"");break;case"LINK":f=d.getAttribute("href");"canonical"==k?c.AMP.canonicalUrl=f:"stylesheet"==k&&(h[f]?X(b,`@import "${f}"`,!1):(h[f]=!0,g=a.win.document.createElement("link"),g.setAttribute("rel","stylesheet"),g.setAttribute("type","text/css"),g.setAttribute("href",f),a.win.document.head.appendChild(g)));break;case"STYLE":d.hasAttribute("amp-boilerplate")||(d.hasAttribute("amp-custom")?X(b,d.textContent,!1,"amp-custom"):d.hasAttribute("amp-keyframes")&&X(b,d.textContent,!1,"amp-keyframes"));break;case"SCRIPT":if(d.hasAttribute("src")){f=d.getAttribute("src");g=f.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i);let c=g={extensionId:g?g[2]:void 0,extensionVersion:g?g[3]:void 0},h=!c.extensionId,k=d.getAttribute("custom-element"),l=d.getAttribute("custom-template");h||(k||l?(a.ga.installExtensionForDoc(b,k||l,c.extensionVersion),k&&e.push(k)):d.hasAttribute("data-amp-report-test")||q().error("multidoc-manager","- unknown script: ",d,f))}else-1==(d.getAttribute("type")||"application/javascript").indexOf("javascript")?c.appendChild(a.win.document.importNode(d,!0)):q().error("multidoc-manager","- unallowed inline javascript: ",d);break;case"NOSCRIPT":break;default:q().error("multidoc-manager","- UNKNOWN head element:",d)}}}return e}function zb(a,b){b=a.K.indexOf(b);-1!=b&&a.K.splice(b,1)}function Ab(a,b){a.pa.delay(()=>{Z(a,b)},0)}class Eb{constructor(a,b,c,d){this.win=a;this.La=b;this.ga=c;this.pa=d;this.K=[]}attachShadowDoc(a,b,c,d){q().assertString(c);return Cb(this,a,c,d,(c,d,g)=>{let e=Db(this,g,d,b);this.ga.installExtensionsInDoc(g,e);b.body&&(c=vb(d,b.body,!0),c.classList.add("amp-shadow"),g.setBody(c));setTimeout(()=>{g.signals().signal("render-start");z(a,"visibility","visible")},50);return C()})}attachShadowDocAsStream(a,b,c){q().assertString(b);return Cb(this,a,b,c,(b,c,f)=>{let d=!1;let e=xb(this.win);b.writer=e;e.onBody(a=>{let b=Db(this,f,c,a);this.ga.installExtensionsInDoc(f,b);a=vb(c,a.body,!1);a.classList.add("amp-shadow");f.setBody(a);return a});e.onBodyChunk(()=>{d||(d=!0,setTimeout(()=>{f.signals().signal("render-start");z(a,"visibility","visible")},50))});return new Promise(a=>{e.onEnd(()=>{a();b.writer=null})})})}}function Fb(a,b){try{return JSON.parse(a)}catch(c){return b&&b(c),null}}function Gb(a,b,{expr:c=".",urlReplacement:d=0,refresh:e=!1,xssiPrefix:f}={}){ta(b.getAttribute("src"),b);let g=K(a.win,"batched-xhr");return Hb(b,d,e).then(a=>g.fetchJson(a.xhrUrl,a.fetchOpt)).then(b=>K(a.win,"xhr").xssiJson(b,f)).then(a=>{if(null==a)throw Error("Response is undefined.");var b=c||".";if("."==b)b=a;else{b=b.split(".");for(let c=0;c<b.length;c++){let d=b[c];if(d&&a&&void 0!==a[d]&&(null==a||"object"!=typeof a?0:Object.prototype.hasOwnProperty.call(a,d)))a=a[d];else{a=void 0;break}}b=a}return b}).catch(a=>{throw q().createError("failed fetching JSON data",a)})}function Hb(a,b,c){let d=a.getAttribute("src"),e=va(a,"url-replace");return(1<=b?e.expandUrlAsync(d):Promise.resolve(d)).then(d=>{if(1==b){let b=e.collectDisallowedVarsSync(a);if(0<b.length)throw q().createError(`URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. Please add data-amp-replace="${b.join(" ")}" to the <${a.tagName}> element. See https://bit.ly/amp-var-subs.`)}let f={};a.hasAttribute("credentials")&&(f.credentials=a.getAttribute("credentials"));c&&(f.cache="reload");return{xhrUrl:d,fetchOpt:f}})}function Ib(a,b){for(let c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1}function Jb(a){let b=a.querySelector('script[type="application/ld+json"]');if(b){var c=Fb(b.textContent);if(c&&c.image){if("string"===typeof c.image)return c.image;if(c.image["@list"]&&"string"===typeof c.image["@list"][0])return c.image["@list"][0];if("string"===typeof c.image.url)return c.image.url;if("string"===typeof c.image[0])return c.image[0]}}}function Kb(a,b,c={}){La(a,"amp-analytics-instrumentation","amp-analytics").then(d=>{d&&d.triggerEventForTarget(a,b,c,!1)})}function Lb(a,b){a=E(a);let{origin:c}=E(b),d=E(F(b)).origin;t(a.origin===c||a.origin===d,"Invalid page URL supplied to amp-next-page, pages must be from the same origin as the current document");return a}function Mb(a,b){q().assertString(a.url,"page url must be a string");var c=F(b);let{origin:d}=E(b);var e=a.url;"string"==typeof c&&(c=E(c));if("function"==typeof URL)e=new URL(e,c.href).toString();else{"string"==typeof c&&(c=E(c));e=e.replace(/\\/g,"/");let a=E(e);e=x(e.toLowerCase(),a.protocol)?a.href:x(e,"//")?c.protocol+e:x(e,"/")?c.origin+e:c.origin+c.pathname.replace(/\/[^/]*$/,"/")+e}a.url=e;e=Lb(a.url,b);q().assertString(a.image,"page image must be a string");q().assertString(a.title,"page title must be a string");b=E(F(b)).origin;b!==d&&e.origin===b&&(a.url=`${d}/c/`+("https:"===e.protocol?"s/":"")+encodeURIComponent(e.host)+e.pathname+(e.search||"")+(e.hash||""))}let Nb=['<div class=amp-next-page-separator aria-label="Next article separator" tabindex=0></div>'],Ob=['<div class=amp-next-page-links aria-label="Read more articles"></div>'],Pb=["<a class=amp-next-page-link><img ref=image class=amp-next-page-image> <span ref=title class=amp-next-page-text></span></a>"],Qb=()=>C();function Rb(a,b){let c=Ha(b,"separator");return c?(O(c),c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),c):w(a.j)(Nb)}function Sb(a,b){let c=Ha(b,"recommendation-box");if(c)return a.J=a.L.hasTemplate(c)?()=>Tb(a):Qb,c;a.J=()=>Ub(a);return w(a.j)(Ob)}function Vb(a){return new Promise(b=>{if(0!=a.l.getScrollTop())return b();let c=a.l.onScroll(()=>{b();c()})})}function Wb(a){let b=Xb(a.j);if(b.length)return Yb(a,b);t(a.F,"%s should contain a <script> child or a URL specified in [src]","amp-next-page");return Zb(a).then(b=>0===b.length?C():Yb(a,b))}function $b(a){return Math.round((a.l.getScrollHeight()-a.l.getScrollTop()-a.l.getHeight())/a.l.getHeight())}function Zb(a){if(!a.F)return Promise.resolve([]);if(a.Z)return a.Z;a.Z=Gb(a.w,a.j,{urlReplacement:2,xssiPrefix:a.j.getAttribute("xssi-prefix")||void 0}).then(b=>{a.F=b.next||null;a.F&&a.j.setAttribute("src",a.F);return b.pages||[]}).catch(b=>{q().error("amp-next-page","error fetching page list from remote server",b);a.F=null;return[]});return a.Z}function ac(a,b){if(!b.length||a.ha)return C();b.forEach(b=>{try{Mb(b,a.w.getUrl()),a.h.some(a=>a.initialUrl==b.url)||a.h.push(new bb(a,b))}catch(d){q().error("amp-next-page","Failed to queue page due to error:",d)}});return C()}function bc(a,b){a.T.isScrollingDown()&&a.A.isVisible()&&a.A.setVisibility("hidden");let c=a.T.isScrollingDown()?a.h.slice(1,b).reverse():a.h.slice(b+1);Promise.all(c.filter(a=>2===a.relativePos).map((a,b)=>{a.isVisible()&&a.setVisibility("hidden");if(5<=b)return a.pause()}))}function cc(a,b){let c=a.h.slice(1).slice(Math.max(0,b-5-1),Math.min(a.h.length,b+5+1)).filter(a=>a.is(6));Promise.all(c.map(a=>a.resume()))}function dc(a,b,c){return a.L.hasTemplate(b)?a.L.findAndRenderTemplate(b,{title:c.title,url:c.url,image:c.image}).then(c=>a.G.mutateElement(b,()=>{P(b);b.appendChild(c)})):C()}function Xb(a){let b=S(a,"SCRIPT");if(!b.length)return[];t(1===b.length,"amp-next-page should contain at most one <script> child");let c=b[0];t(Ka(c),'amp-next-page page list should be inside a <script> tag with type="application/json"');a=Fb(c.textContent,a=>{q().error("amp-next-page","failed to parse inline page list",a)});a=q().assertArray(a,`amp-next-page Page list expected an array, found: ${typeof a}`);O(c);return a}function Yb(a,b){return ac(a,b).then(()=>a.maybeFetchNext())}function Tb(a){let b=a.R;a.L.hasTemplate(b);let c=a.L.maybeFindTemplate(b),d={pages:(a.h||[]).filter(a=>!a.isLoaded()&&!a.is(2)).map(a=>({title:a.title,url:a.url,image:a.image}))};return a.L.findAndRenderTemplate(b,d).then(d=>a.G.mutateElement(b,()=>{P(b);b.appendChild(c);b.appendChild(d)}))}function Ub(a){let b=a.R,c={pages:(a.h||[]).filter(a=>!a.isLoaded()&&!a.is(2)).map(a=>({title:a.title,url:a.url,image:a.image}))},d=w(a.j),e=c.pages.map(b=>{let c=d(Pb),{image:e,title:f}=ia(c);e.src=b.image;f.textContent=b.title;c.href=b.url;c.addEventListener("click",c=>{Kb(a.j,"amp-next-page-click",{title:b.title,url:b.url});a.Ba.navigateToAmpUrl(b.url,"content-discovery")&&c.preventDefault()});return c});return a.G.mutateElement(b,()=>{P(b);e.forEach(a=>b.appendChild(a))})}class ec{constructor(a){this.w=a;this.D=a.win;this.o=this.D.document;this.l=T(a);this.G=L(a,"mutator");this.L=K(this.D,"templates");this.R=this.Ga=null;this.J=Qb;this.ha=!1;this.ta=this.A=this.xa=this.Ba=this.ia=this.Aa=this.T=this.j=this.Z=null;this.$={};this.wa=!1;this.za=1/0;this.Ea=this.F=null;this.Da=new Promise(a=>{this.Ea=a})}isBuilt(){return!!this.h}build(a){if(this.isBuilt())return C();this.w.getBody();this.j=a;this.F=this.j.getAttribute("src");this.wa=this.j.hasAttribute("deep-parsing")?"false"!==this.j.getAttribute("deep-parsing"):!this.F;this.za=this.j.hasAttribute("max-pages")?parseInt(this.j.getAttribute("max-pages"),10):1/0;this.Ga=Rb(this,a);this.R=Sb(this,a);this.A=this.createHostPage();this.toggleHiddenAndReplaceableElements(this.o);Q(this.j,this.R);this.ia=L(this.w,"history");this.initializeHistory();this.Ba=L(this.w,"navigation");this.Aa=new Eb(this.D,K(this.D,"ampdoc"),K(this.D,"extensions"),K(this.D,"timer"));this.T=new $a(this.w);this.Da.then(()=>{this.T.observeHost(this.j,a=>{this.A.relativePos=a;this.updateVisibility()})});this.h||(this.h=[this.A],this.setLastFetchedPage(this.A));let b=()=>{this.J();this.Ea()};Vb(this).then(()=>Wb(this)).then(b,b);this.j.classList.add("i-amphtml-next-page");return this.Da}maybeFetchNext(a=!1){let b=this.h.filter(a=>!a.is(1)).length>this.za,c=this.h.some(a=>a.is(2)),d=3<$b(this)&&!a;if(this.ha||c||d||b)return C();let e=this.h.length,f=this.h[this.h.indexOf(this.xa)+1];return f?f.fetch().then(()=>{f.is(4)&&this.setLastFetchedPage(f)}).then(()=>this.J(),a=>this.J().then(()=>{throw a})):Zb(this).then(a=>ac(this,a)).then(()=>this.h.length<=e?(this.ha=!0,this.J()):this.maybeFetchNext(!0))}updateVisibility(){this.h.forEach((a,b)=>{2===a.relativePos?a.isVisible()&&a.setVisibility("hidden"):3!==a.relativePos&&(a.isVisible()||a.setVisibility("visible"),bc(this,b),cc(this,b))});this.h.some(a=>a.isVisible())||this.A.setVisibility("visible");this.h.filter(a=>a.isVisible()).forEach(a=>this.toggleHiddenAndReplaceableElements(a.document));let a=Ib(this.h,a=>a.isVisible()),b=this.h[a]||null;b&&this.ta!==b&&this.setTitlePage(b);this.maybeFetchNext()}setLastFetchedPage(a){this.xa=a}setTitlePage(a=this.A){if(a){var b=a.title,c=a.url;this.o.title=b;this.ia.replace({title:b,url:c});this.ta=a;Kb(this.j,"amp-next-page-scroll",{title:b,url:c})}}initializeHistory(){this.ia.push(void 0,{title:this.A.title,url:this.A.url})}createHostPage(){let a=this.o.title,b=this.o.location.href;var c;(c=Jb(this.o))||(c=(c=this.o.querySelector('meta[property="og:image"]'))?c.getAttribute("content"):void 0);c||(c=this.o,c=(c=c.querySelector('link[rel="shortcut icon"]')||c.querySelector('link[rel="icon"]'))?c.getAttribute("href"):void 0);return new cb(this,{url:b,title:a||"",image:c||""},5,"visible",this.o)}createDocumentContainerForPage(a){let b=this.o.createElement("div");b.classList.add("i-amphtml-next-page-document-container");this.j.insertBefore(b,this.R);let c=this.o.createElement("div");c.classList.add("i-amphtml-next-page-shadow-root");b.appendChild(c);this.T.observe(c,b,b=>{a.relativePos=b;this.updateVisibility()});return b}attachDocumentToPage(a,b,c=!1){if(1>$b(this)&&!c)return Promise.resolve(null);c=a.container;let d=R(c,`> .${CSS.escape("i-amphtml-next-page-shadow-root")}`);if(!d){a.is(6);let b=R(c,`> .${CSS.escape("i-amphtml-next-page-placeholder")}`);d=this.o.createElement("div");d.classList.add("i-amphtml-next-page-shadow-root");c.replaceChild(d,b)}this.sanitizeDoc(b);try{let e=this.Aa.attachShadowDoc(d,b,"",{visibilityState:"prerender"}),f=e.ampdoc;X(f,'.i-amphtml-next-page-document{overflow:hidden}.i-amphtml-next-page-document:not(.amp-next-page-visible) [i-amphtml-fixedid]{display:none}.i-amphtml-next-page-document.amp-next-page-visible{opacity:1;overflow:visible}.i-amphtml-next-page-document:after,.i-amphtml-next-page-document:before{content:" ";display:table}.i-amphtml-next-page-placeholder{background:#eee}.amp-next-page-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.1);margin-top:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.1);display:block;overflow:auto;padding:10px 0;text-decoration:none}.amp-next-page-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.amp-next-page-text{position:relative;margin:5px 30px 5px 0;color:#3c4043;font-size:17px}\n/*# sourceURL=/extensions/amp-next-page/1.0/amp-next-page.css*/',!1,"amp-next-page");f.getBody().classList.add("i-amphtml-next-page-document");let g=this.Ga.cloneNode(!0);Q(c,g);return dc(this,g,a).then(()=>e)}catch(e){return r().error("amp-next-page","failed to attach shadow document for page",e),Promise.resolve(null)}}closeDocument(a){if(a.is(6))return C();let b=a.container,c=R(b,`> .${CSS.escape("i-amphtml-next-page-shadow-root")}`),d=this.o.createElement("div");d.classList.add("i-amphtml-next-page-placeholder");let e=0,f=0;return this.G.measureMutateElement(c,()=>{e=c.offsetHeight;f=c.offsetWidth},()=>{var a={height:`${e}px`,width:`${f}px`};for(let b in a)z(d,b,a[b]);b.replaceChild(d,c)})}sanitizeDoc(a){m(a.querySelectorAll("amp-next-page")).forEach(a=>{if(this.wa){let b=Xb(a);Yb(this,b)}O(a)});a.body.classList.add("amp-next-page-hidden");this.toggleHiddenAndReplaceableElements(a,!1)}toggleHiddenAndReplaceableElements(a,b=!0){a!==this.A.document&&m(a.querySelectorAll("[next-page-hide]")).forEach(a=>A(a,!1));b&&m(a.querySelectorAll("*:not(amp-next-page) [next-page-replace]")).forEach(a=>{let b=a.getAttribute("next-page-replace");b||(b=String(Date.now()+Math.floor(100*Math.random())),a.setAttribute("next-page-replace",b));this.$[b]&&this.$[b]!==a&&A(this.$[b],!1);this.$[b]=a;A(a,!0)})}fetchPageDocument(a){return K(this.D,"xhr").fetch(a.url,{ampCors:!1}).then(b=>{Lb(b.url,this.w.getUrl());a.url=b.url;return b.text()}).then(a=>{let b=this.o.implementation.createHTMLDocument("");b.open();b.write(a);b.close();return b}).catch(b=>{q().error("amp-next-page","failed to fetch %s",a.url,b);throw b})}}class fc extends AMP.BaseElement{constructor(a){super(a);this.Ca=null}isLayoutSupported(a){return"container"===a}buildCallback(){this.Ca=L(this.element,"next-page");return this.Ca.build(this.element)}}(a=>{a.registerServiceForDoc("next-page",ec);a.registerElement("amp-next-page",fc,'.i-amphtml-next-page-document{overflow:hidden}.i-amphtml-next-page-document:not(.amp-next-page-visible) [i-amphtml-fixedid]{display:none}.i-amphtml-next-page-document.amp-next-page-visible{opacity:1;overflow:visible}.i-amphtml-next-page-document:after,.i-amphtml-next-page-document:before{content:" ";display:table}.i-amphtml-next-page-placeholder{background:#eee}.amp-next-page-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.1);margin-top:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.1);display:block;overflow:auto;padding:10px 0;text-decoration:none}.amp-next-page-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.amp-next-page-text{position:relative;margin:5px 30px 5px 0;color:#3c4043;font-size:17px}\n/*# sourceURL=/extensions/amp-next-page/1.0/amp-next-page.css*/')})(self.AMP)}});