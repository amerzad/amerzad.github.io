{"version":3,"mappings":"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","names":["resolved","tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","toArray","arrayLike","Array","env","self","cdnProxyRegex","RegExp","getMetaUrl","name","metaEl","user","dev","userForEmbed","logs","userAssert","shouldBeTrueish","opt_message","Error","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","dict","opt_initial","c","v","a","ad","getExperimentToggles","win","experimentsString","LOCAL_STORAGE_KEY","tokens","toggles","Object","i","getService","id","getServiceInternal","getAmpdoc","nodeOrDoc","defaultView","getAmpdocService","holder","isServiceRegistered","services","s","getServices","service","scopeSelectorSupported","closest","element","callback","opt_stopAt","el","closestAncestorElementBySelector","selector","matcher","matches","scopedQuerySelector","root","undefined","doc","testElement","testChild","unique","scopedSelector","elements","scopedQuerySelectionFallback","tryFocus","registerSubmenuElements_","querySelectorAll","submenuBtns","submenuBtn","action_","hasAction","shouldHandleClick_","target","hasAnchor","hasTapAction","handleSubmenuOpenClick_","openElement","submenu","open_","parentMenu","getParentMenu_","currentSubmenu_","Services","submenuOpen","submenuClose","submenuCloseCandidates","candidate","ANIMATION_TIMEOUT","close_","handleMenuItemNavigation_","item","UP_ARROW","nextItem","DOWN_ARROW","HOME","END","focusElement","AmpNestedMenu","AMP","constructor","super","this","document_","document","side_","clickHandler_","handleClick_","bind","keydownHandler_","handleKeyDown_","buildCallback","topWin","isEmbed","experimentId","frequency","Math","allowed","meta","optedInExperiments","params","queryString","match","value","d","param","parseQueryString_","ampdocFieExperimentOn","experimentToggles","b","z","x","ampdoc","getServiceForDocOrNullInternal","getAmpdocServiceHolder","LEFT","RIGHT","registerAction","reset","layoutCallback","Promise","isLayoutSupported","layout","FILL","prerenderAllowed","handleSubmenuCloseClick_","hasAttribute","ENTER","SPACE","LEFT_ARROW","RIGHT_ARROW","back","handleMenuNavigation_","TAG","CSS"],"sources":["src/resolved-promise.js","src/url-try-decode-uri-component.js","src/url-parse-query-string.js","src/types.js","src/config.js","src/log.js","src/utils/object.js","src/url.js","src/experiments.js","src/service.js","src/css.js","src/dom.js","extensions/amp-nested-menu/0.1/amp-nested-menu.js","src/services.js","src/utils/key-codes.js","src/ampdoc-fie.js","src/layout.js","build/amp-nested-menu-0.1.css.js"],"file":"amp-nested-menu-0.1.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}