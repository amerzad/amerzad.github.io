{"version":3,"mappings":"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","names":["Deferred","constructor","resolve","reject","this","promise","Promise","res","rej","tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","parseQueryString_","queryString","params","Object","match","name","value","rtvVersion","getMode","win","self","hashQuery","searchQuery","m","b","localDev","IS_DEV","development","indexOf","examiner","esm","geoOverride","minified","IS_MINIFIED","lite","undefined","test","log","version","env","cdnProxyRegex","RegExp","getMetaUrl","metaEl","urls","thirdParty","thirdPartyFrameHost","thirdPartyFrameRegex","cdn","localhostRegex","errorReporting","betaErrorReporting","trustedViewerHosts","geoApi","user","dev","userForEmbed","logs","Error","dict","opt_initial","c","v","a","ad","registerServiceBuilderForDoc","nodeOrDoc","id","ampdoc","getAmpdoc","holder","getAmpdocServiceHolder","services","getServices","s","obj","context","ctor","getServiceInternal","rejectServicePromiseForDoc","error","emptyServiceHolderWithPromise","getAmpdocService","deferred","installVisibilityServiceForDoc","elementOrAmpDoc","impl","VISIBILITY","rejectVisibilityServiceForDoc","installFullscreenServiceForDoc","FULLSCREEN","rejectFullscreenServiceForDoc","installExitServiceForDoc","EXIT","rejectExitServiceForDoc","MraidService","mraid","mraid_","expanded_","onVisibilityChange","callback","addEventListener","exposedPercentage","visibleRectangle","visibleRect","left","top","width","height","bottom","right","x","y","visibleRatio","enterFullscreenOverlay","expand","exitFullscreenOverlay","close","openUrl","url","open","handleMismatch_","HostServices","ampdoc_","fallback_","mraidLoadSuccess_","window","mraidReady_","mraidService","registeredWithHostServices_","MraidInitializer","ampMraidScripts","getHeadNode","querySelectorAll","TAG","element","NO_FALLBACK","mraidJs","document","head","AMP"],"sources":["src/utils/promise.js","src/url-try-decode-uri-component.js","src/url-parse-query-string.js","src/mode.js","src/config.js","src/log.js","src/utils/object.js","src/url.js","src/service.js","src/inabox/host-services.js","extensions/amp-mraid/0.1/amp-mraid.js","extensions/amp-mraid/0.1/mraid-service.js","src/layout-rect.js"],"file":"amp-mraid-0.1.mjs","sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2008290323002/"}