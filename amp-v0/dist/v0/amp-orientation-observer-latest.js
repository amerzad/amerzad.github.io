(self.AMP=self.AMP||[]).push({n:"amp-orientation-observer",v:"2008290323002",f:(function(AMP,_){
'use strict';var k="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function m(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var e=b[c];if(e&&e.Math==Math)return}(function(){throw Error("Cannot find global object");})()}m(this);"function"===typeof Symbol&&Symbol("x");var n;
if("function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var p;a:{var q={a:!0},r={};try{r.__proto__=q;p=r.a;break a}catch(a){}p=!1}n=p?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var t=n;function u(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var v=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;var w=self.AMP_CONFIG||{},x=("string"==typeof w.cdnProxyRegex?new RegExp(w.cdnProxyRegex):w.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function y(a){if(self.document&&self.document.head&&(!self.location||!x.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}w.cdnUrl||y("runtime-host");w.geoApiUrl||y("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var z=self.__AMP_LOG;function A(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(f){if(z.dev)a=z.dev;else throw Error("failed to call initLogConstructor");a.warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var e=0;e<c.length;e++)0!=c[e].length&&("-"==c[e][0]?a[c[e].substr(1)]=!1:a[c[e]]=!0);return a};function B(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;b=b.__AMP_TOP||(b.__AMP_TOP=b);a=C(b,"ampdoc").getAmpDoc(a)}return a}function C(a,b){D(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function D(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function E(a){return a.reduce(function(a,c){return a+c})};var F=["alpha","beta","gamma"],G={alpha:180,beta:0,gamma:0},H={alpha:[0,360],beta:[-180,180],gamma:[-90,90]};function I(a){a=AMP.BaseElement.call(this,a)||this;a.w=B(a.element);a.o=null;a.l=Object.assign({},H);a.j=Object.assign({},G);a.m=Object.assign({},G);a.c={beta:[],alpha:[],gamma:[]};a.h=null;return a}var J=AMP.BaseElement;I.prototype=k(J.prototype);I.prototype.constructor=I;
if(t)t(I,J);else for(var K in J)if("prototype"!=K)if(Object.defineProperties){var L=Object.getOwnPropertyDescriptor(J,K);L&&Object.defineProperty(I,K,L)}else I[K]=J[K];I.B=J.prototype;
I.prototype.buildCallback=function(){var a=this.element,b=a.ownerDocument.defaultView,c=b.__AMP_TOP||(b.__AMP_TOP=b),e=b!=c;if(c.__AMP__EXPERIMENT_TOGGLES)var f=c.__AMP__EXPERIMENT_TOGGLES;else{c.__AMP__EXPERIMENT_TOGGLES=Object.create(null);f=c.__AMP__EXPERIMENT_TOGGLES;if(c.AMP_CONFIG)for(var g in c.AMP_CONFIG){var d=c.AMP_CONFIG[g];"number"===typeof d&&0<=d&&1>=d&&(f[g]=Math.random()<d)}if(c.AMP_CONFIG&&Array.isArray(c.AMP_CONFIG["allow-doc-opt-in"])&&0<c.AMP_CONFIG["allow-doc-opt-in"].length&&
(g=c.AMP_CONFIG["allow-doc-opt-in"],d=c.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){d=d.getAttribute("content").split(",");for(var h=0;h<d.length;h++)-1!=g.indexOf(d[h])&&(f[d[h]]=!0)}Object.assign(f,A(c));if(c.AMP_CONFIG&&Array.isArray(c.AMP_CONFIG["allow-url-opt-in"])&&0<c.AMP_CONFIG["allow-url-opt-in"].length){g=c.AMP_CONFIG["allow-url-opt-in"];d=c.location.originalHash||c.location.hash;c=Object.create(null);if(d)for(var l;l=v.exec(d);)h=u(l[1],l[1]),l=l[2]?u(l[2].replace(/\+/g,
" "),l[2]):"",c[h]=l;for(d=0;d<g.length;d++)h=c["e-"+g[d]],"1"==h&&(f[g[d]]=!0),"0"==h&&(f[g[d]]=!1)}}f=!!f["ampdoc-fie"];e&&!f?a=D(b,"action")?C(b,"action"):null:(a=B(a),a=B(a),a=a.isSingleDoc()?a.win:a,a=D(a,"action")?C(a,"action"):null);this.o=a;this.w.whenFirstVisible().then(this.A.bind(this))};
I.prototype.A=function(){var a=this;if(!z.user)throw Error("failed to call initLogConstructor");z.user.assert(this.win.DeviceOrientationEvent,"The current browser doesn't support the `window.DeviceOrientationEvent`",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);F.forEach(function(b){var c=a.l;var e=a.l[b];var f=a.element.getAttribute(b+"-range");f&&(e=f.trim().split(" "),e=[parseInt(e[0],10),parseInt(e[1],10)]);c[b]=e});this.h=this.element.hasAttribute("smoothing")?Number(this.element.getAttribute("smoothing"))||
4:null;this.win.addEventListener("deviceorientation",function(b){M(a,b)},!0)};
function M(a,b){if(b instanceof DeviceOrientationEvent){var c=a.win.screen,e=b.alpha,f=b.gamma,g=b.beta;b="orientation"in c?c.orientation.angle:c.orientation;if(90==a.win.orientation||-90==a.win.orientation){var d=f;f=g;g=d}0>b&&(f=-f,g=-g);var h={alpha:e,beta:g,gamma:f};F.forEach(function(b){if(.1<Math.abs(h[b]-a.j[b])){var c=a.j;if(a.h){var d=h[b];a.c[b].length>a.h&&a.c[b].shift();a.c[b].push(d);d=E(a.c[b])/a.h;a.c[b].length>a.h&&a.m[b]==G[b]&&(a.m[b]=d);d-=a.m[b]}else d=h[b];c[b]=d;d=a.j[b];var e=
a.l[b],f=0>e[0]?d.toFixed()-e[0]:d.toFixed();c=a.win;d={angle:Math.min(Math.max(d,e[0]),e[1]).toFixed(),percent:f/(e[1]-e[0])};e="amp-orientation-observer."+b;f={detail:d};Object.assign(f,void 0);"function"==typeof c.CustomEvent?c=new c.CustomEvent(e,f):(c=c.document.createEvent("CustomEvent"),c.initCustomEvent(e,!!f.bubbles,!!f.cancelable,d));a.o.trigger(a.element,b,c,1)}})}}(function(a){a.registerElement("amp-orientation-observer",I)})(self.AMP);
})});

//# sourceMappingURL=amp-orientation-observer-0.1.js.map
