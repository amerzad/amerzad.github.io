(self.AMP=self.AMP||[]).push({n:"amp-fx-collection",v:"2008290323002",f:(function(AMP,_){
'use strict';function aa(a){var b=!1,c=null,d=a;return function(a){for(var e=[],f=0;f<arguments.length;++f)e[f-0]=arguments[f];b||(c=d.apply(self,e),b=!0,d=null);return c}};var l=self.AMP_CONFIG||{},ba=("string"==typeof l.cdnProxyRegex?new RegExp(l.cdnProxyRegex):l.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function m(a){if(self.document&&self.document.head&&(!self.location||!ba.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}l.cdnUrl||m("runtime-host");l.geoApiUrl||m("amp-geo-api");function ca(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];if(e instanceof Error&&!b){b=void 0;var g=Object.getOwnPropertyDescriptor(e,"message");if(g&&g.writable)b=e;else{g=e.stack;var f=Error(e.message);for(b in e)f[b]=e[b];f.stack=g;b=f}}else c&&(c+=" "),c+=e}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function da(a){var b=ca.apply(null,arguments);setTimeout(function(){self.__AMP_REPORT_ERROR(b);throw b;})}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};
var n=self.__AMP_LOG;function p(){if(!n.user)throw Error("failed to call initLogConstructor");return n.user}function q(){if(n.dev)return n.dev;throw Error("failed to call initLogConstructor");}function r(a,b,c){return p().assert(a,b,c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};var t="fade-in fade-in-scroll float-in-bottom float-in-top fly-in-bottom fly-in-left fly-in-right fly-in-top parallax".split(" "),u=t[0],v=t[1],ea=t[2],fa=t[3],w=t[4],x=t[5],y=t[6],z=t[7],A=t[8],B={},C=(B[u]={observes:0,opacity:!0},B[v]={observes:0,opacity:!0},B[ea]={observes:1,translates:{y:!0}},B[fa]={observes:1,translates:{y:!0}},B[w]={observes:0,translates:{y:!0}},B[x]={observes:0,translates:{x:!0}},B[y]={observes:0,translates:{x:!0}},B[z]={observes:0,translates:{y:!0}},B[A]={observes:0,translates:{y:!0}},
B);function ha(a){return r(-1<t.indexOf(a),"Invalid amp-fx type `%s`",a)}
function ia(a){a.hasAttribute("amp-fx");var b=a.getAttribute("amp-fx").trim().toLowerCase().split(/\s+/);r(b.length,"No value provided for `amp-fx` attribute");a=b.filter(ha);for(var c=0;c<a.length;c++)for(var d=a[c],e=c+1;e<a.length;e++){var g=a[e];if(d==g)var f=!1;else{f=C[d];var h=f.translates,k=C[g],N=k.translates,za=k.opacity;f=f.observes!==k.observes||f.opacity&&za||h&&N&&(h.x&&N.x||h.y&&N.y)?!1:!0}f||(p().warn("amp-fx-collection","%s preset can't be combined with %s preset as the resulting animation isn't valid.",
d,g),a.splice(e--,1))}return a};function D(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0});function E(a,b,c){var d=F(a),e=G(d),g=H(e),f=g[b];f||(f=g[b]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});f.ctor||f.obj||(f.ctor=c,f.context=d,f.resolve&&I(e,b))}function J(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return I(a,b)}function K(a,b){var c=F(a);c=G(c);return I(c,b)}function F(a){return a.nodeType?J((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function G(a){a=F(a);return a.isSingleDoc()?a.win:a}
function I(a,b){a=H(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function H(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function ja(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)};function L(a){return K(a,"viewport")};function ka(a,b){return{left:0,top:0,width:a,height:b,bottom:0+b,right:0+a,x:0,y:0}}function M(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1};function la(a,b,c,d){this.element=b;this.I=d;this.fidelity=c;this.turn=0==c?Math.floor(4*Math.random()):0;this.B=null;this.m=L(a)}
la.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var c=this.m.getSize(),d=ka(c.width,c.height);this.m.getClientRectAsync(this.element).then(function(a){var c={positionRect:a,viewportRect:d,relativePos:null},e=b.B;if(!(e&&M(e.positionRect,c.positionRect)&&M(e.viewportRect,c.viewportRect))){e=c.positionRect;var h=c.viewportRect;c.relativePos=e.top<h.top?"top":e.bottom>h.bottom?"bottom":"inside";h=c.viewportRect;e.top<=h.bottom&&h.top<=
e.bottom&&e.left<=h.right&&h.left<=e.right?(b.B=c,b.I(c)):b.B&&(b.B=null,c.positionRect=null,b.I(c))}})};var O,ma="Webkit webkit Moz moz ms O o".split(" ");function na(a,b,c){if(D(b,"--"))return b;O||(O=Object.create(null));var d=O[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var g=0;g<ma.length;g++){var f=ma[g]+e;if(void 0!==a[f]){e=f;break a}}e=""}var h=e;void 0!==a[h]&&(d=h)}c||(O[b]=d)}return d}function oa(a,b){a=a.style;for(var c in b)a.setProperty(na(a,c),b[c].toString(),"important")}
function P(a,b){for(var c in b){var d=a,e=b[c],g=na(d.style,c,void 0);g&&(D(g,"--")?d.style.setProperty(g,e):d.style[g]=e)}}function pa(a){"display"in a&&q().error("STYLE","`display` style detected in styles. You must use toggle instead.");return a};function Q(a,b,c){var d=a.element,e="X"==b,g=c*a.flyInDistance+(e?"vw":"vh");a.initialTrigger||(K(d,"mutator").mutateElement(d,function(){var b=a.win.getComputedStyle(d)||Object.create(null),c=e?"left":"top",k={position:"static"===b.position?"relative":b.position,visibility:"visible"};k[c]="calc("+("auto"===b[c]?"0px":b[c])+" - "+g+")";P(d,pa(k))}),a.initialTrigger=!0);P(d,{"transition-duration":a.duration,"transition-timing-function":a.easing,transform:"translate"+b+"("+g+")"})}
function R(a){var b=parseFloat(a.getAttribute("data-margin-start"));b&&r(0<=b&&100>=b,"data-margin-start must be a percentage value and be between 0% and 100% for: %s",a);return b}function S(a){return a&&a.positionRect?a.positionRect.top:null}function qa(a,b,c){a=S(a);return!!a&&a+c*b.viewportHeight*b.flyInDistance/100<=(1-b.marginStart)*b.viewportHeight}function T(a,b,c){a=S(a);var d=void 0!==c?c:b.viewportHeight;return!!a&&a<=(1-b.marginStart)*d}
var U={},ra=(U[A]={userAsserts:function(a){var b=r(a.getAttribute("data-parallax-factor"),"data-parallax-factor=<number> attribute must be provided for: %s",a);r(0<parseFloat(b),"data-parallax-factor must be a number and greater than 0 for: %s",a)},update:function(a){if((a=S(a))&&!(a>this.adjustedViewportHeight)){var b=-(parseFloat(this.factor)-1);this.offset=(this.adjustedViewportHeight-a)*b;P(this.element,{transform:"translateY("+this.offset.toFixed(0)+"px)"})}}},U[w]={userAsserts:R,update:function(a){qa(a,
this,-1)&&Q(this,"Y",-1)}},U[x]={userAsserts:R,update:function(a){T(a,this)&&Q(this,"X",1)}},U[y]={userAsserts:R,update:function(a){T(a,this)&&Q(this,"X",-1)}},U[z]={userAsserts:R,update:function(a){qa(a,this,1)&&Q(this,"Y",1)}},U[u]={userAsserts:R,update:function(a){T(a,this)&&P(this.element,{"transition-duration":this.duration,"transition-timing-function":this.easing,opacity:1})}},U[v]={userAsserts:function(a){var b=R(a),c=parseFloat(a.getAttribute("data-margin-end"));c&&(r(0<=c&&100>=c,"data-margin-end must be a percentage value and be between 0% and 100% for: %s",
a),r(c>b,"data-margin-end must be greater than data-margin-start for: %s",a))},update:function(a){var b=this.viewportHeight,c=this.marginStart;!T(a,this,this.adjustedViewportHeight)||!this.hasRepeat&&1<=this.offset||(a=S(a),this.offset=(b-a-c*b)/((this.marginEnd-c)*b),P(this.element,{opacity:this.offset}))}},U);function V(){this.h=null}V.prototype.add=function(a){var b=this;this.h||(this.h=[]);this.h.push(a);return function(){b.remove(a)}};V.prototype.remove=function(a){this.h&&(a=this.h.indexOf(a),-1<a&&this.h.splice(a,1))};V.prototype.removeAll=function(){this.h&&(this.h.length=0)};V.prototype.fire=function(a){if(this.h)for(var b=this.h,c=0;c<b.length;c++)(0,b[c])(a)};V.prototype.getHandlerCount=function(){return this.h?this.h.length:0};function sa(a){var b=this;this.l=a;this.K=new V;this.O=aa(function(){return ta(b)});this.w=this.A=0;this.o=!0}sa.prototype.observe=function(a){this.K.add(a);this.O()};function ta(a){var b=L(a.l);b.onScroll(function(){var c=b.getScrollTop();a.w=c;c=a.w-a.A;if(!a.o&&0<c||a.o&&0>c)a.A=a.w;!a.o&&36>=a.w?(W(a,!0),a.A=a.w):!a.o&&-20>c?(W(a,!0),a.A=a.w):a.o&&80<c&&(W(a,!1),a.A=a.w)})}function W(a,b){a.o!=b&&(a.o=b,a.K.fire(b))}
function ua(a,b){return X(b,"overflow","hidden",a)&&X(b,"position","fixed",a)}function va(a,b,c){var d=b.replace(/^float\-in\-([^\s]+)$/,"$1");return X(c,d,"0px",a,"amp-fx="+b)?d:null}function X(a,b,c,d,e){if(a[b]==c)return!0;e=e?" "+e:"";var g=wa(d);p().warn("amp-fx","FX element must have `"+b+": "+c+"` ["+g+"]"+e+".");return!1}
function wa(a,b){b=void 0===b?0:b;var c=a.id,d=a.classList,e=a.parentElement;if(c)return"#"+c;c=a.tagName.toLowerCase();0<d.length&&(c+="."+d[0]+(1<d.length?"...":""));if(!e)return c+" (detached)";var g=e.firstElementChild,f=e.lastElementChild;if(a!=g||a!=f)a==g?c+=":first-child":a==f&&(c+=":last-child");return 0<b?c:wa(e,b+1)+" > "+c};function xa(a){var b={linear:"cubic-bezier(0.00, 0.00, 1.00, 1.00)","ease-in-out":"cubic-bezier(0.80, 0.00, 0.20, 1.00)","ease-in":"cubic-bezier(0.80, 0.00, 0.60, 1.00)","ease-out":"cubic-bezier(0.40, 0.00, 0.40, 1.00)"};if(b[a])return b[a];r(D(a,"cubic-bezier"),"All custom bezier curves should be specified by following the `cubic-bezier()` function notation.");return a}function ya(a){var b=parseFloat(a);return isNaN(b)?null:b/100}
function Aa(a){switch(a){case A:return{"will-change":"transform"};case u:return{"will-change":"opacity",opacity:0};case v:return{"will-change":"opacity",opacity:0};case w:case z:case x:case y:return{"will-change":"transform"};default:return{visibility:"visible"}}}function Ba(a,b){switch(b){case u:return"1000ms";case w:case z:case x:case y:return a=L(a).getSize().width,a=Math.min(1E3,a),480>a?a=480:1E3<a&&(a=1E3),200*(a-480)/520+400+"ms";default:return"1ms"}}
function Ca(a){switch(a){case u:case y:case x:case z:case w:return{start:.05};case v:return{start:0,end:.5};default:return{start:0,end:1}}};function Da(a,b){function c(){d=0;var f=500-(a.Date.now()-e);if(0<f)d=a.setTimeout(c,f);else{var h=g;g=null;b.apply(null,h)}}var d=0,e=0,g=null;return function(b){for(var f=[],k=0;k<arguments.length;++k)f[k-0]=arguments[k];e=a.Date.now();g=f;d||(d=a.setTimeout(c,500))}};function Y(a){var b=this;this.l=a;this.L=a.win;this.j=[];this.R=J(this.L,"vsync");this.m=L(a);this.C=[];this.D=this.G=this.F=!1;this.M=Da(this.L,function(){b.F=!1})}Y.prototype.observe=function(a,b,c){var d=this,e=new la(this.l,a,b,c);this.j.push(e);this.D||Ea(this);e.update();return function(){for(var a=0;a<d.j.length;a++)if(d.j[a]==e){d.j.splice(a,1);0==d.j.length&&Fa(d);break}}};
Y.prototype.unobserve=function(a){for(var b=0;b<this.j.length;b++)if(this.j[b].element==a){this.j.splice(b,1);0==this.j.length&&Fa(this);return}q().error("POSITION_OBSERVER","cannot unobserve unobserved element")};function Ea(a){a.D=!0;a.C.push(a.m.onScroll(function(){a.M();a.F=!0;a.G||Ga(a)}));a.C.push(a.m.onResize(function(){a.updateAllEntries(!0)}))}function Fa(a){for(a.D=!1;a.C.length;)a.C.pop()()}Y.prototype.updateAllEntries=function(a){for(var b=0;b<this.j.length;b++)this.j[b].update(a)};
function Ga(a){a.updateAllEntries();a.G=!0;a.F?a.R.measure(function(){Ga(a)}):a.G=!1};function Ha(a,b,c){if(!K(b,"viewer").isEmbedded()){E(a,"fx-scroll-dispatch",sa);var d=K(a,"fx-scroll-dispatch"),e=!0;K(b,"mutator").measureMutateElement(b,function(){var g=a.win.getComputedStyle(b)||Object.create(null),f=va(b,c,g),h=ua(b,g);f&&h?d.observe(function(a){Ia(b,a,f)}):e=!1},function(){e&&oa(b,{"will-change":"transform"})})}}
function Ia(a,b,c){var d=0;K(a,"mutator").measureMutateElement(a,function(){if(b)d=0;else{var e=a.getBoundingClientRect().height;d="top"==c?-e:e}},function(){oa(a,{transition:"transform 300ms ease",transform:"translate(0, "+(d+"px)")})})}
function Ja(a,b,c){var d=this;this.win=a.win;this.P=K(b,"position-observer");this.m=L(b);this.J=K(b,"mutator");this.adjustedViewportHeight=this.viewportHeight=null;this.element=b;this.offset=0;this.N=c;ra[c].userAsserts(b);this.factor=parseFloat(b.getAttribute("data-parallax-factor"));this.marginStart=b.hasAttribute("data-margin-start")?ya(b.getAttribute("data-margin-start")):Ca(c).start;this.marginEnd=b.hasAttribute("data-margin-end")?ya(b.getAttribute("data-margin-end")):Ca(c).end;if(b.hasAttribute("data-easing"))var e=
b.getAttribute("data-easing");else a:switch(c){case u:e="ease-in";break a;case y:case x:case z:case w:e="ease-out";break a;default:e="ease-in"}this.easing=xa(e);this.duration=b.hasAttribute("data-duration")?b.getAttribute("data-duration"):Ba(a,c);if(b.hasAttribute("data-fly-in-distance"))a=parseFloat(b.getAttribute("data-fly-in-distance"));else a:switch(c){case w:case z:a=1E3>L(a).getSize().width?25:33;break a;case x:case y:a=100;break a;default:a=1}this.flyInDistance=a;this.hasRepeat=b.hasAttribute("data-repeat");
this.initialTrigger=!1;Ka(this).then(function(a){d.adjustedViewportHeight=a;La(d)});Ma(this)}function La(a){a.P.observe(a.element,1,ra[a.N].update.bind(a));a.m.onResize(function(){Ma(a);Ka(a).then(function(b){a.adjustedViewportHeight=b})})}function Ma(a){a.J.measureElement(function(){a.viewportHeight=a.m.getHeight()})}function Ka(a){return a.J.measureElement(function(){for(var b=a.m.getHeight(),c=0,d=a.element;d;d=d.offsetParent)c+=d.offsetTop;return c<b?c:b})};var Z;function Na(a,b){var c=Oa();a.addEventListener("amp:dom-update",function(a){try{return b(a)}catch(e){throw self.__AMP_REPORT_ERROR(e),e;}},c?void 0:!1)}function Oa(){if(void 0!==Z)return Z;Z=!1;try{var a={get capture(){Z=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return Z};function Pa(a,b){Na(a,b)};function Qa(a){var b=this;this.l=a;this.H=[];Promise.all([a.whenReady(),a.whenFirstVisible()]).then(function(){var a=b.l.getRootNode();Ra(b);Pa(a,function(){return Ra(b)})})}function Ra(a){var b=a.l.getRootNode().querySelectorAll("[amp-fx]");ja(b,function(b){if(!a.H.includes(b))try{Sa(a,b)}catch(d){da(d)}})}
function Sa(a,b){b.hasAttribute("amp-fx");a.H.includes(b);a.l.isVisible();ia(b).forEach(function(c){if(1==C[c].observes)Ha(a.l,b,c);else{var d=a.l;E(d,"position-observer",Y);new Ja(d,b,c);P(b,pa(Aa(c)))}});a.H.push(b)}(function(a){a.registerServiceForDoc("amp-fx-collection",Qa)})(self.AMP);
})});

//# sourceMappingURL=amp-fx-collection-0.1.js.map
