(self.AMP=self.AMP||[]).push({n:"amp-video-docking",v:"2008290323002",f:(function(AMP,_){
'use strict';var l,n;function aa(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ba=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function r(a){var b=!1,c=null,d=a;return function(a){for(var e=[],g=0;g<arguments.length;++g)e[g-0]=arguments[g];b||(c=d.apply(self,e),b=!0,d=null);return c}};var t=self.AMP_CONFIG||{},ca=("string"==typeof t.cdnProxyRegex?new RegExp(t.cdnProxyRegex):t.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function da(a){if(self.document&&self.document.head&&(!self.location||!ca.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}t.cdnUrl||da("runtime-host");t.geoApiUrl||da("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var u=self.__AMP_LOG;function ea(){if(!u.user)throw Error("failed to call initLogConstructor");return u.user}function fa(){if(u.dev)return u.dev;throw Error("failed to call initLogConstructor");}function ha(a,b){ea().assert(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var ia=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function ja(a,b,c,d,e){return e?e:b?"\ufffd":d?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a};var v;function ka(a){return"amp-img[placeholder],img[placeholder],[placeholder] amp-img".replace(/^|,/g,"$&"+a+" ")};function na(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function oa(a){return a.closest?a.closest(".amp-video-docked-controls"):na(a,function(a){var b=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;return b?b.call(a,".amp-video-docked-controls"):!1})}function pa(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)};function qa(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){fa().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};function ra(a){var b=w,c=x(a),d=y(c),e=sa(d),f=e["position-observer"];f||(f=e["position-observer"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});f.ctor||f.obj||(f.ctor=b,f.context=c,f.resolve&&z(d,"position-observer"))}function A(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return z(a,b)}function B(a,b){var c=x(a);c=y(c);return z(c,b)}function x(a){return a.nodeType?A((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function y(a){a=x(a);return a.isSingleDoc()?a.win:a}
function z(a,b){C(a,b);a=sa(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function sa(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function C(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};function D(a,b){this.ja=A(a,"timer");this.I=b;this.B=null}D.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=this;this.cancel();this.B=this.ja.delay(function(){return e.I.apply(null,c)},a)};D.prototype.cancel=function(){null!==this.B&&(this.ja.cancel(this.B),this.B=null)};D.prototype.isWaiting=function(){return null!==this.B};function E(a){var b=a.touches?a.touches[0]:a;return{x:"x"in b?b.x:b.clientX,y:"y"in b?b.y:b.clientY}};function ta(a,b,c){c=c.sort(function(a,b){return b.minWidth-a.minWidth});var d=-1;c.forEach(function(c){var e=c.className,g=c.minWidth;g<=b&&g>d?(a.classList.add(e),d=g):a.classList.remove(e)})};var F;function H(a,b,c){var d=a,e=c;var f=function(a){try{return e(a)}catch(h){throw self.__AMP_REPORT_ERROR(h),h;}};var g=ua();d.addEventListener(b,f,g?void 0:!1);return function(){d&&d.removeEventListener(b,f,g?void 0:!1);f=d=e=null}}function ua(){if(void 0!==F)return F;F=!1;try{var a={get capture(){F=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return F};function va(a,b,c){var d={detail:c};Object.assign(d,void 0);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,d);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!d.bubbles,!!d.cancelable,c);return a}function I(a,b,c){return H(a,b,c)}function wa(a,b,c){var d=c,e=H(a,b,function(a){try{d(a)}finally{d=null,e()}});return e};var J;function xa(a){a=a.ownerDocument||a;J&&J.ownerDocument===a||(J=a.createElement("div"));return ya}function ya(a){var b=J;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a}function za(a){a=a.querySelectorAll("[ref]");for(var b=Object.create(null),c=0;c<a.length;c++){var d=a[c],e=d.getAttribute("ref");d.removeAttribute("ref");b[e]=d}return b};function K(a,b,c,d){return{left:a,top:b,width:c,height:d,bottom:b+d,right:a+c,x:a,y:b}}function L(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1};var M,Aa="Webkit webkit Moz moz ms O o".split(" ");function Ba(a,b,c){if(2>b.length?0:0==b.lastIndexOf("--",0))return b;M||(M=Object.create(null));var d=M[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<Aa.length;f++){var g=Aa[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(M[b]=d)}return d}function N(a,b){a=a.style;for(var c in b)a.setProperty(Ba(a,c),b[c].toString(),"important")}
function Ca(a,b,c){(b=Ba(a.style,b,void 0))&&((2>b.length?0:0==b.lastIndexOf("--",0))?a.style.setProperty(b,c):a.style[b]=c)}function O(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")}function Da(a,b){"number"==typeof a&&(a+="px");if(void 0===b)return"translate("+a+")";"number"==typeof b&&(b+="px");return"translate("+a+", "+b+")"}function Ea(a,b){for(var c=0;c<b.length;c++)Ca(a,b[c],null)};var Fa=["<div class=i-amphtml-video-docked-overlay hidden></div>"],Ga=['<div class=amp-video-docked-controls hidden><div class="amp-video-docked-main-button-group amp-video-docked-control-set-playback"><div class=amp-video-docked-button-group><div role=button ref=playButton class=amp-video-docked-play></div><div role=button ref=pauseButton class=amp-video-docked-pause></div></div><div class=amp-video-docked-button-group><div role=button ref=muteButton class=amp-video-docked-mute></div><div role=button ref=unmuteButton class=amp-video-docked-unmute></div></div><div class=amp-video-docked-button-group><div role=button ref=fullscreenButton class=amp-video-docked-fullscreen></div></div></div><div class="amp-video-docked-main-button-group amp-video-docked-control-set-scroll-back" hidden><div class=amp-video-docked-button-group><div role=button ref=scrollBackButton class=amp-video-docked-scroll-back></div></div></div><div class=amp-video-docked-button-dismiss-group ref=dismissContainer><div role=button ref=dismissButton class=amp-video-docked-dismiss></div></div></div>'],
Ha=[{className:"amp-small",minWidth:0},{className:"amp-large",minWidth:300}];
function Ia(a){function b(a){return d[a]}var c=this;this.h=a;a=xa(a.getBody());this.container=a(Ga);this.overlay=a(Fa);var d=za(this.container);this.na=b("dismissButton");this.N=b("playButton");this.M=b("pauseButton");this.L=b("muteButton");this.T=b("unmuteButton");this.qa=b("fullscreenButton");this.ua=b("scrollBackButton");this.oa=b("dismissContainer");this.ma=this.container.querySelectorAll(".amp-video-docked-main-button-group");this.aa=this.Z=!1;this.ra=r(function(){return new D(c.h.win,function(){c.hide(!0)})});
this.ea=[];this.fa=this.U=this.K=this.C=null;Ja(this);Ka(this)}l=Ia.prototype;l.disable=function(){this.Z=!0};l.enable=function(){this.Z=!1};l.setVideo=function(a,b){this.U=b;this.fa!==a&&(this.fa=a,La(this,a))};function Ma(a,b){var c="amp-video-docked-control-set-"+b;pa(a.ma,function(a){O(a,a.classList.contains(c))})}
function La(a,b){Na(a);var c=b.element;a.ea.push(P(a,a.na,"click",function(){a.container.dispatchEvent(va(a.h.win,"dock-dismiss-on-tap",void 0))}),P(a,a.N,"click",function(){b.play(!1)}),P(a,a.M,"click",function(){b.pause()}),P(a,a.L,"click",function(){b.mute()}),P(a,a.T,"click",function(){b.unmute()}),P(a,a.qa,"click",function(){b.fullscreenEnter()}),P(a,a.ua,"click",function(){a.container.dispatchEvent(va(a.h.win,"dock-scroll-back",void 0))}),I(a.container,"mouseup",function(){return a.hideOnTimeout(800)}),
I(c,"playing",function(){var b=a.N,c=a.M;a.aa=!1;O(b,!1);O(c,!0)}),I(c,"pause",function(){var b=a.M,c=a.N;a.aa=!0;O(b,!1);O(c,!0)}),I(c,"muted",function(){var b=a.T;O(a.L,!1);O(b,!0)}),I(c,"unmuted",function(){var b=a.L;O(a.T,!1);O(b,!0)}),I(c,"ad_start",function(){return Ma(a,"scroll-back")}),I(c,"ad_end",function(){return Ma(a,"playback")}))}function P(a,b,c,d){return I(b,c,function(){a.Z||d()})}function Na(a){for(;0<a.ea.length;)a.ea.pop().call()}
l.hideOnTimeout=function(a){a=void 0===a?1200:a;this.ra().trigger(a)};function Ka(a){function b(){return Ra(a)}var c=a.overlay;P(a,c,"click",b);P(a,c,"mouseover",b)}
function Ra(a){a.h.win.requestAnimationFrame(function(){var b=B(a.h,"video-manager"),c=a.fa,d=b.isRollingAd(c),e=b.isMuted(c);b="paused"!==b.getPlayingState(c);c=a.container;var f=a.overlay;O(c,!0);c.classList.add("amp-video-docked-controls-shown");f.classList.add("amp-video-docked-controls-bg");Ma(a,d?"scroll-back":"playback");O(a.N,!b);O(a.M,b);O(a.L,!e);O(a.T,e);Sa(a);a.hideOnTimeout()})}
l.positionOnVsync=function(a,b,c,d,e){this.U=K(b,c,d*a,e*a);var f=this.container,g=a/2,k=b+d*g,h=c+e*g;ta(f,a*d,Ha);N(f,{transform:Da(k,h)});N(this.oa,{transform:Da(d*g-4-40,-(e*g-4-40))})};function Ja(a){I(a.h.getRootNode(),"mousedown",function(b){b=b.target;b==a.overlay||oa(b)||a.hide(!0)})}l.hide=function(a,b){var c=this.container,d=this.overlay;!c.classList.contains("amp-video-docked-controls-shown")||a&&this.aa||(b&&(O(c,!1),O(d,!1)),d.classList.remove("amp-video-docked-controls-bg"),c.classList.remove("amp-video-docked-controls-shown"))};
function Sa(a){a.C||(a.C=I(a.overlay,"mousemove",function(){Ra(a)}),a.K=I(a.overlay,"mouseout",function(b){var c=E(b);b=c.x;c=c.y;var d=a.U,e=d.top,f=d.right,g=d.bottom;if(b<d.left||b>f||c<e||c>g)a.hide(!0),a.C&&(a.C(),a.C=null),a.K&&(a.K(),a.K=null)}))}l.reset=function(){var a=this.overlay,b=[a,this.container];O(a,!1);this.hide();for(a=0;a<b.length;a++)Ea(b[a],["transform","transition","width","height"])};function Ta(a,b,c,d){this.element=b;this.I=d;this.fidelity=c;this.turn=0==c?Math.floor(4*Math.random()):0;this.O=null;this.j=B(a,"viewport")}
Ta.prototype.R=function(a){var b=this.O;if(!(b&&L(b.positionRect,a.positionRect)&&L(b.viewportRect,a.viewportRect))){var c=a.positionRect,d=a.viewportRect;a.relativePos=c.top<d.top?"top":c.bottom>d.bottom?"bottom":"inside";d=a.viewportRect;c.top<=d.bottom&&d.top<=c.bottom&&c.left<=d.right&&d.left<=c.right?(this.O=a,this.I(a)):this.O&&(this.O=null,a.positionRect=null,this.I(a))}};
Ta.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var c=this.j.getSize(),d=K(0,0,c.width,c.height);this.j.getClientRectAsync(this.element).then(function(a){b.R({positionRect:a,viewportRect:d,relativePos:null})})};function Ua(a,b){function c(){d=0;var g=500-(a.Date.now()-e);if(0<g)d=a.setTimeout(c,g);else{var k=f;f=null;b.apply(null,k)}}var d=0,e=0,f=null;return function(b){for(var g=[],h=0;h<arguments.length;++h)g[h-0]=arguments[h];e=a.Date.now();f=g;d||(d=a.setTimeout(c,500))}};function w(a){var b=this;this.h=a;this.ka=a.win;this.m=[];this.va=A(this.ka,"vsync");this.j=B(a,"viewport");this.S=[];this.V=this.ca=this.Y=!1;this.la=Ua(this.ka,function(){b.Y=!1})}w.prototype.observe=function(a,b,c){var d=this,e=new Ta(this.h,a,b,c);this.m.push(e);this.V||Va(this);e.update();return function(){for(var a=0;a<d.m.length;a++)if(d.m[a]==e){d.m.splice(a,1);0==d.m.length&&Wa(d);break}}};
w.prototype.unobserve=function(a){for(var b=0;b<this.m.length;b++)if(this.m[b].element==a){this.m.splice(b,1);0==this.m.length&&Wa(this);return}fa().error("POSITION_OBSERVER","cannot unobserve unobserved element")};function Va(a){a.V=!0;a.S.push(a.j.onScroll(function(){a.la();a.Y=!0;a.ca||Xa(a)}));a.S.push(a.j.onResize(function(){a.updateAllEntries(!0)}))}function Wa(a){for(a.V=!1;a.S.length;)a.S.pop()()}w.prototype.updateAllEntries=function(a){for(var b=0;b<this.m.length;b++)this.m[b].update(a)};
function Xa(a){a.updateAllEntries();a.ca=!0;a.Y?a.va.measure(function(){Xa(a)}):a.ca=!1};function Ya(a,b,c){0>a?a=0:1<a&&(a=1);return(a-0)*(c-b)+b};function Za(a,b,c,d){return d*(a-b-2*c)}function $a(a,b,c,d){return-d*(a-b-2*c)}function ab(a){return 0<a.width&&0<a.height};function bb(a){var b={get:function(){return a.getSize().width},configurable:!1,enumerable:!0},c={get:function(){return a.getSize().height},configurable:!1,enumerable:!0};return Object.defineProperties(K(0,0,0,0),{width:b,height:c,right:b,bottom:c})};function cb(a){return a.querySelector("video, iframe")};function db(a){var b=a.getHeadNode();var c=(a=b.__AMP_CSS_TR)?a(".amp-video-docked-controls{direction:ltr!important;opacity:0;pointer-events:none!important;transition:opacity 0.3s ease;height:120px}.amp-video-docked-main-button-group{height:40px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin:-20px 0 0 -60px}.amp-large>.amp-video-docked-main-button-group{margin-left:-70px}.amp-large>.amp-video-docked-main-button-group>.amp-video-docked-button-group{margin-right:10px}.amp-large>.amp-video-docked-control-set-scroll-back,.amp-small>.amp-video-docked-control-set-scroll-back{margin-left:-32px}.amp-large>.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group{margin-right:0}.amp-large>.amp-video-docked-button-dismiss-group{margin:6px 0 0 -6px}.amp-small>.amp-video-docked-button-dismiss-group,.amp-small>.amp-video-docked-button-dismiss-group>div[role=button]{min-width:32px;height:32px;border-radius:32px;background-size:20px 20px}.amp-small>.amp-video-docked-button-dismiss-group{margin-left:8px}.amp-video-docked-controls-shown{opacity:1;pointer-events:initial!important}.amp-video-docked-button-group{margin:0}.amp-video-docked-button-dismiss-group,.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button]{min-width:40px;height:40px;border-radius:40px}.amp-video-docked-button-dismiss-group:active,.amp-video-docked-button-group:active{background-color:hsla(0,0%,100%,0.7)}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button],.amp-video-docked-controls,.i-amphtml-video-docked-overlay{-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group>div[role=button]{background-repeat:no-repeat;background-position:50%}.amp-video-docked-shadow{box-shadow:0px 0 20px 6px rgba(0,0,0,0.2)}.amp-video-docked-controls-bg{background:hsla(0,0%,90.2%,0.6)}.amp-video-docked-mute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-unmute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M16.5 12A4.5 4.5 0 0014 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0021 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 003.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-pause{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-play{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M8 5v14l11-7z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z'/%3E%3C/svg%3E\")}.amp-video-docked-dismiss{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-scroll-back{background-size:50%}.amp-rtl .amp-video-docked-scroll-back,.amp-video-docked-scroll-back{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\")}.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group,.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group>div[role=button]{min-width:64px;height:64px}.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{margin:0!important}.i-amphtml-video-docked{transition-property:transform!important}.amp-video-docked-controls,.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{position:fixed!important;top:0!important;left:0!important;right:auto!important;bottom:auto!important;padding:0!important;min-width:0!important;min-height:0!important;max-width:auto!important;max-height:auto!important;transform-origin:left top!important;will-change:width,height,transition,transform,opacity}.i-amphtml-video-docked-overlay{opacity:0;transition:opacity 0.3s ease;contain:strict!important}.amp-video-docked-controls-bg{opacity:1}.i-amphtml-video-docked-overlay.amp-video-docked-almost-dismissed{opacity:1;background:hsla(0,0%,39.2%,0.1)}.i-amphtml-video-docked-shadow.amp-video-docked-almost-dismissed,.i-amphtml-video-docked.amp-video-docked-almost-dismissed{opacity:0.3}.amp-video-docked-button-dismiss-group{position:absolute;top:-40px}.amp-video-docked-placeholder-background{background:hsla(0,0%,78.4%,0.5);transition-property:opacity;overflow:hidden;pointer-events:none;z-index:0;opacity:0}.amp-video-docked-placeholder-icon{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");-webkit-mask-size:48px 48px;mask-size:48px 48px;height:48px;width:48px;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:bottom left;mask-position:bottom left;background:hsla(0,0%,39.2%,0.8);transition-property:opacity,transform;will-change:opacity,transform;position:absolute;bottom:40px;left:40px}.amp-video-docked-placeholder-icon.amp-rtl{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");left:auto;right:40px}.amp-video-docked-placeholder-icon.amp-small{-webkit-mask-size:32px 32px;mask-size:32px 32px;width:32px;height:32px;bottom:20px;left:20px}.amp-video-docked-placeholder-icon.amp-rtl.amp-small{left:auto;right:20px}.amp-video-docked-placeholder-background-poster{background-size:cover;background-repeat:no-repeat;filter:blur(20px);transform:scale(1.1);opacity:0.3}.amp-video-docked-controls{z-index:2147483646!important}.i-amphtml-video-docked-overlay{z-index:2147483645!important}.i-amphtml-video-docked{z-index:2147483644!important}.amp-video-docked-shadow{z-index:2147483643!important}\n/*# sourceURL=/extensions/amp-video-docking/0.1/amp-video-docking.css*/"):
".amp-video-docked-controls{direction:ltr!important;opacity:0;pointer-events:none!important;transition:opacity 0.3s ease;height:120px}.amp-video-docked-main-button-group{height:40px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin:-20px 0 0 -60px}.amp-large>.amp-video-docked-main-button-group{margin-left:-70px}.amp-large>.amp-video-docked-main-button-group>.amp-video-docked-button-group{margin-right:10px}.amp-large>.amp-video-docked-control-set-scroll-back,.amp-small>.amp-video-docked-control-set-scroll-back{margin-left:-32px}.amp-large>.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group{margin-right:0}.amp-large>.amp-video-docked-button-dismiss-group{margin:6px 0 0 -6px}.amp-small>.amp-video-docked-button-dismiss-group,.amp-small>.amp-video-docked-button-dismiss-group>div[role=button]{min-width:32px;height:32px;border-radius:32px;background-size:20px 20px}.amp-small>.amp-video-docked-button-dismiss-group{margin-left:8px}.amp-video-docked-controls-shown{opacity:1;pointer-events:initial!important}.amp-video-docked-button-group{margin:0}.amp-video-docked-button-dismiss-group,.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button]{min-width:40px;height:40px;border-radius:40px}.amp-video-docked-button-dismiss-group:active,.amp-video-docked-button-group:active{background-color:hsla(0,0%,100%,0.7)}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button],.amp-video-docked-controls,.i-amphtml-video-docked-overlay{-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group>div[role=button]{background-repeat:no-repeat;background-position:50%}.amp-video-docked-shadow{box-shadow:0px 0 20px 6px rgba(0,0,0,0.2)}.amp-video-docked-controls-bg{background:hsla(0,0%,90.2%,0.6)}.amp-video-docked-mute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-unmute{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M16.5 12A4.5 4.5 0 0014 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0021 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 003.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-pause{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-play{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M8 5v14l11-7z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-fullscreen{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z'/%3E%3C/svg%3E\")}.amp-video-docked-dismiss{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-video-docked-scroll-back{background-size:50%}.amp-rtl .amp-video-docked-scroll-back,.amp-video-docked-scroll-back{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\")}.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group,.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group>div[role=button]{min-width:64px;height:64px}.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{margin:0!important}.i-amphtml-video-docked{transition-property:transform!important}.amp-video-docked-controls,.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{position:fixed!important;top:0!important;left:0!important;right:auto!important;bottom:auto!important;padding:0!important;min-width:0!important;min-height:0!important;max-width:auto!important;max-height:auto!important;transform-origin:left top!important;will-change:width,height,transition,transform,opacity}.i-amphtml-video-docked-overlay{opacity:0;transition:opacity 0.3s ease;contain:strict!important}.amp-video-docked-controls-bg{opacity:1}.i-amphtml-video-docked-overlay.amp-video-docked-almost-dismissed{opacity:1;background:hsla(0,0%,39.2%,0.1)}.i-amphtml-video-docked-shadow.amp-video-docked-almost-dismissed,.i-amphtml-video-docked.amp-video-docked-almost-dismissed{opacity:0.3}.amp-video-docked-button-dismiss-group{position:absolute;top:-40px}.amp-video-docked-placeholder-background{background:hsla(0,0%,78.4%,0.5);transition-property:opacity;overflow:hidden;pointer-events:none;z-index:0;opacity:0}.amp-video-docked-placeholder-icon{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h48v48H0z'/%3E%3Cpath d='M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");-webkit-mask-size:48px 48px;mask-size:48px 48px;height:48px;width:48px;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:bottom left;mask-position:bottom left;background:hsla(0,0%,39.2%,0.8);transition-property:opacity,transform;will-change:opacity,transform;position:absolute;bottom:40px;left:40px}.amp-video-docked-placeholder-icon.amp-rtl{-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M-4-4h48v48H-4z'/%3E%3Cpath d='M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z' fill='%23000' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");left:auto;right:40px}.amp-video-docked-placeholder-icon.amp-small{-webkit-mask-size:32px 32px;mask-size:32px 32px;width:32px;height:32px;bottom:20px;left:20px}.amp-video-docked-placeholder-icon.amp-rtl.amp-small{left:auto;right:20px}.amp-video-docked-placeholder-background-poster{background-size:cover;background-repeat:no-repeat;filter:blur(20px);transform:scale(1.1);opacity:0.3}.amp-video-docked-controls{z-index:2147483646!important}.i-amphtml-video-docked-overlay{z-index:2147483645!important}.i-amphtml-video-docked{z-index:2147483644!important}.amp-video-docked-shadow{z-index:2147483643!important}\n/*# sourceURL=/extensions/amp-video-docking/0.1/amp-video-docking.css*/";
(a=b.__AMP_CSS_SM)||(a=b.__AMP_CSS_SM=Object.create(null));var d=eb(b,a,"amp-extension=amp-video-docking");d?d.textContent!==c&&(d.textContent=c):(d=(b.ownerDocument||b).createElement("style"),d.textContent=c,d.setAttribute("amp-extension","amp-video-docking"),c=eb(b,a,"amp-runtime"),(c=void 0===c?null:c)?b.insertBefore(d,c.nextSibling):b.insertBefore(d,b.firstChild),a["amp-extension=amp-video-docking"]=d)}function eb(a,b,c){return b[c]?b[c]:(a=a.querySelector("style["+c+"]"))?b[c]=a:null};var fb=["<div class=amp-video-docked-shadow hidden></div>"],gb=["<div class=amp-video-docked-placeholder-background><div class=amp-video-docked-placeholder-background-poster ref=poster></div><div class=amp-video-docked-placeholder-icon ref=icon></div></div>"],hb=[{className:"amp-small",minWidth:0},{className:"amp-large",minWidth:420}];
function ib(a,b){var c=!1;return function(d){for(var e=[],f=0;f<arguments.length;++f)e[f-0]=arguments[f];c||(c=!0,a.requestAnimationFrame(function(){b.apply(null,e);c=!1}))}}
function Q(a,b){var c=this;this.h=a;this.ta=r(function(){return B(a,"video-manager")});this.j=B(a,"viewport");this.o=bb(this.j);this.A=this.c=null;var d=xa(R(this));this.X=r(function(){return V(c,d(fb))});this.l=r(function(){return jb(c)});this.W=r(function(){return V(c,d(gb))});this.H=r(function(){return za(c.W())});this.da=this.D=this.w=this.ha=null;this.ba=this.j.getScrollTop();this.$=!1;this.G=this.P=this.F=0;this.ia=[];this.sa=r(function(){var a=c.h;c.j.onScroll(ib(a.win,function(){var a=c.j.getScrollTop();
5>Math.abs(a-c.ba)||(c.da=a>c.ba?"top":"bottom",c.ba=a)}));c.j.onResize(function(){return kb(c)});db(a)});this.pa=r(function(){var a=c.h.getRootNode();var b=a.querySelector("[dock]");b;ha(b.signals().get("registered"),"`dock` attribute can only be set on video components.");b=b.getAttribute("dock").trim();""==b?a=null:(a=a.querySelector(b))&&ha("amp-layout"==a.tagName.toLowerCase(),"Dock slot must be an <amp-layout> element.");return a});this.ga=b||null;this.J=!1;lb(this)}
function lb(a){if(mb(a)){for(var b=a.h,c="["+"dock".replace(ia,ja)+"]",d=b.getRootNode().querySelectorAll(c),e=0;e<d.length;e++){var f=d[e];f.signals&&f.signals().get("registered")&&a.registerElement(f)}I(b.getBody(),"registered",function(b){b=b.target;b.hasAttribute("dock")&&a.registerElement(b)})}}function mb(a){return A(a.h.win,"platform").isIos()&&B(a.h,"viewer").isEmbedded()?!1:!0}function kb(a){a.ia.forEach(function(b){return nb(a,b)})}
Q.prototype.register=function(a){var b=this;this.sa();var c=a.element;if(this.ga)var d=this.ga;else ra(this.h),d=B(this.h.getHeadNode(),"position-observer");d.observe(c,1,function(){if(!b.J)if("top"==b.da){var c=ob(b,a);if(c){if(b.ha!=a)var d=!1;else W(b,a.element,.02)&&(b.ha=null),d=!0;d||b.c||(d=b.c)&&0<=d.step&&L(d.target.rect,c.rect)||pb(b,a,c)}}else"bottom"==b.da&&b.c&&(c=b.c.video,W(b,c,.85)&&X(b,c))});this.ia.push(a)};Q.prototype.registerElement=function(a){var b=this;a.getImpl().then(function(a){return b.register(a)})};
function R(a){a=a.h.getRootNode();return a.ownerDocument||a}function V(a,b){return(R(a).body||R(a)).appendChild(b)}function qb(a,b){function c(b){return rb(a,b)}H(b,"touchstart",c);H(b,"mousedown",c)}function jb(a){var b=new Ia(a.h),c=b.container,d=b.overlay;I(c,"dock-dismiss-on-tap",function(){a.l().hide(!1,!0);X(a,a.c.video)});I(c,"dock-scroll-back",function(){a.c&&a.j.animateScrollIntoView(a.c.video.element,"center")});qb(a,c);qb(a,d);V(a,c);V(a,d);return b}
function ob(a,b){var c;if(!(c=a.$)){c=b.getLayoutBox();var d=c.height;.98>c.width/d?(c=b.element,d=c.tagName.toUpperCase(),ea().error(d,"Minimize-to-corner (`dock`) does not support portrait video.",c),c=!1):c=320<=a.o.width&&a.o.height>=.85*d;c=!c}!(c=c||a.c&&!(a.c&&a.c.video==b))&&(c=!a.c)&&(c=b,c=(void 0===c?null:c)||a.c.video,c="playing_manual"!=a.ta().getPlayingState(c));if(c)return null;var e=b.element.getIntersectionChangeEntry().intersectionRect;(c=!ab(e))||(c=e.top,d=(d=sb(a))?d.getPageLayoutBox().top:
0,c=c>d);return c?null:tb(a,b)}function ub(a,b){a=-a.j.getScrollTop();b=b.getLayoutBox();return 0==a||0==b.width&&0==b.height?b:K(b.left+0,b.top+a,b.width,b.height)}function nb(a,b){vb(a,function(){var c=ob(a,b);c?wb(a,b,c,1):a.c&&a.c.video==b&&X(a,b)})}function vb(a,b){a.h.win.requestAnimationFrame(b)}function pb(a,b,c,d){var e=d||.1;return.3<e?wb(a,b,c,1):wb(a,b,c,e,!0).then(function(){return new Promise(function(d){vb(a,function(){pb(a,b,c,e+.1).then(d)})})})}
function wb(a,b,c,d,e){xb(b.element);var f=Y(a,b,c,d),g=f.x,k=f.y,h=f.scale;f=f.relativeX;b.hideControls();var m=a.c?300*Math.abs(d-a.c.step):0;yb(a,b,c,d);return Z(a,b,g,k,h,d,m,f).then(function(){e||a.l().enable()})}
Q.prototype.R=function(a){var b=sb(this)||this.c.video.element,c=va(this.h.win,a,{}),d=b.ownerDocument.defaultView,e=d.__AMP_TOP||(d.__AMP_TOP=d),f=d!=e;if(e.__AMP__EXPERIMENT_TOGGLES)var g=e.__AMP__EXPERIMENT_TOGGLES;else{e.__AMP__EXPERIMENT_TOGGLES=Object.create(null);g=e.__AMP__EXPERIMENT_TOGGLES;if(e.AMP_CONFIG)for(var k in e.AMP_CONFIG){var h=e.AMP_CONFIG[k];"number"===typeof h&&0<=h&&1>=h&&(g[k]=Math.random()<h)}if(e.AMP_CONFIG&&Array.isArray(e.AMP_CONFIG["allow-doc-opt-in"])&&0<e.AMP_CONFIG["allow-doc-opt-in"].length&&
(k=e.AMP_CONFIG["allow-doc-opt-in"],h=e.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){h=h.getAttribute("content").split(",");for(var m=0;m<h.length;m++)-1!=k.indexOf(h[m])&&(g[h[m]]=!0)}Object.assign(g,qa(e));if(e.AMP_CONFIG&&Array.isArray(e.AMP_CONFIG["allow-url-opt-in"])&&0<e.AMP_CONFIG["allow-url-opt-in"].length){k=e.AMP_CONFIG["allow-url-opt-in"];h=e.location.originalHash||e.location.hash;e=Object.create(null);if(h)for(var p;p=ba.exec(h);)m=aa(p[1],p[1]),p=p[2]?aa(p[2].replace(/\+/g,
" "),p[2]):"",e[m]=p;for(h=0;h<k.length;h++)m=e["e-"+k[h]],"1"==m&&(g[k[h]]=!0),"0"==m&&(g[k[h]]=!1)}}g=!!g["ampdoc-fie"];f&&!g?d=C(d,"action")?z(d,"action"):null:(d=x(b),d=y(d),d=C(d,"action")?z(d,"action"):null);d.trigger(b,a,c,1)};
function Z(a,b,c,d,e,f,g,k){function h(a){return N(a,{"transition-duration":g+"ms","transition-timing-function":Db})}function m(a){return N(a,{opacity:f})}function p(a){Eb&&N(a,{width:q+"px",height:S+"px","min-width":q+"px","min-height":S+"px"})}if(a.w&&a.w.x==c&&a.w.y==d&&a.w.scale==e){n||(n=Promise.resolve(void 0));var T=n;return T}a.J=!0;T=b.getLayoutBox();var q=T.width,S=T.height;a.w={x:c,y:d,scale:e};var Db=0<f?"ease-out":"ease-in",la=b.element,Fb=cb(la),Oa=a.X(),Gb=a.l().overlay,U=a.W(),G=a.H().icon,
Pa=void 0!==k,ma="left"==k;Pa&&(ta(G,q,hb),G.classList.toggle("amp-rtl",ma),a.l().container.classList.toggle("amp-rtl",ma));var Eb=zb(a,q,S),Qa=G.classList.contains("amp-small"),Ib=(ma?$a:Za)(q,Qa?32:48,Qa?20:40,f);b.mutateElement(function(){Fb.classList.add("i-amphtml-video-docked");N(la,{overflow:"visible"});O(Oa,!0);O(Gb,!0);b.applyFillContent(a.H().poster);b.applyFillContent(U);Ab(a,b);la.appendChild(U);vb(a,function(){b.mutateElement(function(){m(U);h(U);h(G);Pa&&N(G,{transform:"translate("+
Ib+"px, 0px) scale(1)"})})});[cb(b.element),a.X(),a.l().overlay].forEach(function(a){N(a,{transform:"translate("+c+"px, "+d+"px) scale("+e+")"});h(a);p(a)});m(Oa);a.l().positionOnVsync(e,c,d,q,S)});return A(a.h.win,"timer").promise(g).then(function(){a.J=!1})}
function Ab(a,b){var c=a.H().poster;a=b.element;if(b=a.getAttribute("poster")||a.getAttribute("data-poster"))a=b;else{if(void 0!==v)var d=v;else{try{var e=a.ownerDocument,f=e.createElement("div"),g=e.createElement("div");f.appendChild(g);d=f.querySelector(":scope div")===g}catch(m){d=!1}d=v=d}d?a=a.querySelector(ka(":scope")):(a.classList.add("i-amphtml-scoped"),d=ka(".i-amphtml-scoped"),d=a.querySelectorAll(d),a.classList.remove("i-amphtml-scoped"),a=void 0===d[0]?null:d[0]);a=a?a.getAttribute("src"):
void 0}var k=a;if(k){O(c,!0);a={"background-image":"url("+k+")"};for(var h in a)Ca(c,h,a[h])}else O(c,!1)}function zb(a,b,c){var d=!a.D||a.D.width!=b||a.D.height!=c;d&&(a.D={width:b,height:c});return d}function yb(a,b,c,d){var e=a.c;a.c={video:b,target:c,step:d};e&&e.video==b&&L(c.rect,e.target.rect)||(a.l().setVideo(b,c.rect),a.R("dock"))}function W(a,b,c){c=void 0===c?1:c;b=ub(a,b);return(ab(b)?Math.max(0,(Math.min(b.bottom,a.o.bottom)-Math.max(b.top,a.o.top))/b.height):0)>c-.02}
function rb(a,b){if(a.c&&!(a.c&&"slot"===a.c.target.type||a.J)){a.F=0;var c=E(b).x,d=a.c.target.directionX,e=ib(a.h.win,function(b){if(a.c.target.directionX===d){var e=E(b).x-c;a.F=e;if(!(10>=e)){b.preventDefault();b.stopPropagation();a.l().hide(!1,!0);a.$=!0;a.l().disable();b=a.c.video;var f=Y(a,b,a.c.target,1),g=f.x,k=f.y;f=f.scale;var q=Bb(a,e);q=Cb(a,q);a.G=e-a.P;a.P=e;Z(a,b,g+e,k,f,1,0,q)}}}),f=function(){return Hb(a,g)};b=a.h.getRootNode();var g=[Jb(a),Kb(a),Lb(a),H(b,"touchmove",e),H(b,"mousemove",
e),wa(b,"touchend",f),wa(b,"mouseup",f)]}}function Kb(a){var b=R(a).documentElement;b.classList.add("i-amphtml-select-disabled");return function(){return b.classList.remove("i-amphtml-select-disabled")}}function Jb(a){a.j.disableScroll();return a.j.resetScroll.bind(a.j)}function Lb(a){function b(a){return a.preventDefault()}var c=a.h.win;if(!A(c,"platform").isIos())return function(){};c.addEventListener("touchmove",b,{passive:!1});return function(){return c.removeEventListener("touchmove",b)}}
function Hb(a,b){b.forEach(function(a){return a.call()});a.$=!1;a.l().enable();40>Math.abs(a.G)?Mb(a,a.F):Nb(a,a.P,Math.sign(a.G));a.G=0;a.P=0;a.F=0}function Nb(a,b,c){var d=a.c.video;d.pause();if(W(a,d,.2))Ob(a,d,b,c);else{var e=a.c.target,f=e.rect,g=f.x,k=f.y;f=f.width;e=Y(a,d,e,1).scale;var h=1==c?a.o.right:a.o.left-f;b=Math.min(300,Math.abs(h-(g+b))/2);Pb(a);d.showControls();Z(a,d,h,k,e,0,b).then(function(){Qb(a,d)})}}
function Ob(a,b,c,d){var e=a.c.target,f=e.rect,g=f.x,k=f.y;f=f.width;e=Y(a,b,e,1).scale;var h=a.o.width;d=1==d?h-f:-1*(h-f);c=Math.min(300,Math.abs(d-(g+c))/2);Pb(a);Z(a,b,d,k,e,0,c).then(function(){X(a,b,!0);b.showControls()})}function Bb(a,b){var c=a.c,d=c.target,e=c.step,f=a.c.video;c=f.getLayoutBox().width;a=Y(a,f,d,e);return a.x+b+c*a.scale/2}function Mb(a,b){var c=a.c.video,d=a.c.step;b=Cb(a,b);a.A=b;var e=tb(a,c);a.c.target=e;e=Y(a,c,e,d);Z(a,c,e.x,e.y,e.scale,d,200,b)}
function Cb(a,b){return Bb(a,b)>=a.o.width/2?"right":"left"}function Y(a,b,c,d){a=ub(a,b);c=c.rect;var e=d;e=void 0===e?1:e;d=c.x<a.x?"left":"right";b=Ya(e,a.x,c.x);var f=Ya(e,a.y,c.y);a=Ya(e,a.width,c.width)/a.width;return{x:b,y:f,scale:a,relativeX:d}}
function X(a,b,c){var d=W(a,b,.85);d||(b.pause(),b.showControls());c||Pb(a);var e=Y(a,b,a.c.target,0);Z(a,b,e.x,e.y,e.scale,0,d?a.c?300*Math.abs(0-a.c.step):0:0,e.relativeX).then(function(){a:{if(a.w){var c=a.w;var d=c.x;var e=c.y;c=c.scale;var h=ub(a,b).top;if(e!=h){d=Z(a,b,d,h,c,0,Math.min(150,Math.abs(e-h)/2));break a}}d=void 0}return d}).then(function(){b.showControls();Qb(a,b)})}function Pb(a){a.l().disable();a.l().hide(!1,!0);a.R("undock")}
function Qb(a,b){var c=cb(b.element);b.mutateElement(function(){c.classList.remove("i-amphtml-video-docked");var b=a.X(),e=a.H().icon,f=a.W();O(b,!1);a.l().reset();[c,b,f,e].forEach(function(a){Ea(a,"transform transition min-width min-height width height opacity overflow".split(" "))});a.w=null;a.D=null;a.c=null})}function xb(a){(a=a.querySelector(".i-amphtml-android-poster-bug"))&&a.parentElement&&a.parentElement.removeChild(a)}
function tb(a,b){var c=sb(a);b=b.getLayoutBox();if(c){var d=c.getPageLayoutBox();a=b.width;b=b.height;c=d.top;var e=d.left,f=d.width,g=d.height;a/b>f/g?(d=f/a,c=c+g/2-b*d/2):(d=g/b,e=e+f/2-a*d/2);return{type:"slot",rect:K(e,c,a*d,b*d)}}null===a.A&&(c=R(a),c="rtl"==(c.body.getAttribute("dir")||c.documentElement.getAttribute("dir")||"ltr"),a.A=c?"left":"right");c=a.o;d=c.width;e=Math.min(30,.04*d);d=Math.max(180,.3*d);return{type:"corner",rect:K("right"==a.A?c.right-e-d:c.left+e,e,d,d/(b.width/b.height)),
directionX:a.A}}function sb(a){return(a=a.pa())&&ab(a.getPageLayoutBox())?a:null}(function(a){a.registerServiceForDoc("video-docking",Q)})(self.AMP);
})});

//# sourceMappingURL=amp-video-docking-0.1.js.map
