(self.AMP=self.AMP||[]).push({n:"amp-accordion",v:"2008290323002",f:function(AMP,_){function l(a,b=""){try{return decodeURIComponent(a)}catch(c){return b}}let m=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;let n=self.AMP_CONFIG||{},p=("string"==typeof n.cdnProxyRegex?new RegExp(n.cdnProxyRegex):n.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function q(a){if(self.document&&self.document.head&&(!self.location||!p.test(self.location.origin))){var b=self.document.head.querySelector(`meta[name="${a}"]`);b&&b.getAttribute("content")}}n.cdnUrl||q("runtime-host");n.geoApiUrl||q("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};let r=self.__AMP_LOG;function t(){if(!r.user)throw Error("failed to call initLogConstructor");return r.user}function u(){if(r.dev)return r.dev;throw Error("failed to call initLogConstructor")}function v(a,b,c){t().assert(a,b,c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}class w{constructor(){let a,b;this.promise=new Promise((c,d)=>{a=c;b=d});this.resolve=a;this.reject=b}}function x(a){return 2>a.length?!1:0==a.lastIndexOf("--",0)}function y(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);let b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){let d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){let d=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(e){let a=e.getAttribute("content").split(",");for(c=0;c<a.length;c++)-1!=d.indexOf(a[c])&&(b[a[c]]=!0)}}Object.assign(b,z(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];a=a.location.originalHash||a.location.hash;var d=Object.create(null);if(a)for(var e;e=m.exec(a);){var f=l(e[1],e[1]);e=e[2]?l(e[2].replace(/\+/g," "),e[2]):"";d[f]=e}a=d;for(d=0;d<c.length;d++)f=a[`e-${c[d]}`],"1"==f&&(b[c[d]]=!0),"0"==f&&(b[c[d]]=!1)}return b}function z(a){let b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(d){}let c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(let b=0;b<c.length;b++)0!=c[b].length&&("-"==c[b][0]?a[c[b].substr(1)]=!1:a[c[b]]=!0);return a}function A(a){let b=a.ownerDocument.defaultView,c=b.__AMP_TOP||(b.__AMP_TOP=b),d=b!=c,e=!!y(c)["ampdoc-fie"];d&&!e?a=B(b,"action")?C(b,"action"):null:(a=D(a),a=D(a),a=a.isSingleDoc()?a.win:a,a=B(a,"action")?C(a,"action"):null);return a}function E(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return C(a,b)}function D(a){return a.nodeType?E((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function C(a,b){B(a,b);{let b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});a=b}b=a[b];b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));return b.obj}function B(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function F(a,b,c){for(;a&&a!==c;a=a.parentElement)if(b(a))return a;return null}function G(a,b,c,d){let e=new H(0,0,a,b,c,d,1,1);return e.solveYValueFromXValue.bind(e)}class H{constructor(a,b,c,d,e,f,g,h){this.x0=a;this.y0=b;this.x1=c;this.y1=d;this.x2=e;this.y2=f;this.x3=g;this.y3=h}solveYValueFromXValue(a){return this.getPointY(this.solvePositionFromXValue(a))}solvePositionFromXValue(a){let b=(a-this.x0)/(this.x3-this.x0);if(0>=b)return 0;if(1<=b)return 1;let c=0,d=1,e=0;for(var f=0;8>f;f++){e=this.getPointX(b);let f=(this.getPointX(b+1e-6)-e)/1e-6;if(1e-6>Math.abs(e-a))return b;if(1e-6>Math.abs(f))break;else e<a?c=b:d=b,b-=(e-a)/f}for(f=0;1e-6<Math.abs(e-a)&&8>f;f++)e<a?(c=b,b=(b+d)/2):(d=b,b=(b+c)/2),e=this.getPointX(b);return b}getPointX(a){if(0==a)return this.x0;if(1==a)return this.x3;let b=this.lerp(this.x0,this.x1,a),c=this.lerp(this.x1,this.x2,a);let d=this.lerp(this.x2,this.x3,a);b=this.lerp(b,c,a);c=this.lerp(c,d,a);return this.lerp(b,c,a)}getPointY(a){if(0==a)return this.y0;if(1==a)return this.y3;let b=this.lerp(this.y0,this.y1,a),c=this.lerp(this.y1,this.y2,a);let d=this.lerp(this.y2,this.y3,a);b=this.lerp(b,c,a);c=this.lerp(c,d,a);return this.lerp(b,c,a)}lerp(a,b,c){return a+c*(b-a)}}var I=G(.25,.1,.25,1),J=G(.42,0,1,1),K=G(0,0,.58,1),aa=G(.42,0,.58,1);let ba={linear:function(a){return a},ease:I,"ease-in":J,"ease-out":K,"ease-in-out":aa};function L(a){if(!a)return null;if("string"==typeof a){if(-1!=a.indexOf("cubic-bezier")){var b=a.match(/cubic-bezier\((.+)\)/);if(b&&(b=b[1].split(",").map(parseFloat),4==b.length)){for(let a=0;4>a;a++)if(isNaN(b[a]))return null;return G(b[0],b[1],b[2],b[3])}return null}return ba[a]}return a}function ca(){}function da(a,b,c){var d=ea;return new M(a).setCurve(d).add(0,b,1).start(c)}class M{constructor(a,b){this.l=a;(a=b)||(a=E(self,"vsync"));this.w=a;this.D=null;this.c=[]}setCurve(a){a&&(this.D=L(a));return this}add(a,b,c,d){this.c.push({delay:a,func:b,duration:c,curve:L(d)});return this}start(a){return new fa(this.w,this.l,this.c,this.D,a)}}function N(a,b,c){if(a.A){a.A=!1;if(0!=c){1<a.c.length&&a.c.sort((a,b)=>a.delay+a.duration-(b.delay+b.duration));try{if(0<c)for(c=0;c<a.c.length;c++)a.c[c].func(1,!0);else for(let b=a.c.length-1;0<=b;b--)a.c[b].func(0,!1)}catch(d){u().error("Animation","completion failed: "+d,d),b=!1}}b?a.N():a.M()}}class fa{constructor(a,b,c,d,e){this.w=a;this.l=b;this.c=[];for(b=0;b<c.length;b++){let a=c[b];this.c.push({delay:a.delay,func:a.func,duration:a.duration,curve:a.curve||d,started:!1,completed:!1})}this.J=e;this.O=Date.now();this.A=!0;this.G={};c=new w;this.F=c.promise;this.N=c.resolve;this.M=c.reject;this.H=this.w.createAnimTask(this.l,{mutate:this.P.bind(this)});this.w.canAnimate(this.l)?this.H(this.G):N(this,!1,0)}then(a,b){return a||b?this.F.then(a,b):this.F}thenAlways(a){a=a||ca;return this.then(a,a)}halt(a){N(this,!1,a||0)}P(){if(this.A){var a=Date.now(),b=Math.min((a-this.O)/this.J,1);for(var c=0;c<this.c.length;c++){var d=this.c[c];!d.started&&b>=d.delay&&(d.started=!0)}for(c=0;c<this.c.length;c++)if(d=this.c[c],d.started&&!d.completed)a:{let a,c;if(0<d.duration){if(a=c=Math.min((b-d.delay)/d.duration,1),d.curve&&1!=a)try{a=d.curve(c)}catch(g){u().error("Animation","step curve failed: "+g,g);N(this,!1,0);break a}}else a=c=1;1==c&&(d.completed=!0);try{d.func(a,d.completed)}catch(g){u().error("Animation","step mutate failed: "+g,g),N(this,!1,0)}}1==b?N(this,!0,0):this.w.canAnimate(this.l)?this.H(this.G):N(this,!1,0)}}}let O;let P="Webkit webkit Moz moz ms O o".split(" ");function Q(a,b,c){if(x(b))return b;O||(O=Object.create(null));let d=O[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(let b=0;b<P.length;b++){let c=P[b]+e;if(void 0!==a[c]){e=c;break a}}e=""}let c=e;void 0!==a[c]&&(d=c)}c||(O[b]=d)}return d}function R(a,b,c){(b=Q(a.style,b,void 0))&&(x(b)?a.style.setProperty(b,c):a.style[b]=c)}function S(a,b){for(let c in b)R(a,c,b[c])}function T(a,b){return(c,d)=>{for(let f in b){var e=f;"display"===e&&u().error("STYLE","`display` style detected. You must use toggle instead.");R(a,e,b[f](c,d))}}}function U(a,b){return c=>a+(b-a)*c}function V(a){return b=>a(b)+"px"}let ha=G(.47,0,.745,.715),ea=G(.39,.575,.565,1);function ia(a){let b=a.element.id||a.element.getResourceId();{a=a.win.location.href;let b=a.indexOf("#");a=-1==b?a:a.substring(0,b)}return`amp-${b}-${a}`}function ja(a){if(a.C)return{};try{let b=a.win.sessionStorage.getItem(a.B);return b?JSON.parse(b):{}}catch(b){return{}}}function W(a,b){var c=b.method;let d=b.args,e=b.trust;let f=void 0;"expand"===c?f=!0:"collapse"===c&&(f=!1);if(d){let b=d.section;let c=a.getAmpDoc().getElementById(b);c=t().assertElement(c);v(c,"No element found with id: %s",b);X(a,c,e,f)}else for(c=0;c<a.j.length;c++)X(a,a.j[c],e,f)}function ka(a,b){b.forEach(b=>{let c=b.target,e=c.hasAttribute("data-expand");c.hasAttribute("expanded")!==e&&X(a,c,2,e)})}function X(a,b,c,d){var e=b.children;let f=e[0];e=e[1].getAttribute("id");let g=b.hasAttribute("expanded"),h=void 0==d?!b.hasAttribute("expanded"):d;h&&b.hasAttribute("expanded")||!h&&!b.hasAttribute("expanded")||(a.element.hasAttribute("animate")?h?(f.setAttribute("aria-expanded","true"),la(a,b,c),a.element.hasAttribute("expand-single-section")&&a.j.forEach(d=>{d!=b&&(Y(a,d,c),d.children[0].setAttribute("aria-expanded","false"))})):(f.setAttribute("aria-expanded","false"),Y(a,b,c)):a.mutateElement(()=>{h?(Z(a,"expand",b,c),b.setAttribute("expanded",""),f.setAttribute("aria-expanded","true"),a.element.hasAttribute("expand-single-section")&&a.j.forEach(d=>{d!=b&&(d.hasAttribute("expanded")&&(Z(a,"collapse",d,c),d.removeAttribute("expanded")),d.children[0].setAttribute("aria-expanded","false"))})):(Z(a,"collapse",b,c),b.removeAttribute("expanded"),f.setAttribute("aria-expanded","false"))},b),a.m[e]=!g,ma(a))}function ma(a){if(!a.C){var b=JSON.stringify(a.m);try{a.win.sessionStorage.setItem(a.B,b)}catch(c){}}}function Z(a,b,c,d){{var e=a.win;var f=`accordionSection.${b}`;var g={};let c={detail:g};Object.assign(c,void 0);"function"==typeof e.CustomEvent?f=new e.CustomEvent(f,c):(e=e.document.createEvent("CustomEvent"),e.initCustomEvent(f,!!c.bubbles,!!c.cancelable,g),f=e)}a.h.trigger(c,b,f,d);a.element.dispatchCustomEvent(b)}function la(a,b,c){let d,e,f,g,h;let k=b.children[1];a.measureMutateElement(()=>{d=b.offsetWidth;{let a=Q(k.style,"width",void 0);h=a?x(a)?k.style.getPropertyValue(a):k.style[a]:void 0}},()=>{{var a={position:"fixed",width:`${d}px`,opacity:"0"};let b=k.style;for(let c in a)b.setProperty(Q(b,c),a[c].toString(),"important")}b.hasAttribute("expanded")||b.setAttribute("expanded","")}).then(()=>a.measureMutateElement(()=>{e=b.offsetHeight;f=k.offsetHeight;let c=a.getViewport().getHeight();g=Math.min(Math.max(Math.abs(Math.abs(f))/c*500,200),500)},()=>{S(b,{overflow:"hidden",height:`${e}px`});S(k,{position:"",opacity:"",width:h})})).then(()=>{let d=new M(a.element);d.setCurve(ha);d.add(0,T(b,{height:V(U(e,e+f))}),1);d.add(0,T(k,{opacity:U(0,1)}),1);return d.start(g).thenAlways(()=>{a.mutateElement(()=>{Z(a,"expand",b,c);S(b,{overflow:"",height:""});S(k,{opacity:""})})})})}function Y(a,b,c){let d,e,f;let g=b.firstElementChild;a.measureMutateElement(()=>{d=b.offsetHeight;e=g.offsetHeight;let c=a.getViewport().getSize().height;f=Math.min(Math.max(Math.abs(Math.abs(d))/c*500,200),500)},()=>{S(b,{overflow:"hidden"})}).then(()=>da(b,T(b,{height:V(U(d,e))}),f).thenAlways(()=>a.mutateElement(()=>{b.hasAttribute("expanded")&&(Z(a,"collapse",b,c),b.removeAttribute("expanded"));S(b,{height:"",overflow:""})})))}function na(a,b){let c=b.target;b=b.currentTarget;let d=!!F(c,a=>"A"==a.tagName,b),e=a.h.hasAction(c,"tap",b);return!d&&!e}class oa extends AMP.BaseElement{constructor(a){super(a);this.o=[];this.m=this.B=null;this.C=!1;this.h=this.j=null;this.L=a.id?a.id:Math.floor(100*Math.random())}isLayoutSupported(a){return"container"==a}prerenderAllowed(){return!0}buildCallback(){this.h=A(this.element);this.C=this.element.hasAttribute("disable-session-states");this.B=ia(this);this.m=ja(this);this.j=this.getRealChildren();this.j.forEach((a,b)=>{v("section"==a.tagName.toLowerCase(),"Sections should be enclosed in a <section> tag, See https://github.com/ampproject/amphtml/blob/master/extensions/amp-accordion/amp-accordion.md. Found in: %s",this.element);let c=a.children;v(2==c.length,"Each section must have exactly two children. See https://github.com/ampproject/amphtml/blob/master/extensions/amp-accordion/amp-accordion.md. Found in: %s",this.element);let d=c[1];d.classList.add("i-amphtml-accordion-content");let e=d.getAttribute("id");e||(e=this.L+"_AMP_content_"+b,d.setAttribute("id",e));this.registerAction("toggle",a=>W(this,a));this.registerAction("expand",a=>W(this,a));this.registerAction("collapse",a=>W(this,a));this.h.addToAllowlist("amp-accordion",["toggle","expand","collapse"],["email"]);new this.win.MutationObserver(a=>{ka(this,a)}).observe(a,{attributes:!0,attributeFilter:["data-expand"]});this.m[e]?a.setAttribute("expanded",""):!1===this.m[e]&&a.removeAttribute("expanded");this.mutateElement(()=>{});let f=a.hasAttribute("expanded");b=c[0];b.classList.add("i-amphtml-accordion-header");b.setAttribute("role","button");b.setAttribute("aria-controls",e);b.setAttribute("aria-expanded",String(f));b.hasAttribute("tabindex")||b.setAttribute("tabindex",0);this.o.push(b);v(0==this.h.hasAction(b,"tap",a),"amp-accordion headings should not have tap actions registered.");b.addEventListener("click",this.I.bind(this));b.addEventListener("keydown",this.K.bind(this));y(this.win)["amp-accordion-display-locking"]&&"CSS"in window&&window.CSS.supports&&window.CSS.supports("content-visibility","hidden-matchable")&&(this.element.classList.add("i-amphtml-display-locking"),d.addEventListener("beforematch",()=>{X(this,a,3,!0)}))})}I(a){na(this,a)&&(a.preventDefault(),X(this,a.currentTarget.parentElement,3))}K(a){if(!a.defaultPrevented)switch(a.key){case"ArrowUp":case"ArrowDown":{let b=this.o.indexOf(a.currentTarget);if(-1!==b){a.preventDefault();a=(b+("ArrowUp"==a.key?-1:1))%this.o.length;0>a&&(a+=this.o.length);try{this.o[a].focus()}catch(c){}}}break;case"Enter":case" ":a.target==a.currentTarget&&(a.preventDefault(),X(this,a.currentTarget.parentElement,3))}}R(){return this.h}}(a=>{a.registerElement("amp-accordion",oa,".i-amphtml-accordion-content,.i-amphtml-accordion-header{margin:0}.i-amphtml-accordion-header{cursor:pointer;background-color:#efefef;padding-right:20px;border:1px solid #dfdfdf}amp-accordion.i-amphtml-display-locking>section:not([expanded])>:last-child,amp-accordion.i-amphtml-display-locking>section:not([expanded])>:last-child *{content-visibility:hidden-matchable!important;display:block!important}amp-accordion>section:not([expanded]) .i-amphtml-media-component,amp-accordion>section:not([expanded]) .i-amphtml-media-component *{display:none!important;visibility:hidden!important}\n/*# sourceURL=/extensions/amp-accordion/0.1/amp-accordion.css*/")})(self.AMP)}});